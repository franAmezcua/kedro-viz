(this["webpackJsonp@quantumblack/kedro-viz"]=this["webpackJsonp@quantumblack/kedro-viz"]||[]).push([[0],{178:function(e,t,a){},197:function(e){e.exports=JSON.parse('{"edges":[{"source":"9d989e8d","target":"15586b7a"},{"source":"518ed240","target":"15586b7a"},{"source":"0ae9e4de","target":"15586b7a"},{"source":"09f5edeb","target":"15586b7a"},{"source":"15586b7a","target":"2cd4ba93"},{"source":"15586b7a","target":"fac8f1a3"},{"source":"e4951252","target":"443cf06a"},{"source":"c38d4c6a","target":"443cf06a"},{"source":"f1f1425b","target":"443cf06a"},{"source":"9d989e8d","target":"443cf06a"},{"source":"443cf06a","target":"6525f2e6"},{"source":"443cf06a","target":"091b5035"},{"source":"735bde08","target":"2ce32881"},{"source":"46734c62","target":"2ce32881"},{"source":"9d8a4d91","target":"2ce32881"},{"source":"2ce32881","target":"5f7e0e20"},{"source":"a761759c","target":"c8c182ec"},{"source":"24e06541","target":"c8c182ec"},{"source":"c8c182ec","target":"0049a504"},{"source":"c3p345ed","target":"0049a504"}],"layers":["raw","feature","model output","primary"],"modular_pipelines":[{"id":"nested","name":"Nested"},{"id":"pipeline1","name":"Pipeline1"},{"id":"pipeline1.data_engineering","name":"Data Engineering"},{"id":"pipeline1.data_science","name":"Data Science"},{"id":"pipeline2","name":"Pipeline2"},{"id":"pipeline2.data_science","name":"Data Science"}],"nodes":[{"full_name":"shark","id":"15586b7a","modular_pipelines":["pipeline1","pipeline1.data_engineering"],"name":"shark","pipelines":["de","__default__"],"tags":["large","medium"],"type":"task","parameters":{}},{"full_name":"salmon","id":"443cf06a","modular_pipelines":[],"name":"salmon","pipelines":["de","__default__"],"tags":["small"],"type":"task","parameters":{}},{"full_name":"bear","id":"09f5edeb","layer":"raw","name":"Bear","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"cat","id":"9d989e8d","layer":"raw","name":"Cat","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["large","medium","small"],"type":"data","dataset_type":null},{"full_name":"dog","id":"e4951252","layer":null,"name":"Dog","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["small"],"type":"data"},{"full_name":"elephant","id":"0ae9e4de","layer":"raw","name":"Elephant","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"giraffe","id":"fac8f1a3","layer":"model output","name":"Giraffe","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"horse","id":"091b5035","layer":"model output","name":"Horse","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["small"],"type":"data"},{"full_name":"nested.weasel","id":"518ed240","layer":"raw","modular_pipelines":["nested"],"name":"Nested.weasel","pipelines":["de","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"parameters","id":"f1f1425b","layer":null,"name":"Parameters","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["small"],"type":"parameters"},{"full_name":"params:rabbit","id":"c38d4c6a","layer":null,"name":"Params:rabbit","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["small"],"type":"parameters"},{"full_name":"bull","id":"c3p345ed","layer":"model output","name":"Bull","dataset_type":"kedro.extras.datasets.plotly.plotly_dataset.PlotlyDataSet","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["small"],"type":"data"},{"full_name":"pig","id":"2cd4ba93","layer":"feature","name":"Pig","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["large","medium"],"type":"data"},{"full_name":"sheep","id":"6525f2e6","layer":"primary","name":"Sheep","modular_pipelines":[],"pipelines":["de","__default__"],"tags":["small"],"type":"data"},{"full_name":"tuna","id":"2ce32881","modular_pipelines":["pipeline1","pipeline1.data_science"],"name":"tuna","pipelines":["pre_ds","__default__"],"tags":[],"type":"task","parameters":{}},{"full_name":"params:pipeline100.data_science.plankton","id":"9d8a4d91","layer":null,"modular_pipelines":[],"name":"Params:pipeline100.data Science.plankton","pipelines":["pre_ds","__default__"],"tags":[],"type":"parameters"},{"full_name":"params:pipeline2.data_science.plankton","id":"46734c62","layer":null,"modular_pipelines":["pipeline2","pipeline2.data_science"],"name":"Params:pipeline2.data Science.plankton","pipelines":["pre_ds","__default__"],"tags":[],"type":"parameters"},{"full_name":"pipeline1.data_science.dolphin","id":"5f7e0e20","layer":null,"name":"Pipeline1.data Science.dolphin","pipelines":["pre_ds","__default__"],"modular_pipelines":["pipeline1","pipeline1.data_science"],"tags":[],"type":"data"},{"full_name":"pipeline1.data_science.sheep","id":"735bde08","layer":null,"modular_pipelines":["pipeline1","pipeline1.data_science"],"name":"Pipeline1.data Science.sheep","pipelines":["pre_ds","__default__"],"tags":[],"type":"data"},{"full_name":"trout","id":"c8c182ec","modular_pipelines":["pipeline2","pipeline2.data_science"],"name":"trout","pipelines":["ds","__default__"],"tags":[],"type":"task","parameters":{}},{"full_name":"pipeline2.data_science.pig","id":"a761759c","layer":null,"modular_pipelines":["pipeline2","pipeline2.data_science"],"name":"Pipeline2.data Science.pig","pipelines":["ds","__default__"],"tags":[],"type":"data"},{"full_name":"pipeline2.data_science.sheep","id":"24e06541","layer":null,"modular_pipelines":["pipeline2","pipeline2.data_science"],"name":"Pipeline2.data Science.sheep","pipelines":["ds","__default__"],"tags":[],"type":"data"},{"full_name":"pipeline2.data_science.whale","id":"0049a504","layer":"model output","name":"Pipeline2.data Science.whale","modular_pipelines":["pipeline2","pipeline2.data_science"],"pipelines":["ds","__default__"],"tags":[],"type":"data"}],"pipelines":[{"id":"de","name":"De"},{"id":"pre_ds","name":"Pre Ds"},{"id":"ds","name":"Ds"},{"id":"__default__","name":"Default"},{"id":"empty","name":"Empty"}],"selected_pipeline":"__default__","tags":[{"id":"large","name":"Large"},{"id":"medium","name":"Medium"},{"id":"small","name":"Small"}]}')},198:function(e){e.exports=JSON.parse('{"edges":[{"source":"05877538","target":"3464b488"},{"source":"d02bfec9","target":"f7082f22"},{"source":"53578014","target":"4b7d240f"},{"source":"a771381b","target":"700b6aec"},{"source":"6d5873ac","target":"2978a7f5"},{"source":"3f69a9b8","target":"ddc6c97b"},{"source":"f8948258","target":"e9c51d85"},{"source":"690d415b","target":"42d73649"},{"source":"94dd8ecd","target":"0298a817"},{"source":"d7ff3fc5","target":"690d415b"},{"source":"d9a62050","target":"fa4ebf1b"},{"source":"456488de","target":"7d7e1704"},{"source":"0c78911d","target":"aebdea6c"},{"source":"ef57a1fc","target":"88c843ae"},{"source":"3f156da8","target":"666587bd"},{"source":"a57429e5","target":"210adac8"},{"source":"53578014","target":"d1733133"},{"source":"e4821861","target":"d1733133"},{"source":"88c843ae","target":"ee508f00"},{"source":"843b0b03","target":"0bc424f4"},{"source":"53578014","target":"089a8e9a"},{"source":"55758695","target":"d3f3241a"},{"source":"53578014","target":"8835772a"},{"source":"514660c5","target":"24710762"},{"source":"63186f26","target":"22cfe9cd"},{"source":"6d5873ac","target":"1d7fffba"},{"source":"5d57686d","target":"11a72273"},{"source":"53578014","target":"bf435119"},{"source":"593a4f96","target":"eb1aa767"},{"source":"c81ae4f9","target":"44bc2d21"},{"source":"1f876261","target":"a57429e5"},{"source":"e9c51d85","target":"10ce7f66"},{"source":"7ba4e963","target":"bf435119"},{"source":"4b7d240f","target":"6ffb551a"},{"source":"31fb7cc8","target":"62e203cf"},{"source":"53578014","target":"b4716bd3"},{"source":"62e203cf","target":"dec9c820"},{"source":"93d3a479","target":"63186f26"},{"source":"456488de","target":"516628d2"},{"source":"6d5873ac","target":"72ac6e43"},{"source":"6ac1368f","target":"7d43885c"},{"source":"6ac1368f","target":"aebdea6c"},{"source":"ae9b6150","target":"2ea5719f"},{"source":"85d157bf","target":"dd5a69ac"},{"source":"073606b6","target":"7397d2dc"},{"source":"c9058d39","target":"c329efd1"},{"source":"3a324d9a","target":"4cdfef0b"},{"source":"53578014","target":"7d43885c"},{"source":"eb1aa767","target":"2d3c0374"},{"source":"6ac1368f","target":"74555d8b"},{"source":"3f69a9b8","target":"16cae681"},{"source":"72ac6e43","target":"d7ff3fc5"},{"source":"53578014","target":"eb1aa767"},{"source":"d1733133","target":"24c3ce33"},{"source":"95cd6bf9","target":"6d337a84"},{"source":"6fd8074d","target":"0298a817"},{"source":"aebdea6c","target":"a12a727e"},{"source":"53578014","target":"0298a817"},{"source":"53578014","target":"11a72273"},{"source":"7d7e1704","target":"cf7dcb8f"},{"source":"f23452a4","target":"c329efd1"},{"source":"eefd807e","target":"fe81cbe2"},{"source":"f8948258","target":"d89b2a45"},{"source":"f8948258","target":"68d6f757"},{"source":"bf34f92f","target":"87d52565"},{"source":"b46c6fb9","target":"c329efd1"},{"source":"cf7dcb8f","target":"2978a7f5"},{"source":"7a162ddc","target":"a57429e5"},{"source":"f4cccc1a","target":"74555d8b"},{"source":"516628d2","target":"d9a62050"},{"source":"7178598e","target":"a8bef9b5"},{"source":"e6c1e1d0","target":"68d6f757"},{"source":"3a324d9a","target":"e4821861"},{"source":"53578014","target":"55758695"},{"source":"2e97b838","target":"089a8e9a"},{"source":"d1733133","target":"70c65095"},{"source":"2d3c0374","target":"a8bef9b5"},{"source":"0613286f","target":"690d415b"},{"source":"c0020a3e","target":"320ef4e8"},{"source":"53578014","target":"22cfe9cd"},{"source":"54e2783c","target":"a624849b"},{"source":"e87168af","target":"906b727f"},{"source":"2978a7f5","target":"eefd807e"},{"source":"7397d2dc","target":"3a8062a5"},{"source":"456488de","target":"88c843ae"},{"source":"16cae681","target":"54e2783c"},{"source":"7178598e","target":"aebdea6c"},{"source":"456488de","target":"502829ed"},{"source":"53578014","target":"93d3a479"},{"source":"0c78911d","target":"7d43885c"},{"source":"845526ea","target":"05877538"},{"source":"7d43885c","target":"31cb9133"},{"source":"ee95fd1e","target":"a624849b"},{"source":"e6c1e1d0","target":"c0020a3e"},{"source":"d2fb21a0","target":"1d7fffba"},{"source":"d1733133","target":"7ba4e963"},{"source":"53578014","target":"e9c51d85"},{"source":"bf1ae95c","target":"ddc6c97b"},{"source":"3f69a9b8","target":"31fb7cc8"},{"source":"98b533a3","target":"a624849b"},{"source":"8835772a","target":"61ffca7f"},{"source":"6ac1368f","target":"ed0ecc71"},{"source":"893a3f7f","target":"d2fb21a0"},{"source":"d3f3241a","target":"bf435119"},{"source":"988261ac","target":"c81ae4f9"},{"source":"f44bd53f","target":"a99c5c0f"},{"source":"1f876261","target":"b99ee270"},{"source":"456488de","target":"24710762"},{"source":"87d52565","target":"4d95b087"},{"source":"1f876261","target":"87d52565"},{"source":"3a324d9a","target":"bc92116e"},{"source":"7f91c2cc","target":"95cd6bf9"},{"source":"089a8e9a","target":"c9058d39"},{"source":"3db9b130","target":"f8e6b6f3"},{"source":"f8e6b6f3","target":"75ac4a66"},{"source":"089a8e9a","target":"9a97cfe0"},{"source":"6ffb551a","target":"ed0ecc71"},{"source":"1f876261","target":"666587bd"},{"source":"d89b2a45","target":"fe300198"},{"source":"3a8062a5","target":"502829ed"},{"source":"3526f0b5","target":"16cae681"},{"source":"d28f4db6","target":"ec0ad2a0"},{"source":"f4cccc1a","target":"ed0ecc71"},{"source":"1f876261","target":"9c13d89f"},{"source":"4d95b087","target":"ce9f17e7"},{"source":"ed0ecc71","target":"e87168af"},{"source":"e4821861","target":"0298a817"},{"source":"c58671fa","target":"bf435119"},{"source":"94dd8ecd","target":"d1733133"},{"source":"44bc2d21","target":"f8d4e465"},{"source":"9a97cfe0","target":"c329efd1"},{"source":"bf435119","target":"19040e7c"},{"source":"53578014","target":"7be9f72e"},{"source":"721854e3","target":"c0020a3e"},{"source":"5540a3fb","target":"22cfe9cd"},{"source":"2e97b838","target":"e9c51d85"},{"source":"fe81cbe2","target":"593a4f96"},{"source":"53578014","target":"d89b2a45"},{"source":"53578014","target":"68d6f757"},{"source":"24710762","target":"ef57a1fc"},{"source":"906b727f","target":"614a4cd8"},{"source":"1d7fffba","target":"f4cccc1a"},{"source":"ce869767","target":"3a324d9a"},{"source":"e6c1e1d0","target":"089a8e9a"},{"source":"86b7300b","target":"0bc424f4"},{"source":"53578014","target":"b10165f4"},{"source":"68d6f757","target":"f23452a4"},{"source":"1f876261","target":"988261ac"},{"source":"b7c5a4e0","target":"55758695"},{"source":"c0020a3e","target":"9b9921db"},{"source":"2ea5719f","target":"94dd8ecd"},{"source":"0a1be393","target":"277dc1ee"},{"source":"f8948258","target":"c0020a3e"},{"source":"b10165f4","target":"6d5873ac"},{"source":"53578014","target":"893a3f7f"},{"source":"74555d8b","target":"85d157bf"},{"source":"3f69a9b8","target":"845526ea"},{"source":"53578014","target":"2978a7f5"},{"source":"b633dd0b","target":"0bc424f4"},{"source":"42d73649","target":"4b7d240f"},{"source":"70c65095","target":"55758695"},{"source":"2d3c0374","target":"7d43885c"},{"source":"53578014","target":"3a324d9a"},{"source":"10ce7f66","target":"c329efd1"},{"source":"47800056","target":"3464b488"},{"source":"fa4ebf1b","target":"514660c5"},{"source":"22cfe9cd","target":"7178598e"},{"source":"c3f72bfd","target":"93d3a479"},{"source":"5540a3fb","target":"1d7fffba"},{"source":"e87168af","target":"74555d8b"},{"source":"602f06fc","target":"721854e3"},{"source":"05877538","target":"a624849b"},{"source":"31cb9133","target":"35336154"},{"source":"3f69a9b8","target":"7a65da0d"},{"source":"e9c51d85","target":"dc0abb8b"},{"source":"6d337a84","target":"3464b488"},{"source":"53578014","target":"1d7fffba"},{"source":"54e2783c","target":"3464b488"},{"source":"94dd8ecd","target":"55758695"},{"source":"ee508f00","target":"e3fadeda"},{"source":"dec14f64","target":"8835772a"},{"source":"456488de","target":"fa4ebf1b"},{"source":"f7082f22","target":"dec14f64"},{"source":"1f876261","target":"44bc2d21"},{"source":"b4716bd3","target":"c3f72bfd"},{"source":"fe300198","target":"e9c51d85"},{"source":"ff79c0d9","target":"d28f4db6"},{"source":"f8d4e465","target":"9c13d89f"},{"source":"1f876261","target":"93d3a479"},{"source":"53578014","target":"c329efd1"},{"source":"dd5a69ac","target":"a4d73089"},{"source":"d6744468","target":"71a945b5"},{"source":"b83dff93","target":"b99ee270"},{"source":"ee95fd1e","target":"3464b488"},{"source":"11a72273","target":"5540a3fb"},{"source":"6d5873ac","target":"22cfe9cd"},{"source":"8499cb24","target":"d6744468"},{"source":"0e9ed868","target":"2596e632"},{"source":"a12a727e","target":"35336154"},{"source":"24c3ce33","target":"55758695"},{"source":"61ffca7f","target":"b10165f4"},{"source":"f23452a4","target":"3a324d9a"},{"source":"c8f70ca9","target":"073606b6"},{"source":"a229cbdc","target":"7d7e1704"},{"source":"35336154","target":"ae9b6150"},{"source":"a4d73089","target":"602f06fc"},{"source":"f8948258","target":"089a8e9a"},{"source":"456488de","target":"b10165f4"},{"source":"4bd93139","target":"b4716bd3"},{"source":"1161a87b","target":"2978a7f5"},{"source":"6ac1368f","target":"a8bef9b5"},{"source":"6ac1368f","target":"906b727f"},{"source":"0bc424f4","target":"4faa7a1e"},{"source":"53578014","target":"906b727f"},{"source":"73930ef2","target":"ff79c0d9"},{"source":"614a4cd8","target":"dd5a69ac"},{"source":"ca959a2d","target":"ff79c0d9"},{"source":"12ee06f3","target":"f44bd53f"},{"source":"53578014","target":"7d7e1704"},{"source":"1f876261","target":"ce9f17e7"},{"source":"9c13d89f","target":"0a1be393"},{"source":"456488de","target":"f7082f22"},{"source":"502829ed","target":"d02bfec9"},{"source":"456488de","target":"c8f70ca9"},{"source":"210adac8","target":"988261ac"},{"source":"6ffb551a","target":"906b727f"},{"source":"4faa7a1e","target":"d89b2a45"},{"source":"a8bef9b5","target":"0c78911d"},{"source":"c329efd1","target":"b7bde39a"},{"source":"ec0ad2a0","target":"861c59bf"},{"source":"666587bd","target":"bf34f92f"},{"source":"53578014","target":"277dc1ee"},{"source":"a4d73089","target":"c329efd1"},{"source":"861c59bf","target":"c8f70ca9"},{"source":"1161a87b","target":"72ac6e43"},{"source":"3f69a9b8","target":"95cd6bf9"},{"source":"53578014","target":"c0020a3e"},{"source":"53578014","target":"aebdea6c"},{"source":"24c3ce33","target":"bf435119"},{"source":"ce9f17e7","target":"4bd93139"},{"source":"0298a817","target":"9eb96a09"},{"source":"e87168af","target":"dd5a69ac"},{"source":"d2fb21a0","target":"11a72273"},{"source":"53578014","target":"74555d8b"},{"source":"700b6aec","target":"7a162ddc"},{"source":"e3fadeda","target":"a229cbdc"},{"source":"9b9921db","target":"c329efd1"},{"source":"3d29088c","target":"845526ea"},{"source":"b99ee270","target":"3f156da8"},{"source":"b5b5b6b2","target":"7a65da0d"},{"source":"73930ef2","target":"2596e632"},{"source":"53578014","target":"e3fadeda"},{"source":"ddc6c97b","target":"ee95fd1e"},{"source":"048b398b","target":"602f06fc"},{"source":"53578014","target":"72ac6e43"},{"source":"0613286f","target":"fe81cbe2"},{"source":"602f06fc","target":"2e97b838"},{"source":"1f876261","target":"893a3f7f"},{"source":"2996dd8e","target":"893a3f7f"},{"source":"6d5873ac","target":"7be9f72e"},{"source":"778c88c9","target":"31fb7cc8"},{"source":"a4d73089","target":"68d6f757"},{"source":"dec9c820","target":"b83dff93"},{"source":"e9c51d85","target":"e6c1e1d0"},{"source":"277dc1ee","target":"2996dd8e"},{"source":"ff79c0d9","target":"12ee06f3"},{"source":"7ba4e963","target":"55758695"},{"source":"f23452a4","target":"0298a817"},{"source":"a99c5c0f","target":"516628d2"},{"source":"f38b4714","target":"7be9f72e"},{"source":"7be9f72e","target":"1161a87b"},{"source":"31fb7cc8","target":"a771381b"},{"source":"d1733133","target":"b7c5a4e0"},{"source":"456488de","target":"7397d2dc"},{"source":"0c78911d","target":"35336154"},{"source":"94dd8ecd","target":"3a324d9a"},{"source":"6d337a84","target":"a624849b"}],"layers":["raw","intermediate","primary","feature","model_input","models","model_output"],"modular_pipelines":[{"id":"factory","name":"Factory"},{"id":"factory.impute","name":"Impute"},{"id":"factory.pandas_profiling","name":"Pandas Profiling"},{"id":"factory.split","name":"Split"},{"id":"factory_test","name":"Factory Test"},{"id":"factory_test.clean","name":"Clean"},{"id":"factory_test.impute","name":"Impute"},{"id":"factory_test.on_off_logic","name":"On Off Logic"},{"id":"factory_train","name":"Factory Train"},{"id":"factory_train.clean","name":"Clean"},{"id":"factory_train.impute","name":"Impute"},{"id":"factory_train.on_off_logic","name":"On Off Logic"},{"id":"in_out","name":"In Out"},{"id":"in_out.impute","name":"Impute"},{"id":"in_out.pandas_profiling","name":"Pandas Profiling"},{"id":"in_out.split","name":"Split"},{"id":"in_out_test","name":"In Out Test"},{"id":"in_out_test.clean","name":"Clean"},{"id":"in_out_test.impute","name":"Impute"},{"id":"in_out_train","name":"In Out Train"},{"id":"in_out_train.clean","name":"Clean"},{"id":"in_out_train.impute","name":"Impute"},{"id":"recommend","name":"Recommend"},{"id":"sensitivity","name":"Sensitivity"},{"id":"test","name":"Test"},{"id":"test.create_features","name":"Create Features"},{"id":"test.create_features.factory_test_with_off_equipment_to_zero","name":"Factory Test With Off Equipment To Zero"},{"id":"test.create_features.in_out_test_imputed","name":"In Out Test Imputed"},{"id":"train","name":"Train"},{"id":"train.create_features","name":"Create Features"},{"id":"train.create_features.factory_train_with_off_equipment_to_zero","name":"Factory Train With Off Equipment To Zero"},{"id":"train.create_features.in_out_train_imputed","name":"In Out Train Imputed"},{"id":"train.train_model","name":"Train Model"},{"id":"uplift","name":"Uplift"}],"nodes":[{"full_name":"data_profiling_pandas","id":"2596e632","modular_pipelines":["factory","factory.pandas_profiling"],"name":"Data Profiling Pandas","parameters":{"pandas_profiling.factory":{"config_report":{"minimal":true,"title":"Shuttle Factory"},"data_name":"factory","profiling_dir":"data/base/use_cases/factory_demo/pandas_profiling/"}},"pipelines":["pandas_profiling","__default__"],"tags":["data-engineering","eda"],"type":"task"},{"dataset_type":null,"full_name":"params:pandas_profiling.factory","id":"0e9ed868","layer":null,"modular_pipelines":[],"name":"Params:pandas Profiling.factory","pipelines":["pandas_profiling","__default__"],"tags":["data-engineering","eda"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pandas.csv_dataset.CSVDataSet","full_name":"factory_historic","id":"73930ef2","layer":"raw","modular_pipelines":[],"name":"Factory Historic","pipelines":["pandas_profiling","split","__default__"],"tags":["data-science","eda","pre-processing","data-engineering"],"type":"data"},{"full_name":"data_profiling_pandas","id":"7a65da0d","modular_pipelines":["in_out","in_out.pandas_profiling"],"name":"Data Profiling Pandas","parameters":{"pandas_profiling.in_out":{"config_report":{"minimal":true,"title":"Shuttle Factory"},"data_name":"in_out","profiling_dir":"data/base/use_cases/factory_demo/pandas_profiling/"}},"pipelines":["pandas_profiling","__default__"],"tags":["data-engineering","eda"],"type":"task"},{"dataset_type":null,"full_name":"params:pandas_profiling.in_out","id":"b5b5b6b2","layer":null,"modular_pipelines":[],"name":"Params:pandas Profiling.in Out","pipelines":["pandas_profiling","__default__"],"tags":["data-engineering","eda"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pandas.csv_dataset.CSVDataSet","full_name":"in_out_historic","id":"3f69a9b8","layer":"raw","modular_pipelines":[],"name":"In Out Historic","pipelines":["pandas_profiling","eda","split","__default__"],"tags":["data-science","visualisation","eda","pre-processing","data-engineering","reporting"],"type":"data"},{"full_name":"box_plot","id":"16cae681","modular_pipelines":[],"name":"Box Plot","parameters":{"eda.in_out.box_plot":{"by":{"bins":5,"column":"cu_content"},"column":"outp_quantity","figsize":[16,9],"subtitle":"Shown by Copper Content","title":"Output Quantity","x_label":"Copper Content","y_label":"Output Quantity"}},"pipelines":["eda","__default__"],"tags":["visualisation","reporting"],"type":"task"},{"dataset_type":null,"full_name":"params:eda.in_out.box_plot","id":"3526f0b5","layer":null,"modular_pipelines":[],"name":"Params:eda.in Out.box Plot","pipelines":["eda","__default__"],"tags":["visualisation","reporting"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"box_plot","id":"54e2783c","layer":null,"modular_pipelines":[],"name":"Box Plot","pipelines":["eda","__default__"],"tags":["notebooks","visualisation","reporting"],"type":"data"},{"full_name":"correlation_plot","id":"95cd6bf9","modular_pipelines":[],"name":"Correlation Plot","parameters":{"eda.in_out.correlation_plot":{"figsize":[16,9],"mask":true,"method":"pearson","title":"Model Feature Correlations"}},"pipelines":["eda","__default__"],"tags":["visualisation","reporting"],"type":"task"},{"dataset_type":null,"full_name":"params:eda.in_out.correlation_plot","id":"7f91c2cc","layer":null,"modular_pipelines":[],"name":"Params:eda.in Out.correlation Plot","pipelines":["eda","__default__"],"tags":["visualisation","reporting"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"correlation_plot","id":"6d337a84","layer":null,"modular_pipelines":[],"name":"Correlation Plot","pipelines":["eda","__default__"],"tags":["notebooks","visualisation","reporting"],"type":"data"},{"full_name":"density_plot","id":"845526ea","modular_pipelines":[],"name":"Density Plot","parameters":{"eda.in_out.density_plot":{"columns":["inp_quantity","outp_quantity"],"figsize":[16,9],"title":"In / Out Density"}},"pipelines":["eda","__default__"],"tags":["visualisation","reporting"],"type":"task"},{"dataset_type":null,"full_name":"params:eda.in_out.density_plot","id":"3d29088c","layer":null,"modular_pipelines":[],"name":"Params:eda.in Out.density Plot","pipelines":["eda","__default__"],"tags":["visualisation","reporting"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"density_plot","id":"05877538","layer":null,"modular_pipelines":[],"name":"Density Plot","pipelines":["eda","__default__"],"tags":["notebooks","visualisation","reporting"],"type":"data"},{"full_name":"eda.generate_notebook","id":"a624849b","modular_pipelines":[],"name":"Eda.generate Notebook","parameters":{"eda.notebook":{"author":"Shuttle Factory","output_file":"data/base/use_cases/factory_demo/eda/eda.ipynb","subject":"Shuttle Factory EDA Report","title":"EDA Report"}},"pipelines":["eda","__default__"],"tags":["reporting","notebooks"],"type":"task"},{"dataset_type":null,"full_name":"params:eda.notebook","id":"98b533a3","layer":null,"modular_pipelines":[],"name":"Params:eda.notebook","pipelines":["eda","__default__"],"tags":["reporting","notebooks"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"scatter_plot","id":"ee95fd1e","layer":null,"modular_pipelines":[],"name":"Scatter Plot","pipelines":["eda","__default__"],"tags":["notebooks","visualisation","reporting"],"type":"data"},{"full_name":"eda.generate_pdf","id":"3464b488","modular_pipelines":[],"name":"Eda.generate Pdf","parameters":{"eda.pdf":{"author":"Shuttle Factory","output_path":"data/base/use_cases/factory_demo/eda","report_name":"eda","subject":"Shuttle Factory EDA Report","timestamp":true,"title":"EDA Report"}},"pipelines":["eda","__default__"],"tags":["reporting"],"type":"task"},{"dataset_type":null,"full_name":"params:eda.pdf","id":"47800056","layer":null,"modular_pipelines":[],"name":"Params:eda.pdf","pipelines":["eda","__default__"],"tags":["reporting"],"type":"parameters"},{"full_name":"scatter_plot","id":"ddc6c97b","modular_pipelines":[],"name":"Scatter Plot","parameters":{"eda.in_out.scatter_plot":{"color_col":"cu_content","figsize":[16,9],"title":"In / Out Quantity","x_col":"inp_quantity","y_col":"outp_quantity"}},"pipelines":["eda","__default__"],"tags":["visualisation","reporting"],"type":"task"},{"dataset_type":null,"full_name":"params:eda.in_out.scatter_plot","id":"bf1ae95c","layer":null,"modular_pipelines":[],"name":"Params:eda.in Out.scatter Plot","pipelines":["eda","__default__"],"tags":["visualisation","reporting"],"type":"parameters"},{"full_name":"split_data","id":"ff79c0d9","modular_pipelines":["factory","factory.split"],"name":"Split Data","parameters":{"split.factory":{"datetime_col":"time_col","datetime_val":"2001-04-26T03:59:59","train_split_fract":0.9,"type":"frac"}},"pipelines":["split","__default__"],"tags":["pre-processing","data-science"],"type":"task"},{"dataset_type":null,"full_name":"params:split.factory","id":"ca959a2d","layer":null,"modular_pipelines":[],"name":"Params:split.factory","pipelines":["split","__default__"],"tags":["pre-processing","data-science"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_test","id":"12ee06f3","layer":"intermediate","modular_pipelines":[],"name":"Factory Test","pipelines":["split","clean","__default__"],"tags":["data-science","data-eng","pre-processing"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_train","id":"d28f4db6","layer":"intermediate","modular_pipelines":[],"name":"Factory Train","pipelines":["split","clean","__default__"],"tags":["data-science","data-eng","pre-processing"],"type":"data"},{"full_name":"split_data","id":"31fb7cc8","modular_pipelines":["in_out","in_out.split"],"name":"Split Data","parameters":{"split.in_out":{"datetime_col":"status_time","datetime_val":"2001-04-26T03:59:59","train_split_fract":0.9,"type":"frac"}},"pipelines":["split","__default__"],"tags":["pre-processing","data-science"],"type":"task"},{"dataset_type":null,"full_name":"params:split.in_out","id":"778c88c9","layer":null,"modular_pipelines":[],"name":"Params:split.in Out","pipelines":["split","__default__"],"tags":["pre-processing","data-science"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"in_out_test","id":"62e203cf","layer":"intermediate","modular_pipelines":[],"name":"In Out Test","pipelines":["split","clean","__default__"],"tags":["data-science","data-eng","pre-processing"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"in_out_train","id":"a771381b","layer":"intermediate","modular_pipelines":[],"name":"In Out Train","pipelines":["split","clean","__default__"],"tags":["data-science","data-eng","pre-processing"],"type":"data"},{"full_name":"drop_duplicates","id":"88c843ae","modular_pipelines":["factory_test","factory_test.clean"],"name":"Drop Duplicates","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"params:clean.factory","id":"456488de","layer":null,"modular_pipelines":[],"name":"Params:clean.factory","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"parameters"},{"dataset_type":null,"full_name":"factory_test.clean.round_timestamps","id":"ef57a1fc","layer":null,"modular_pipelines":["factory_test","factory_test.clean"],"name":"Factory Test.clean.round Timestamps","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"dataset_type":null,"full_name":"factory_test.clean.drop_duplicates","id":"ee508f00","layer":null,"modular_pipelines":["factory_test","factory_test.clean"],"name":"Factory Test.clean.drop Duplicates","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"enforce_schema","id":"e3fadeda","modular_pipelines":["factory_test","factory_test.clean"],"name":"Enforce Schema","parameters":{},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":"shuttle_factory.utilities.io.tag_dict_datasets.CustomCSVDataSet","full_name":"expert_input","id":"53578014","layer":"raw","modular_pipelines":[],"name":"Expert Input","pipelines":["clean","impute_fit","impute_transform","on_off_logic","create_features","train_model","recommend","recommend_uplift_report","recommend_sensitivity","__default__"],"tags":["predictions","data-science","visualisation","recommendations","optimisation","training","data-eng","sensitivity","imputation","reporting"],"type":"data"},{"dataset_type":null,"full_name":"factory_test.clean.enforce_schema","id":"a229cbdc","layer":null,"modular_pipelines":["factory_test","factory_test.clean"],"name":"Factory Test.clean.enforce Schema","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"remove_null_columns","id":"f44bd53f","modular_pipelines":["factory_test","factory_test.clean"],"name":"Remove Null Columns","parameters":{},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"factory_test.clean.remove_null_columns","id":"a99c5c0f","layer":null,"modular_pipelines":["factory_test","factory_test.clean"],"name":"Factory Test.clean.remove Null Columns","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"remove_outlier","id":"7d7e1704","modular_pipelines":["factory_test","factory_test.clean"],"name":"Remove Outlier","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_test_clean","id":"cf7dcb8f","layer":"primary","modular_pipelines":[],"name":"Factory Test Clean","pipelines":["clean","impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"data"},{"full_name":"round_timestamps","id":"24710762","modular_pipelines":["factory_test","factory_test.clean"],"name":"Round Timestamps","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"factory_test.clean.set_timezones","id":"514660c5","layer":null,"modular_pipelines":["factory_test","factory_test.clean"],"name":"Factory Test.clean.set Timezones","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"set_timezones","id":"fa4ebf1b","modular_pipelines":["factory_test","factory_test.clean"],"name":"Set Timezones","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"factory_test.clean.unify_timestamp_col_name","id":"d9a62050","layer":null,"modular_pipelines":["factory_test","factory_test.clean"],"name":"Factory Test.clean.unify Timestamp Col Name","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"unify_timestamp_col_name","id":"516628d2","modular_pipelines":["factory_test","factory_test.clean"],"name":"Unify Timestamp Col Name","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"full_name":"drop_duplicates","id":"f7082f22","modular_pipelines":["factory_train","factory_train.clean"],"name":"Drop Duplicates","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"factory_train.clean.round_timestamps","id":"d02bfec9","layer":null,"modular_pipelines":["factory_train","factory_train.clean"],"name":"Factory Train.clean.round Timestamps","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"dataset_type":null,"full_name":"factory_train.clean.drop_duplicates","id":"dec14f64","layer":null,"modular_pipelines":["factory_train","factory_train.clean"],"name":"Factory Train.clean.drop Duplicates","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"enforce_schema","id":"8835772a","modular_pipelines":["factory_train","factory_train.clean"],"name":"Enforce Schema","parameters":{},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"factory_train.clean.enforce_schema","id":"61ffca7f","layer":null,"modular_pipelines":["factory_train","factory_train.clean"],"name":"Factory Train.clean.enforce Schema","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"remove_null_columns","id":"ec0ad2a0","modular_pipelines":["factory_train","factory_train.clean"],"name":"Remove Null Columns","parameters":{},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"factory_train.clean.remove_null_columns","id":"861c59bf","layer":null,"modular_pipelines":["factory_train","factory_train.clean"],"name":"Factory Train.clean.remove Null Columns","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"remove_outlier","id":"b10165f4","modular_pipelines":["factory_train","factory_train.clean"],"name":"Remove Outlier","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_train_clean","id":"6d5873ac","layer":"primary","modular_pipelines":[],"name":"Factory Train Clean","pipelines":["clean","impute_fit","impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"data"},{"full_name":"round_timestamps","id":"502829ed","modular_pipelines":["factory_train","factory_train.clean"],"name":"Round Timestamps","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"factory_train.clean.set_timezones","id":"3a8062a5","layer":null,"modular_pipelines":["factory_train","factory_train.clean"],"name":"Factory Train.clean.set Timezones","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"set_timezones","id":"7397d2dc","modular_pipelines":["factory_train","factory_train.clean"],"name":"Set Timezones","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"factory_train.clean.unify_timestamp_col_name","id":"073606b6","layer":null,"modular_pipelines":["factory_train","factory_train.clean"],"name":"Factory Train.clean.unify Timestamp Col Name","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"unify_timestamp_col_name","id":"c8f70ca9","modular_pipelines":["factory_train","factory_train.clean"],"name":"Unify Timestamp Col Name","parameters":{"clean.factory":{"datetime_col":"time_col","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"full_name":"drop_duplicates","id":"ce9f17e7","modular_pipelines":["in_out_test","in_out_test.clean"],"name":"Drop Duplicates","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"params:clean.in_out","id":"1f876261","layer":null,"modular_pipelines":[],"name":"Params:clean.in Out","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"parameters"},{"dataset_type":null,"full_name":"in_out_test.clean.round_timestamps","id":"4d95b087","layer":null,"modular_pipelines":["in_out_test","in_out_test.clean"],"name":"In Out Test.clean.round Timestamps","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"dataset_type":null,"full_name":"in_out_test.clean.drop_duplicates","id":"4bd93139","layer":null,"modular_pipelines":["in_out_test","in_out_test.clean"],"name":"In Out Test.clean.drop Duplicates","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"enforce_schema","id":"b4716bd3","modular_pipelines":["in_out_test","in_out_test.clean"],"name":"Enforce Schema","parameters":{},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"in_out_test.clean.enforce_schema","id":"c3f72bfd","layer":null,"modular_pipelines":["in_out_test","in_out_test.clean"],"name":"In Out Test.clean.enforce Schema","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"remove_null_columns","id":"dec9c820","modular_pipelines":["in_out_test","in_out_test.clean"],"name":"Remove Null Columns","parameters":{},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"in_out_test.clean.remove_null_columns","id":"b83dff93","layer":null,"modular_pipelines":["in_out_test","in_out_test.clean"],"name":"In Out Test.clean.remove Null Columns","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"remove_outlier","id":"93d3a479","modular_pipelines":["in_out_test","in_out_test.clean"],"name":"Remove Outlier","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"in_out_test_clean","id":"63186f26","layer":"primary","modular_pipelines":[],"name":"In Out Test Clean","pipelines":["clean","impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"data"},{"full_name":"round_timestamps","id":"87d52565","modular_pipelines":["in_out_test","in_out_test.clean"],"name":"Round Timestamps","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"in_out_test.clean.set_timezones","id":"bf34f92f","layer":null,"modular_pipelines":["in_out_test","in_out_test.clean"],"name":"In Out Test.clean.set Timezones","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"set_timezones","id":"666587bd","modular_pipelines":["in_out_test","in_out_test.clean"],"name":"Set Timezones","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"in_out_test.clean.unify_timestamp_col_name","id":"3f156da8","layer":null,"modular_pipelines":["in_out_test","in_out_test.clean"],"name":"In Out Test.clean.unify Timestamp Col Name","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"unify_timestamp_col_name","id":"b99ee270","modular_pipelines":["in_out_test","in_out_test.clean"],"name":"Unify Timestamp Col Name","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"full_name":"drop_duplicates","id":"9c13d89f","modular_pipelines":["in_out_train","in_out_train.clean"],"name":"Drop Duplicates","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"in_out_train.clean.round_timestamps","id":"f8d4e465","layer":null,"modular_pipelines":["in_out_train","in_out_train.clean"],"name":"In Out Train.clean.round Timestamps","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"dataset_type":null,"full_name":"in_out_train.clean.drop_duplicates","id":"0a1be393","layer":null,"modular_pipelines":["in_out_train","in_out_train.clean"],"name":"In Out Train.clean.drop Duplicates","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"enforce_schema","id":"277dc1ee","modular_pipelines":["in_out_train","in_out_train.clean"],"name":"Enforce Schema","parameters":{},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"in_out_train.clean.enforce_schema","id":"2996dd8e","layer":null,"modular_pipelines":["in_out_train","in_out_train.clean"],"name":"In Out Train.clean.enforce Schema","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"remove_null_columns","id":"700b6aec","modular_pipelines":["in_out_train","in_out_train.clean"],"name":"Remove Null Columns","parameters":{},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"in_out_train.clean.remove_null_columns","id":"7a162ddc","layer":null,"modular_pipelines":["in_out_train","in_out_train.clean"],"name":"In Out Train.clean.remove Null Columns","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"remove_outlier","id":"893a3f7f","modular_pipelines":["in_out_train","in_out_train.clean"],"name":"Remove Outlier","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"in_out_train_clean","id":"d2fb21a0","layer":"primary","modular_pipelines":[],"name":"In Out Train Clean","pipelines":["clean","impute_fit","impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"data"},{"full_name":"round_timestamps","id":"44bc2d21","modular_pipelines":["in_out_train","in_out_train.clean"],"name":"Round Timestamps","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"in_out_train.clean.set_timezones","id":"c81ae4f9","layer":null,"modular_pipelines":["in_out_train","in_out_train.clean"],"name":"In Out Train.clean.set Timezones","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"set_timezones","id":"988261ac","modular_pipelines":["in_out_train","in_out_train.clean"],"name":"Set Timezones","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"in_out_train.clean.unify_timestamp_col_name","id":"210adac8","layer":null,"modular_pipelines":["in_out_train","in_out_train.clean"],"name":"In Out Train.clean.unify Timestamp Col Name","pipelines":["clean","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"unify_timestamp_col_name","id":"a57429e5","modular_pipelines":["in_out_train","in_out_train.clean"],"name":"Unify Timestamp Col Name","parameters":{"clean.in_out":{"datetime_col":"status_time","dedup":{"subset":["timestamp"]},"outlier":"clip","pipeline_timezone":"UTC","round_timestamps":{"frequency":"1min"},"timestamp":{"format":"%Y-%m-%d %H:%M:%S","timezone":"Etc/UTC","type":"timestamp"}}},"pipelines":["clean","__default__"],"tags":["data-eng"],"type":"task"},{"full_name":"fit_numeric_imputer","id":"7be9f72e","modular_pipelines":["factory","factory.impute"],"name":"Fit Numeric Imputer","parameters":{"impute.factory":{"class":"sklearn.impute.SimpleImputer"}},"pipelines":["impute_fit","__default__"],"tags":["imputation","data-eng"],"type":"task"},{"dataset_type":null,"full_name":"params:impute.factory","id":"f38b4714","layer":null,"modular_pipelines":[],"name":"Params:impute.factory","pipelines":["impute_fit","__default__"],"tags":["imputation","data-eng"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"factory_imputer","id":"1161a87b","layer":"feature","modular_pipelines":[],"name":"Factory Imputer","pipelines":["impute_fit","impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"data"},{"full_name":"fit_numeric_imputer","id":"11a72273","modular_pipelines":["in_out","in_out.impute"],"name":"Fit Numeric Imputer","parameters":{"impute.in_out":{"class":"sklearn.impute.SimpleImputer"}},"pipelines":["impute_fit","__default__"],"tags":["imputation","data-eng"],"type":"task"},{"dataset_type":null,"full_name":"params:impute.in_out","id":"5d57686d","layer":null,"modular_pipelines":[],"name":"Params:impute.in Out","pipelines":["impute_fit","__default__"],"tags":["imputation","data-eng"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"in_out_imputer","id":"5540a3fb","layer":"feature","modular_pipelines":[],"name":"In Out Imputer","pipelines":["impute_fit","impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"data"},{"full_name":"transform_numeric_imputer","id":"2978a7f5","modular_pipelines":["factory_test","factory_test.impute"],"name":"Transform Numeric Imputer","parameters":{},"pipelines":["impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_test_imputed","id":"eefd807e","layer":"feature","modular_pipelines":[],"name":"Factory Test Imputed","pipelines":["impute_transform","on_off_logic","__default__"],"tags":["data-eng","imputation","recommendations"],"type":"data"},{"full_name":"transform_numeric_imputer","id":"72ac6e43","modular_pipelines":["factory_train","factory_train.impute"],"name":"Transform Numeric Imputer","parameters":{},"pipelines":["impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_train_imputed","id":"d7ff3fc5","layer":"feature","modular_pipelines":[],"name":"Factory Train Imputed","pipelines":["impute_transform","on_off_logic","__default__"],"tags":["data-eng","imputation","recommendations"],"type":"data"},{"full_name":"transform_numeric_imputer","id":"22cfe9cd","modular_pipelines":["in_out_test","in_out_test.impute"],"name":"Transform Numeric Imputer","parameters":{},"pipelines":["impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"in_out_test_imputed","id":"7178598e","layer":"feature","modular_pipelines":[],"name":"In Out Test Imputed","pipelines":["impute_transform","create_features","__default__"],"tags":["imputation","data-eng"],"type":"data"},{"full_name":"transform_numeric_imputer","id":"1d7fffba","modular_pipelines":["in_out_train","in_out_train.impute"],"name":"Transform Numeric Imputer","parameters":{},"pipelines":["impute_transform","__default__"],"tags":["imputation","data-eng"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"in_out_train_imputed","id":"f4cccc1a","layer":"feature","modular_pipelines":[],"name":"In Out Train Imputed","pipelines":["impute_transform","create_features","__default__"],"tags":["imputation","data-eng"],"type":"data"},{"full_name":"generate_on_off_factory_b","id":"fe81cbe2","modular_pipelines":["factory_test","factory_test.on_off_logic"],"name":"Generate On Off Factory B","parameters":{"on_off_logic.factory.tags":{"depend_on_tag":"on_off_factory_a","minutes_in_window":10,"output_tag_name":"on_off_factory_b","power_threshold":20,"tag_name":"factory_b_power"}},"pipelines":["on_off_logic","__default__"],"tags":["recommendations"],"type":"task"},{"dataset_type":null,"full_name":"params:on_off_logic.factory.tags","id":"0613286f","layer":null,"modular_pipelines":[],"name":"Params:on Off Logic.factory.tags","pipelines":["on_off_logic","__default__"],"tags":["recommendations"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_test_with_derived_on_off_tags","id":"593a4f96","layer":"feature","modular_pipelines":[],"name":"Factory Test With Derived On Off Tags","pipelines":["on_off_logic","__default__"],"tags":["recommendations"],"type":"data"},{"full_name":"set_off_equipment_to_zero","id":"eb1aa767","modular_pipelines":["factory_test","factory_test.on_off_logic"],"name":"Set Off Equipment To Zero","parameters":{},"pipelines":["on_off_logic","__default__"],"tags":["recommendations"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_test_with_off_equipment_to_zero","id":"2d3c0374","layer":"feature","modular_pipelines":[],"name":"Factory Test With Off Equipment To Zero","pipelines":["on_off_logic","create_features","__default__"],"tags":["data-eng","recommendations"],"type":"data"},{"full_name":"generate_on_off_factory_b","id":"690d415b","modular_pipelines":["factory_train","factory_train.on_off_logic"],"name":"Generate On Off Factory B","parameters":{"on_off_logic.factory.tags":{"depend_on_tag":"on_off_factory_a","minutes_in_window":10,"output_tag_name":"on_off_factory_b","power_threshold":20,"tag_name":"factory_b_power"}},"pipelines":["on_off_logic","__default__"],"tags":["recommendations"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_train_with_derived_on_off_tags","id":"42d73649","layer":"feature","modular_pipelines":[],"name":"Factory Train With Derived On Off Tags","pipelines":["on_off_logic","__default__"],"tags":["recommendations"],"type":"data"},{"full_name":"set_off_equipment_to_zero","id":"4b7d240f","modular_pipelines":["factory_train","factory_train.on_off_logic"],"name":"Set Off Equipment To Zero","parameters":{},"pipelines":["on_off_logic","__default__"],"tags":["recommendations"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"factory_train_with_off_equipment_to_zero","id":"6ffb551a","layer":"feature","modular_pipelines":[],"name":"Factory Train With Off Equipment To Zero","pipelines":["on_off_logic","create_features","__default__"],"tags":["data-eng","recommendations"],"type":"data"},{"full_name":"create_features_factory_test_with_off_equipment_to_zero","id":"7d43885c","modular_pipelines":["test","test.create_features"],"name":"Create Features Factory Test With Off Equipment To Zero","parameters":{"create_features":{"grid":{"frequency":"1H","offset_end":"2H","offset_start":"2H"},"n_jobs":6,"pipeline_timezone":"UTC"}},"pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"params:create_features","id":"6ac1368f","layer":null,"modular_pipelines":[],"name":"Params:create Features","pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"parameters"},{"dataset_type":null,"full_name":"test.create_features.time_grid","id":"0c78911d","layer":null,"modular_pipelines":["test","test.create_features"],"name":"Test.create Features.time Grid","pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"data"},{"dataset_type":null,"full_name":"test.create_features.factory_test_with_off_equipment_to_zero.static_features","id":"31cb9133","layer":null,"modular_pipelines":["test","test.create_features","test.create_features.factory_test_with_off_equipment_to_zero"],"name":"Test.create Features.factory Test With Off Equipment To Zero.static Features","pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"create_features_in_out_test_imputed","id":"aebdea6c","modular_pipelines":["test","test.create_features"],"name":"Create Features In Out Test Imputed","parameters":{"create_features":{"grid":{"frequency":"1H","offset_end":"2H","offset_start":"2H"},"n_jobs":6,"pipeline_timezone":"UTC"}},"pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"test.create_features.in_out_test_imputed.static_features","id":"a12a727e","layer":null,"modular_pipelines":["test","test.create_features","test.create_features.in_out_test_imputed"],"name":"Test.create Features.in Out Test Imputed.static Features","pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"create_time_grid","id":"a8bef9b5","modular_pipelines":["test","test.create_features"],"name":"Create Time Grid","parameters":{"create_features":{"grid":{"frequency":"1H","offset_end":"2H","offset_start":"2H"},"n_jobs":6,"pipeline_timezone":"UTC"}},"pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"task"},{"full_name":"generate_run_id","id":"2ea5719f","modular_pipelines":["test","test.create_features"],"name":"Generate Run Id","parameters":{},"pipelines":["create_features","__default__"],"tags":[],"type":"task"},{"dataset_type":null,"full_name":"test_static_features_no_run_id","id":"ae9b6150","layer":null,"modular_pipelines":[],"name":"Test Static Features No Run Id","pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"test_static_features","id":"94dd8ecd","layer":"model_input","modular_pipelines":[],"name":"Test Static Features","pipelines":["create_features","recommend","recommend_uplift_report","recommend_sensitivity","__default__"],"tags":["data-science","sensitivity","visualisation","optimisation","reporting"],"type":"data"},{"full_name":"merge_to_grid","id":"35336154","modular_pipelines":["test","test.create_features"],"name":"Merge To Grid","parameters":{},"pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"task"},{"full_name":"create_features_factory_train_with_off_equipment_to_zero","id":"906b727f","modular_pipelines":["train","train.create_features"],"name":"Create Features Factory Train With Off Equipment To Zero","parameters":{"create_features":{"grid":{"frequency":"1H","offset_end":"2H","offset_start":"2H"},"n_jobs":6,"pipeline_timezone":"UTC"}},"pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"train.create_features.time_grid","id":"e87168af","layer":null,"modular_pipelines":["train","train.create_features"],"name":"Train.create Features.time Grid","pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"data"},{"dataset_type":null,"full_name":"train.create_features.factory_train_with_off_equipment_to_zero.static_features","id":"614a4cd8","layer":null,"modular_pipelines":["train","train.create_features","train.create_features.factory_train_with_off_equipment_to_zero"],"name":"Train.create Features.factory Train With Off Equipment To Zero.static Features","pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"create_features_in_out_train_imputed","id":"74555d8b","modular_pipelines":["train","train.create_features"],"name":"Create Features In Out Train Imputed","parameters":{"create_features":{"grid":{"frequency":"1H","offset_end":"2H","offset_start":"2H"},"n_jobs":6,"pipeline_timezone":"UTC"}},"pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":null,"full_name":"train.create_features.in_out_train_imputed.static_features","id":"85d157bf","layer":null,"modular_pipelines":["train","train.create_features","train.create_features.in_out_train_imputed"],"name":"Train.create Features.in Out Train Imputed.static Features","pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"data"},{"full_name":"create_time_grid","id":"ed0ecc71","modular_pipelines":["train","train.create_features"],"name":"Create Time Grid","parameters":{"create_features":{"grid":{"frequency":"1H","offset_end":"2H","offset_start":"2H"},"n_jobs":6,"pipeline_timezone":"UTC"}},"pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"task"},{"full_name":"merge_to_grid","id":"dd5a69ac","modular_pipelines":["train","train.create_features"],"name":"Merge To Grid","parameters":{},"pipelines":["create_features","__default__"],"tags":["data-eng"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"train_static_features","id":"a4d73089","layer":"model_input","modular_pipelines":[],"name":"Train Static Features","pipelines":["create_features","train_model","__default__"],"tags":["data-science","data-eng","training","pre-processing","reporting"],"type":"data"},{"full_name":"add_transformers","id":"d89b2a45","modular_pipelines":["train","train.train_model"],"name":"Add Transformers","parameters":{"train_model":{"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"k":7,"score_func":"sklearn.feature_selection.mutual_info_regression"},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"features":"model_feature","regressor":{"class":"xgboost.XGBRegressor","kwargs":{"n_estimators":300,"n_jobs":1,"objective":"reg:squarederror","random_state":42}},"report":{"author":"Shuttle Factory","output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}},"subject":"Shuttle Factory Performance Report","timestamp":true,"title":"Model Performance Report"},"split":{"datetime_col":"timestamp","datetime_val":"2020-04-26T03:59:59","train_split_fract":0.7,"type":"frac"},"target":"model_target","tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"param_grid":{"regressor__colsample_bytree":[0.5,1],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__max_depth":[2,3,5,8],"regressor__reg_lambda":[0.1,1,10]},"refit":"mae","scoring":{"mae":"neg_mean_absolute_error","r2":"r2","rmse":"neg_root_mean_squared_error"},"verbose":true}},"xgb_tune":{"early_stopping_rounds":20,"p_eval":0.1}}},"pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"task"},{"dataset_type":null,"full_name":"train.train_model.regressor","id":"4faa7a1e","layer":null,"modular_pipelines":["train","train.train_model"],"name":"Train.train Model.regressor","pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"data"},{"dataset_type":null,"full_name":"params:train_model","id":"f8948258","layer":null,"modular_pipelines":[],"name":"Params:train Model","pipelines":["train_model","__default__"],"tags":["predictions","data-science","training"],"type":"parameters"},{"dataset_type":null,"full_name":"train.train_model.regressor_pipeline","id":"fe300198","layer":null,"modular_pipelines":["train","train.train_model"],"name":"Train.train Model.regressor Pipeline","pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"data"},{"full_name":"create_test_predictions","id":"c0020a3e","modular_pipelines":["train","train.train_model"],"name":"Create Test Predictions","parameters":{"train_model":{"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"k":7,"score_func":"sklearn.feature_selection.mutual_info_regression"},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"features":"model_feature","regressor":{"class":"xgboost.XGBRegressor","kwargs":{"n_estimators":300,"n_jobs":1,"objective":"reg:squarederror","random_state":42}},"report":{"author":"Shuttle Factory","output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}},"subject":"Shuttle Factory Performance Report","timestamp":true,"title":"Model Performance Report"},"split":{"datetime_col":"timestamp","datetime_val":"2020-04-26T03:59:59","train_split_fract":0.7,"type":"frac"},"target":"model_target","tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"param_grid":{"regressor__colsample_bytree":[0.5,1],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__max_depth":[2,3,5,8],"regressor__reg_lambda":[0.1,1,10]},"refit":"mae","scoring":{"mae":"neg_mean_absolute_error","r2":"r2","rmse":"neg_root_mean_squared_error"},"verbose":true}},"xgb_tune":{"early_stopping_rounds":20,"p_eval":0.1}}},"pipelines":["train_model","__default__"],"tags":["predictions","data-science"],"type":"task"},{"dataset_type":null,"full_name":"train.train_model.test_set","id":"721854e3","layer":null,"modular_pipelines":["train","train.train_model"],"name":"Train.train Model.test Set","pipelines":["train_model","__default__"],"tags":["predictions","data-science","pre-processing"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"train_trainset_model","id":"e6c1e1d0","layer":"models","modular_pipelines":[],"name":"Train Trainset Model","pipelines":["train_model","__default__"],"tags":["predictions","data-science","training"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.csv_dataset.CSVDataSet","full_name":"train_testset_metrics","id":"320ef4e8","layer":null,"modular_pipelines":[],"name":"Train Testset Metrics","pipelines":["train_model","__default__"],"tags":["predictions","data-science"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.csv_dataset.CSVDataSet","full_name":"train_testset_predictions","id":"9b9921db","layer":null,"modular_pipelines":[],"name":"Train Testset Predictions","pipelines":["train_model","__default__"],"tags":["predictions","data-science","reporting"],"type":"data"},{"full_name":"create_train_predictions","id":"089a8e9a","modular_pipelines":["train","train.train_model"],"name":"Create Train Predictions","parameters":{"train_model":{"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"k":7,"score_func":"sklearn.feature_selection.mutual_info_regression"},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"features":"model_feature","regressor":{"class":"xgboost.XGBRegressor","kwargs":{"n_estimators":300,"n_jobs":1,"objective":"reg:squarederror","random_state":42}},"report":{"author":"Shuttle Factory","output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}},"subject":"Shuttle Factory Performance Report","timestamp":true,"title":"Model Performance Report"},"split":{"datetime_col":"timestamp","datetime_val":"2020-04-26T03:59:59","train_split_fract":0.7,"type":"frac"},"target":"model_target","tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"param_grid":{"regressor__colsample_bytree":[0.5,1],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__max_depth":[2,3,5,8],"regressor__reg_lambda":[0.1,1,10]},"refit":"mae","scoring":{"mae":"neg_mean_absolute_error","r2":"r2","rmse":"neg_root_mean_squared_error"},"verbose":true}},"xgb_tune":{"early_stopping_rounds":20,"p_eval":0.1}}},"pipelines":["train_model","__default__"],"tags":["predictions","data-science"],"type":"task"},{"dataset_type":null,"full_name":"train.train_model.train_set","id":"2e97b838","layer":null,"modular_pipelines":["train","train.train_model"],"name":"Train.train Model.train Set","pipelines":["train_model","__default__"],"tags":["predictions","data-science","training","pre-processing"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.csv_dataset.CSVDataSet","full_name":"train_trainset_metrics","id":"c9058d39","layer":null,"modular_pipelines":[],"name":"Train Trainset Metrics","pipelines":["train_model","__default__"],"tags":["predictions","data-science","reporting"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.csv_dataset.CSVDataSet","full_name":"train_trainset_predictions","id":"9a97cfe0","layer":"model_output","modular_pipelines":[],"name":"Train Trainset Predictions","pipelines":["train_model","__default__"],"tags":["predictions","data-science","reporting"],"type":"data"},{"full_name":"generate_performance_report","id":"c329efd1","modular_pipelines":["train","train.train_model"],"name":"Generate Performance Report","parameters":{"train_model.report":{"author":"Shuttle Factory","output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}},"subject":"Shuttle Factory Performance Report","timestamp":true,"title":"Model Performance Report"}},"pipelines":["train_model","__default__"],"tags":["data-science","reporting"],"type":"task"},{"dataset_type":null,"full_name":"params:train_model.report","id":"b46c6fb9","layer":null,"modular_pipelines":[],"name":"Params:train Model.report","pipelines":["train_model","__default__"],"tags":["data-science","reporting"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pandas.json_dataset.JSONDataSet","full_name":"train_trainset_feature_importance","id":"10ce7f66","layer":"model_output","modular_pipelines":[],"name":"Train Trainset Feature Importance","pipelines":["train_model","__default__"],"tags":["data-science","training","reporting"],"type":"data"},{"dataset_type":null,"full_name":"train_model","id":"f23452a4","layer":null,"modular_pipelines":[],"name":"Train Model","pipelines":["train_model","recommend","recommend_sensitivity","__default__"],"tags":["data-science","training","visualisation","sensitivity","reporting"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"train_report_figures","id":"b7bde39a","layer":null,"modular_pipelines":[],"name":"Train Report Figures","pipelines":["train_model","__default__"],"tags":["data-science","reporting"],"type":"data"},{"full_name":"load_regressor","id":"0bc424f4","modular_pipelines":["train","train.train_model"],"name":"Load Regressor","parameters":{"train_model.feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"k":7,"score_func":"sklearn.feature_selection.mutual_info_regression"},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"train_model.features":"model_feature","train_model.regressor":{"class":"xgboost.XGBRegressor","kwargs":{"n_estimators":300,"n_jobs":1,"objective":"reg:squarederror","random_state":42}}},"pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"task"},{"dataset_type":null,"full_name":"params:train_model.features","id":"86b7300b","layer":null,"modular_pipelines":[],"name":"Params:train Model.features","pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"parameters"},{"dataset_type":null,"full_name":"params:train_model.feature_selection","id":"843b0b03","layer":null,"modular_pipelines":[],"name":"Params:train Model.feature Selection","pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"parameters"},{"dataset_type":null,"full_name":"params:train_model.regressor","id":"b633dd0b","layer":null,"modular_pipelines":[],"name":"Params:train Model.regressor","pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"parameters"},{"full_name":"retrain_model","id":"68d6f757","modular_pipelines":["train","train.train_model"],"name":"Retrain Model","parameters":{"train_model":{"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"k":7,"score_func":"sklearn.feature_selection.mutual_info_regression"},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"features":"model_feature","regressor":{"class":"xgboost.XGBRegressor","kwargs":{"n_estimators":300,"n_jobs":1,"objective":"reg:squarederror","random_state":42}},"report":{"author":"Shuttle Factory","output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}},"subject":"Shuttle Factory Performance Report","timestamp":true,"title":"Model Performance Report"},"split":{"datetime_col":"timestamp","datetime_val":"2020-04-26T03:59:59","train_split_fract":0.7,"type":"frac"},"target":"model_target","tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"param_grid":{"regressor__colsample_bytree":[0.5,1],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__max_depth":[2,3,5,8],"regressor__reg_lambda":[0.1,1,10]},"refit":"mae","scoring":{"mae":"neg_mean_absolute_error","r2":"r2","rmse":"neg_root_mean_squared_error"},"verbose":true}},"xgb_tune":{"early_stopping_rounds":20,"p_eval":0.1}}},"pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"task"},{"full_name":"split_data","id":"602f06fc","modular_pipelines":["train","train.train_model"],"name":"Split Data","parameters":{"train_model.split":{"datetime_col":"timestamp","datetime_val":"2020-04-26T03:59:59","train_split_fract":0.7,"type":"frac"}},"pipelines":["train_model","__default__"],"tags":["pre-processing","data-science"],"type":"task"},{"dataset_type":null,"full_name":"params:train_model.split","id":"048b398b","layer":null,"modular_pipelines":[],"name":"Params:train Model.split","pipelines":["train_model","__default__"],"tags":["pre-processing","data-science"],"type":"parameters"},{"full_name":"train_model","id":"e9c51d85","modular_pipelines":["train","train.train_model"],"name":"Train Model","parameters":{"train_model":{"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"k":7,"score_func":"sklearn.feature_selection.mutual_info_regression"},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"features":"model_feature","regressor":{"class":"xgboost.XGBRegressor","kwargs":{"n_estimators":300,"n_jobs":1,"objective":"reg:squarederror","random_state":42}},"report":{"author":"Shuttle Factory","output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}},"subject":"Shuttle Factory Performance Report","timestamp":true,"title":"Model Performance Report"},"split":{"datetime_col":"timestamp","datetime_val":"2020-04-26T03:59:59","train_split_fract":0.7,"type":"frac"},"target":"model_target","tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"param_grid":{"regressor__colsample_bytree":[0.5,1],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__max_depth":[2,3,5,8],"regressor__reg_lambda":[0.1,1,10]},"refit":"mae","scoring":{"mae":"neg_mean_absolute_error","r2":"r2","rmse":"neg_root_mean_squared_error"},"verbose":true}},"xgb_tune":{"early_stopping_rounds":20,"p_eval":0.1}}},"pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.csv_dataset.CSVDataSet","full_name":"train_trainset_cv_results","id":"dc0abb8b","layer":"model_output","modular_pipelines":[],"name":"Train Trainset Cv Results","pipelines":["train_model","__default__"],"tags":["data-science","training"],"type":"data"},{"full_name":"bulk_optimize","id":"3a324d9a","modular_pipelines":["recommend"],"name":"Bulk Optimize","parameters":{"recommend":{"n_jobs":6,"objective_kwargs":{},"solver":{"class":"shuttle_factory.optimizer.solvers.DifferentialEvolutionSolver","kwargs":{"maxiter":50,"mutation":[0.5,1],"recombination":0.7,"seed":0,"sense":"maximize","strategy":"best1bin"}},"stopper":{"class":"shuttle_factory.optimizer.stoppers.NoImprovementStopper","kwargs":{"min_delta":0.1,"patience":10,"sense":"maximize"}}}},"pipelines":["recommend","__default__"],"tags":["visualisation","reporting"],"type":"task"},{"dataset_type":null,"full_name":"params:recommend","id":"ce869767","layer":null,"modular_pipelines":[],"name":"Params:recommend","pipelines":["recommend","__default__"],"tags":["visualisation","reporting"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pandas.json_dataset.JSONDataSet","full_name":"test_projected_optimization","id":"bc92116e","layer":"model_output","modular_pipelines":[],"name":"Test Projected Optimization","pipelines":["recommend","__default__"],"tags":["visualisation","reporting"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.json_dataset.JSONDataSet","full_name":"test_recommendations","id":"e4821861","layer":"model_output","modular_pipelines":[],"name":"Test Recommendations","pipelines":["recommend","recommend_uplift_report","recommend_sensitivity","__default__"],"tags":["data-science","sensitivity","visualisation","optimisation","reporting"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.json_dataset.JSONDataSet","full_name":"test_recommended_controls","id":"4cdfef0b","layer":"model_output","modular_pipelines":[],"name":"Test Recommended Controls","pipelines":["recommend","__default__"],"tags":["visualisation","reporting"],"type":"data"},{"full_name":"create_bulk_report","id":"55758695","modular_pipelines":["uplift"],"name":"Create Bulk Report","parameters":{},"pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","reporting"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"test_bulk_state","id":"70c65095","layer":"model_output","modular_pipelines":[],"name":"Test Bulk State","pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","reporting","optimisation"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"test_bulk_ctrl","id":"24c3ce33","layer":"model_output","modular_pipelines":[],"name":"Test Bulk Ctrl","pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","reporting","optimisation"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"test_bulk_output","id":"7ba4e963","layer":"model_output","modular_pipelines":[],"name":"Test Bulk Output","pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","reporting","optimisation"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pickle.pickle_dataset.PickleDataSet","full_name":"test_bulk_constraints","id":"b7c5a4e0","layer":"model_output","modular_pipelines":[],"name":"Test Bulk Constraints","pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","reporting","optimisation"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.csv_dataset.CSVDataSet","full_name":"test_bulk_report","id":"d3f3241a","layer":"model_output","modular_pipelines":[],"name":"Test Bulk Report","pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","reporting"],"type":"data"},{"full_name":"create_bulk_result_tables","id":"d1733133","modular_pipelines":["uplift"],"name":"Create Bulk Result Tables","parameters":{},"pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","optimisation"],"type":"task"},{"full_name":"uplift_report_results","id":"bf435119","modular_pipelines":["uplift"],"name":"Uplift Report Results","parameters":{"uplift.pdf":{"author":"Shuttle Factory","output_path":"data/base/use_cases/factory_demo/test/08_reporting/","report_name":"uplift_report","subject":"Shuttle Factory Uplift Report","timestamp":true,"title":"Uplift Report"}},"pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","reporting"],"type":"task"},{"dataset_type":null,"full_name":"params:uplift.pdf","id":"c58671fa","layer":null,"modular_pipelines":["uplift"],"name":"Params:uplift.pdf","pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","reporting"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.plotly.plotly_dataset.PlotlyDataSet","full_name":"uplift_report_figures","id":"19040e7c","layer":null,"modular_pipelines":[],"name":"Uplift Report Figures","pipelines":["recommend_uplift_report","__default__"],"tags":["data-science","reporting"],"type":"data"},{"full_name":"generate_sensitivity_data","id":"0298a817","modular_pipelines":["sensitivity"],"name":"Generate Sensitivity Data","parameters":{"recommend_sensitivity":{"n_points":25,"objective_kwargs":{},"sensitivity_app_data_mapping":{"expert_input":"expert_input","features":"test_static_features","model":"train_trainset_model","recs":"test_recommendations","sensitivity_data":"test_sensitivity_plot_df","timestamp_col":"timestamp"},"unique_ids":["run_id","timestamp"]}},"pipelines":["recommend_sensitivity","__default__"],"tags":["data-science","sensitivity"],"type":"task"},{"dataset_type":null,"full_name":"params:recommend_sensitivity","id":"6fd8074d","layer":null,"modular_pipelines":[],"name":"Params:recommend Sensitivity","pipelines":["recommend_sensitivity","__default__"],"tags":["data-science","sensitivity"],"type":"parameters"},{"dataset_type":"kedro.extras.datasets.pandas.csv_dataset.CSVDataSet","full_name":"test_sensitivity_plot_df","id":"9eb96a09","layer":null,"modular_pipelines":[],"name":"Test Sensitivity Plot Df","pipelines":["recommend_sensitivity","__default__"],"tags":["data-science","sensitivity"],"type":"data"},{"full_name":"Apply Types","id":"f8e6b6f3","modular_pipelines":[],"name":"Apply Types","parameters":{},"pipelines":["transcoding_demo","__default__"],"tags":["transcoding"],"type":"task"},{"dataset_type":"kedro.extras.datasets.spark.spark_dataset.SparkDataSet","full_name":"in_out_recent","id":"3db9b130","layer":"raw","modular_pipelines":[],"name":"In Out Recent","pipelines":["transcoding_demo","__default__"],"tags":["transcoding"],"type":"data"},{"dataset_type":"kedro.extras.datasets.spark.spark_dataset.SparkDataSet","full_name":"in_out_recent_clean@spark","id":"75ac4a66","layer":null,"modular_pipelines":[],"name":"In Out Recent Clean@spark","pipelines":["transcoding_demo","__default__"],"tags":["transcoding"],"type":"data"},{"full_name":"Filter Rows","id":"d6744468","modular_pipelines":[],"name":"Filter Rows","parameters":{},"pipelines":["transcoding_demo","__default__"],"tags":["transcoding"],"type":"task"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"in_out_recent_clean@pandas","id":"8499cb24","layer":null,"modular_pipelines":[],"name":"In Out Recent Clean@pandas","pipelines":["transcoding_demo","__default__"],"tags":["transcoding"],"type":"data"},{"dataset_type":"kedro.extras.datasets.pandas.parquet_dataset.ParquetDataSet","full_name":"in_out_recent_filtered","id":"71a945b5","layer":"primary","modular_pipelines":[],"name":"In Out Recent Filtered","pipelines":["transcoding_demo","__default__"],"tags":["transcoding"],"type":"data"}],"pipelines":[{"id":"pandas_profiling","name":"Pandas Profiling"},{"id":"eda","name":"Eda"},{"id":"split","name":"Split"},{"id":"clean","name":"Clean"},{"id":"impute_fit","name":"Impute Fit"},{"id":"impute_transform","name":"Impute Transform"},{"id":"on_off_logic","name":"On Off Logic"},{"id":"create_features","name":"Create Features"},{"id":"train_model","name":"Train Model"},{"id":"recommend","name":"Recommend"},{"id":"recommend_uplift_report","name":"Recommend Uplift Report"},{"id":"recommend_sensitivity","name":"Recommend Sensitivity"},{"id":"transcoding_demo","name":"Transcoding Demo"},{"id":"__default__","name":"Default"}],"selected_pipeline":"__default__","tags":[{"id":"data-eng","name":"Data Eng"},{"id":"data-engineering","name":"Data Engineering"},{"id":"data-science","name":"Data Science"},{"id":"eda","name":"Eda"},{"id":"imputation","name":"Imputation"},{"id":"notebooks","name":"Notebooks"},{"id":"optimisation","name":"Optimisation"},{"id":"pre-processing","name":"Pre Processing"},{"id":"predictions","name":"Predictions"},{"id":"recommendations","name":"Recommendations"},{"id":"reporting","name":"Reporting"},{"id":"sensitivity","name":"Sensitivity"},{"id":"training","name":"Training"},{"id":"transcoding","name":"Transcoding"},{"id":"visualisation","name":"Visualisation"}]}')},199:function(e){e.exports=JSON.parse('{"edges":[{"source":"pipeline","target":"modular-pipelines"},{"source":"pipeline","target":"tags"},{"source":"pipeline","target":"disabled"},{"source":"modular-pipelines","target":"disabled"},{"source":"tags","target":"disabled"},{"source":"pipeline","target":"edges"},{"source":"modular-pipelines","target":"edges"},{"source":"disabled","target":"edges"},{"source":"disabled","target":"ranks"},{"source":"edges","target":"ranks"},{"source":"disabled","target":"layers"},{"source":"disabled","target":"node-types"},{"source":"pipeline","target":"nodes"},{"source":"modular-pipelines","target":"nodes"},{"source":"disabled","target":"nodes"},{"source":"ranks","target":"nodes"},{"source":"nodes","target":"layout"},{"source":"edges","target":"layout"},{"source":"disabled","target":"layout"},{"source":"nodes","target":"metadata"},{"source":"edges","target":"linked-nodes"},{"source":"metadata","target":"layout"}],"nodes":[{"id":"pipeline","name":"pipeline","type":"task"},{"id":"modular-pipelines","name":"modular-pipelines","type":"task"},{"id":"tags","name":"tags","type":"task"},{"id":"disabled","name":"disabled","type":"task"},{"id":"edges","name":"edges","type":"task"},{"id":"ranks","name":"ranks","type":"task"},{"id":"nodes","name":"nodes","type":"task"},{"id":"layers","name":"layers","type":"task"},{"id":"layout","name":"layout","type":"task"},{"id":"linked-nodes","name":"linked-nodes","type":"task"},{"id":"loading","name":"loading","type":"task"},{"id":"metadata","name":"metadata","type":"task"},{"id":"node-types","name":"node-types","type":"task"},{"id":"loading","name":"loading","type":"task"}]}')},218:function(e,t,a){var n=a(219),r=["graphNew"];e.exports=function(){var e=new Worker(URL.createObjectURL(new Blob(['!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="./",r(r.s=0)}([function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e){if(t){if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function u(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=s(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}r.r(e),r.d(e,"graphNew",(function(){return ut}));var c=.5*Math.PI,f=function(t,e){return Math.round(t/e)*e},p=function(t,e){return Math.atan2(t.y-e.y,t.x-e.x)},l=function(t){return t.x-.5*t.width},h=function(t){return t.x+.5*t.width},d=function(t){return t.y-.5*t.height},y=function(t){return t.y+.5*t.height},v=function(t){var e,r={},n=u(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;r[o.y]=r[o.y]||[],r[o.y].push(o)}}catch(p){n.e(p)}finally{n.f()}var i=Object.keys(r).map((function(t){return parseFloat(t)}));i.sort((function(t,e){return t-e}));for(var a=i.map((function(t){return r[t]})),s=0;s<a.length;s+=1){a[s].sort((function(t,e){return m(t.x,e.x,t.id,e.id)}));var c,f=u(a[s]);try{for(f.s();!(c=f.n()).done;){c.value.row=s}}catch(p){f.e(p)}finally{f.f()}}return a},m=function t(e,r){for(var n="string"===typeof e?e.localeCompare(r):e-r,o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return 0!==n||0===i.length?n:t.apply(void 0,i)},g=function(t,e){return t.x=t.x-e.x,t.y=t.y-e.y,t.order=t.x+9999*t.y,t},_=function(t,e){return t.points.forEach((function(t){t.x=t.x-e.x,t.y=t.y-e.y})),t},b=function(t,e,r,n,o,i){var a,s,u,c=o-r,f=i-n,p=(u=1,(a=((t-r)*c+(e-n)*f)/(c*c+f*f||1))<(s=0)?s:a>u?u:a);return{x:r+c*p,y:n+f*p,ax:r,ay:n,bx:o,by:i}};function x(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(){return new M}var M=function(){function t(){this.index={},this.array=[]}return t.prototype.size=function(){return this.array.length},t.prototype.empty=function(){return 0===this.array.length},t.prototype.itemAt=function(t){return this.array[t]},t.prototype.contains=function(t){return void 0!==this.index[t.id()]},t.prototype.find=function(t){var e=this.index[t.id()];return void 0===e?void 0:this.array[e]},t.prototype.setDefault=function(t,e){var r=this.index[t.id()];if(void 0===r){var n=new S(t,e());return this.index[t.id()]=this.array.length,this.array.push(n),n}return this.array[r]},t.prototype.insert=function(t,e){var r=new S(t,e),n=this.index[t.id()];return void 0===n?(this.index[t.id()]=this.array.length,this.array.push(r)):this.array[n]=r,r},t.prototype.erase=function(t){var e=this.index[t.id()];if(void 0!==e){this.index[t.id()]=void 0;var r=this.array[e],n=this.array.pop();return r!==n&&(this.array[e]=n,this.index[n.first.id()]=e),r}},t.prototype.copy=function(){for(var e=new t,r=0;r<this.array.length;r++){var n=this.array[r].copy();e.array[r]=n,e.index[n.first.id()]=r}return e},t}(),S=function(){function t(t,e){this.first=t,this.second=e}return t.prototype.copy=function(){return new t(this.first,this.second)},t}(),E=function(){function t(t){void 0===t&&(t=""),this._value=0,this._context=null,this._id=N++,this._name=t}return t.prototype.id=function(){return this._id},t.prototype.name=function(){return this._name},t.prototype.setName=function(t){this._name=t},t.prototype.context=function(){return this._context},t.prototype.setContext=function(t){this._context=t},t.prototype.value=function(){return this._value},t.prototype.setValue=function(t){this._value=t},t.prototype.plus=function(t){return new k(this,t)},t.prototype.minus=function(t){return new k(this,"number"===typeof t?-t:[-1,t])},t.prototype.multiply=function(t){return new k([t,this])},t.prototype.divide=function(t){return new k([1/t,this])},t.prototype.toJSON=function(){return{name:this._name,value:this._value}},t.prototype.toString=function(){return this._context+"["+this._name+":"+this._value+"]"},t}(),N=0,k=function(){function t(){var t=A(arguments);this._terms=t.terms,this._constant=t.constant}return t.prototype.terms=function(){return this._terms},t.prototype.constant=function(){return this._constant},t.prototype.value=function(){for(var t=this._constant,e=0,r=this._terms.size();e<r;e++){var n=this._terms.itemAt(e);t+=n.first.value()*n.second}return t},t.prototype.plus=function(e){return new t(this,e)},t.prototype.minus=function(e){return new t(this,"number"===typeof e?-e:[-1,e])},t.prototype.multiply=function(e){return new t([e,this])},t.prototype.divide=function(e){return new t([1/e,this])},t.prototype.isConstant=function(){return 0==this._terms.size()},t.prototype.toString=function(){var t=this._terms.array.map((function(t){return t.second+"*"+t.first.toString()})).join(" + ");return this.isConstant()||0===this._constant||(t+=" + "),t+=this._constant},t}();function A(t){for(var e=0,r=function(){return 0},n=w(),o=0,i=t.length;o<i;++o){var a=t[o];if("number"===typeof a)e+=a;else if(a instanceof E)n.setDefault(a,r).second+=1;else if(a instanceof k){e+=a.constant();for(var s=0,u=(l=a.terms()).size();s<u;s++){var c=l.itemAt(s);n.setDefault(c.first,r).second+=c.second}}else{if(!(a instanceof Array))throw new Error("invalid Expression argument: "+a);if(2!==a.length)throw new Error("array must have length 2");var f=a[0],p=a[1];if("number"!==typeof f)throw new Error("array item 0 must be a number");if(p instanceof E)n.setDefault(p,r).second+=f;else{if(!(p instanceof k))throw new Error("array item 1 must be a variable or expression");e+=p.constant()*f;var l;for(s=0,u=(l=p.terms()).size();s<u;s++){c=l.itemAt(s);n.setDefault(c.first,r).second+=c.second*f}}}}return{terms:n,constant:e}}var j,O=function(){function t(){}return t.create=function(t,e,r,n){void 0===n&&(n=1);var o=0;return o+=1e6*Math.max(0,Math.min(1e3,t*n)),o+=1e3*Math.max(0,Math.min(1e3,e*n)),o+=Math.max(0,Math.min(1e3,r*n))},t.clip=function(e){return Math.max(0,Math.min(t.required,e))},t.required=t.create(1e3,1e3,1e3),t.strong=t.create(1,0,0),t.medium=t.create(0,1,0),t.weak=t.create(0,0,1),t}();!function(t){t[t.Le=0]="Le",t[t.Ge=1]="Ge",t[t.Eq=2]="Eq"}(j||(j={}));var z,P=function(){function t(t,e,r,n){void 0===n&&(n=O.required),this._id=C++,this._operator=e,this._strength=O.clip(n),this._expression=void 0===r&&t instanceof k?t:t.minus(r)}return t.prototype.id=function(){return this._id},t.prototype.expression=function(){return this._expression},t.prototype.op=function(){return this._operator},t.prototype.strength=function(){return this._strength},t.prototype.toString=function(){return this._expression.toString()+" "+["<=",">=","="][this._operator]+" 0 ("+this._strength.toString()+")"},t}(),C=0,D=function(){function t(){this._cnMap=w(),this._rowMap=w(),this._varMap=w(),this._editMap=w(),this._infeasibleRows=[],this._objective=new q,this._artificial=null,this._idTick=0}return t.prototype.createConstraint=function(t,e,r,n){void 0===n&&(n=O.required);var o=new P(t,e,r,n);return this.addConstraint(o),o},t.prototype.addConstraint=function(t){if(void 0!==this._cnMap.find(t))throw new Error("duplicate constraint");var e=this._createRow(t),r=e.row,n=e.tag,o=this._chooseSubject(r,n);if(o.type()===z.Invalid&&r.allDummies()){if(!I(r.constant()))throw new Error("unsatisfiable constraint");o=n.marker}if(o.type()===z.Invalid){if(!this._addWithArtificialVariable(r))throw new Error("unsatisfiable constraint")}else r.solveFor(o),this._substitute(o,r),this._rowMap.insert(o,r);this._cnMap.insert(t,n),this._optimize(this._objective)},t.prototype.removeConstraint=function(t){var e=this._cnMap.erase(t);if(void 0===e)throw new Error("unknown constraint");this._removeConstraintEffects(t,e.second);var r=e.second.marker,n=this._rowMap.erase(r);if(void 0===n){var o=this._getMarkerLeavingSymbol(r);if(o.type()===z.Invalid)throw new Error("failed to find leaving row");(n=this._rowMap.erase(o)).second.solveForEx(o,r),this._substitute(r,n.second)}this._optimize(this._objective)},t.prototype.hasConstraint=function(t){return this._cnMap.contains(t)},t.prototype.addEditVariable=function(t,e){if(void 0!==this._editMap.find(t))throw new Error("duplicate edit variable");if((e=O.clip(e))===O.required)throw new Error("bad required strength");var r=new k(t),n=new P(r,j.Eq,void 0,e);this.addConstraint(n);var o={tag:this._cnMap.find(n).second,constraint:n,constant:0};this._editMap.insert(t,o)},t.prototype.removeEditVariable=function(t){var e=this._editMap.erase(t);if(void 0===e)throw new Error("unknown edit variable");this.removeConstraint(e.second.constraint)},t.prototype.hasEditVariable=function(t){return this._editMap.contains(t)},t.prototype.suggestValue=function(t,e){var r=this._editMap.find(t);if(void 0===r)throw new Error("unknown edit variable");var n=this._rowMap,o=r.second,i=e-o.constant;o.constant=e;var a=o.tag.marker,s=n.find(a);if(void 0!==s)return s.second.add(-i)<0&&this._infeasibleRows.push(a),void this._dualOptimize();var u=o.tag.other;if(void 0!==(s=n.find(u)))return s.second.add(i)<0&&this._infeasibleRows.push(u),void this._dualOptimize();for(var c=0,f=n.size();c<f;++c){var p=n.itemAt(c),l=p.second,h=l.coefficientFor(a);0!==h&&l.add(i*h)<0&&p.first.type()!==z.External&&this._infeasibleRows.push(p.first)}this._dualOptimize()},t.prototype.updateVariables=function(){for(var t=this._varMap,e=this._rowMap,r=0,n=t.size();r<n;++r){var o=t.itemAt(r),i=e.find(o.second);void 0!==i?o.first.setValue(i.second.constant()):o.first.setValue(0)}},t.prototype._getVarSymbol=function(t){var e=this;return this._varMap.setDefault(t,(function(){return e._makeSymbol(z.External)})).second},t.prototype._createRow=function(t){for(var e=t.expression(),r=new q(e.constant()),n=e.terms(),o=0,i=n.size();o<i;++o){var a=n.itemAt(o);if(!I(a.second)){var s=this._getVarSymbol(a.first),u=this._rowMap.find(s);void 0!==u?r.insertRow(u.second,a.second):r.insertSymbol(s,a.second)}}var c=this._objective,f=t.strength(),p={marker:R,other:R};switch(t.op()){case j.Le:case j.Ge:var l=t.op()===j.Le?1:-1,h=this._makeSymbol(z.Slack);if(p.marker=h,r.insertSymbol(h,l),f<O.required){var d=this._makeSymbol(z.Error);p.other=d,r.insertSymbol(d,-l),c.insertSymbol(d,f)}break;case j.Eq:if(f<O.required){var y=this._makeSymbol(z.Error),v=this._makeSymbol(z.Error);p.marker=y,p.other=v,r.insertSymbol(y,-1),r.insertSymbol(v,1),c.insertSymbol(y,f),c.insertSymbol(v,f)}else{var m=this._makeSymbol(z.Dummy);p.marker=m,r.insertSymbol(m)}}return r.constant()<0&&r.reverseSign(),{row:r,tag:p}},t.prototype._chooseSubject=function(t,e){for(var r=t.cells(),n=0,o=r.size();n<o;++n){var i=r.itemAt(n);if(i.first.type()===z.External)return i.first}var a=e.marker.type();return(a===z.Slack||a===z.Error)&&t.coefficientFor(e.marker)<0?e.marker:((a=e.other.type())===z.Slack||a===z.Error)&&t.coefficientFor(e.other)<0?e.other:R},t.prototype._addWithArtificialVariable=function(t){var e=this._makeSymbol(z.Slack);this._rowMap.insert(e,t.copy()),this._artificial=t.copy(),this._optimize(this._artificial);var r=I(this._artificial.constant());this._artificial=null;var n=this._rowMap.erase(e);if(void 0!==n){var o=n.second;if(o.isConstant())return r;var i=this._anyPivotableSymbol(o);if(i.type()===z.Invalid)return!1;o.solveForEx(e,i),this._substitute(i,o),this._rowMap.insert(i,o)}for(var a=this._rowMap,s=0,u=a.size();s<u;++s)a.itemAt(s).second.removeSymbol(e);return this._objective.removeSymbol(e),r},t.prototype._substitute=function(t,e){for(var r=this._rowMap,n=0,o=r.size();n<o;++n){var i=r.itemAt(n);i.second.substitute(t,e),i.second.constant()<0&&i.first.type()!==z.External&&this._infeasibleRows.push(i.first)}this._objective.substitute(t,e),this._artificial&&this._artificial.substitute(t,e)},t.prototype._optimize=function(t){for(;;){var e=this._getEnteringSymbol(t);if(e.type()===z.Invalid)return;var r=this._getLeavingSymbol(e);if(r.type()===z.Invalid)throw new Error("the objective is unbounded");var n=this._rowMap.erase(r).second;n.solveForEx(r,e),this._substitute(e,n),this._rowMap.insert(e,n)}},t.prototype._dualOptimize=function(){for(var t=this._rowMap,e=this._infeasibleRows;0!==e.length;){var r=e.pop(),n=t.find(r);if(void 0!==n&&n.second.constant()<0){var o=this._getDualEnteringSymbol(n.second);if(o.type()===z.Invalid)throw new Error("dual optimize failed");var i=n.second;t.erase(r),i.solveForEx(r,o),this._substitute(o,i),t.insert(o,i)}}},t.prototype._getEnteringSymbol=function(t){for(var e=t.cells(),r=0,n=e.size();r<n;++r){var o=e.itemAt(r),i=o.first;if(o.second<0&&i.type()!==z.Dummy)return i}return R},t.prototype._getDualEnteringSymbol=function(t){for(var e=Number.MAX_VALUE,r=R,n=t.cells(),o=0,i=n.size();o<i;++o){var a=n.itemAt(o),s=a.first,u=a.second;if(u>0&&s.type()!==z.Dummy){var c=this._objective.coefficientFor(s)/u;c<e&&(e=c,r=s)}}return r},t.prototype._getLeavingSymbol=function(t){for(var e=Number.MAX_VALUE,r=R,n=this._rowMap,o=0,i=n.size();o<i;++o){var a=n.itemAt(o),s=a.first;if(s.type()!==z.External){var u=a.second,c=u.coefficientFor(t);if(c<0){var f=-u.constant()/c;f<e&&(e=f,r=s)}}}return r},t.prototype._getMarkerLeavingSymbol=function(t){for(var e=Number.MAX_VALUE,r=e,n=e,o=R,i=o,a=o,s=o,u=this._rowMap,c=0,f=u.size();c<f;++c){var p=u.itemAt(c),l=p.second,h=l.coefficientFor(t);if(0!==h){var d=p.first;if(d.type()===z.External)s=d;else if(h<0){(y=-l.constant()/h)<r&&(r=y,i=d)}else{var y;(y=l.constant()/h)<n&&(n=y,a=d)}}}return i!==o?i:a!==o?a:s},t.prototype._removeConstraintEffects=function(t,e){e.marker.type()===z.Error&&this._removeMarkerEffects(e.marker,t.strength()),e.other.type()===z.Error&&this._removeMarkerEffects(e.other,t.strength())},t.prototype._removeMarkerEffects=function(t,e){var r=this._rowMap.find(t);void 0!==r?this._objective.insertRow(r.second,-e):this._objective.insertSymbol(t,-e)},t.prototype._anyPivotableSymbol=function(t){for(var e=t.cells(),r=0,n=e.size();r<n;++r){var o=e.itemAt(r),i=o.first.type();if(i===z.Slack||i===z.Error)return o.first}return R},t.prototype._makeSymbol=function(t){return new F(t,this._idTick++)},t}();function I(t){return t<0?-t<1e-8:t<1e-8}!function(t){t[t.Invalid=0]="Invalid",t[t.External=1]="External",t[t.Slack=2]="Slack",t[t.Error=3]="Error",t[t.Dummy=4]="Dummy"}(z||(z={}));var F=function(){function t(t,e){this._id=e,this._type=t}return t.prototype.id=function(){return this._id},t.prototype.type=function(){return this._type},t}(),R=new F(z.Invalid,-1),q=function(){function t(t){void 0===t&&(t=0),this._cellMap=w(),this._constant=t}return t.prototype.cells=function(){return this._cellMap},t.prototype.constant=function(){return this._constant},t.prototype.isConstant=function(){return this._cellMap.empty()},t.prototype.allDummies=function(){for(var t=this._cellMap,e=0,r=t.size();e<r;++e){if(t.itemAt(e).first.type()!==z.Dummy)return!1}return!0},t.prototype.copy=function(){var e=new t(this._constant);return e._cellMap=this._cellMap.copy(),e},t.prototype.add=function(t){return this._constant+=t},t.prototype.insertSymbol=function(t,e){void 0===e&&(e=1),I(this._cellMap.setDefault(t,(function(){return 0})).second+=e)&&this._cellMap.erase(t)},t.prototype.insertRow=function(t,e){void 0===e&&(e=1),this._constant+=t._constant*e;for(var r=t._cellMap,n=0,o=r.size();n<o;++n){var i=r.itemAt(n);this.insertSymbol(i.first,i.second*e)}},t.prototype.removeSymbol=function(t){this._cellMap.erase(t)},t.prototype.reverseSign=function(){this._constant=-this._constant;for(var t=this._cellMap,e=0,r=t.size();e<r;++e){var n=t.itemAt(e);n.second=-n.second}},t.prototype.solveFor=function(t){var e=this._cellMap,r=-1/e.erase(t).second;this._constant*=r;for(var n=0,o=e.size();n<o;++n)e.itemAt(n).second*=r},t.prototype.solveForEx=function(t,e){this.insertSymbol(t,-1),this.solveFor(e)},t.prototype.coefficientFor=function(t){var e=this._cellMap.find(t);return void 0!==e?e.second:0},t.prototype.substitute=function(t,e){var r=this._cellMap.erase(t);void 0!==r&&this.insertRow(e,r.second)},t}(),V=function(t,e,r){for(var n=0;n<e;n+=1){var o,i=u(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.base.solve(a,r)}}catch(s){i.e(s)}finally{i.f()}}},X=function(t,e){var r,n=new D,o={},i=function(t,e){return"".concat(t.id,"_").concat(e)},a=function(t,e){var r=i(t,e);if(!o[r]){var n=o[r]=new E;n.property=e,n.obj=t}},s=u(t);try{for(s.s();!(r=s.n()).done;){var c=r.value;a(c.a,c.base.property),a(c.b,c.base.property)}}catch(m){s.e(m)}finally{s.f()}var f,p=0,l=u(t);try{for(l.s();!(f=l.n()).done;){var h=f.value;try{n.addConstraint(h.base.strict(h,e,o[i(h.a,h.base.property)],o[i(h.b,h.base.property)]))}catch(m){p+=1}}}catch(m){l.e(m)}finally{l.f()}p>0&&console.warn("Skipped ".concat(p," unsolvable constraints")),n.updateVariables();for(var d=0,y=Object.values(o);d<y.length;d++){var v=y[d];v.obj[v.property]=v.value()}},L={property:"y",strict:function(t,e,r,n){return new P(r.minus(n),j.Ge,e.spaceY,O.required)}},T={property:"y",strict:function(t,e,r,n){return new P(r.minus(n),j.Ge,e.layerSpace,O.required)}},G={property:"x",solve:function(t){var e=t.a,r=t.b,n=t.strength*(e.x-r.x);e.x-=n,r.x+=n},strict:function(t,e,r,n){return new P(r.minus(n),j.Eq,0,O.create(1,0,0,t.strength))}},Y={property:"x",solve:function(t){var e=t.edgeA,r=t.edgeB,n=t.separationA,o=t.separationB,i=t.strength,a=i*((e.sourceNode.x-r.sourceNode.x-n)/n),s=i*((e.targetNode.x-r.targetNode.x-o)/o);e.sourceNode.x-=a,r.sourceNode.x+=a,e.targetNode.x-=s,r.targetNode.x+=s}},U={property:"x",strict:function(t,e,r,n){return new P(n.minus(r),j.Ge,t.separation,O.required)}},B=function(t){var e,r=t.nodes,n=t.edges,o=t.layers,i=t.spaceX,a=t.spaceY,s=t.spreadX,c=t.layerSpaceY,f=t.iterations,p=u(r);try{for(p.s();!(e=p.n()).done;){var l=e.value;l.x=0,l.y=0}}catch(M){p.e(M)}finally{p.f()}var h={spaceX:i,spaceY:a,spreadX:s,layerSpace:.5*(a+c)},d=W(n),y=J(r,o);X([].concat(x(d),x(y)),h);for(var m=v(r),g=$(n,h),_=H(n,h),b=0;b<f;b+=1)V(g,1,h),V(_,50,h);var w=K(m,h);X([].concat(x(w),x(_)),h),Q(n,m,a)},W=function(t){return t.map((function(t){return{base:L,a:t.targetNode,b:t.sourceNode}}))},J=function(t,e){var r=[];if(!e)return r;for(var n=e.map((function(e){return t.filter((function(t){return t.nearestLayer===e}))})),o=0;o<n.length-1;o+=1){var i,a=n[o],s=n[o+1],c={id:"layer-".concat(o),x:0,y:0},f=u(a);try{for(f.s();!(i=f.n()).done;){var p=i.value;r.push({base:T,a:c,b:p})}}catch(y){f.e(y)}finally{f.f()}var l,h=u(s);try{for(h.s();!(l=h.n()).done;){var d=l.value;r.push({base:T,a:d,b:c})}}catch(y){h.e(y)}finally{h.f()}}return r},$=function(t,e){for(var r=e.spaceX,n=[],o=0;o<t.length;o+=1)for(var i=t[o],a=i.sourceNode,s=i.targetNode,u=a.sources.length+a.targets.length+s.sources.length+s.targets.length,c=o+1;c<t.length;c+=1){var f=t[c],p=f.sourceNode,l=f.targetNode;if(!(a.row>=l.row||s.row<=p.row)){var h=p.sources.length+p.targets.length+l.sources.length+l.targets.length;n.push({base:Y,edgeA:i,edgeB:f,separationA:.5*a.width+r+.5*p.width,separationB:.5*s.width+r+.5*l.width,strength:1/Math.max(1,(u+h)/4)})}}return n},H=function(t){return t.map((function(t){var e=t.sourceNode,r=t.targetNode;return{base:G,a:e,b:r,strength:.6/Math.max(1,e.targets.length+r.sources.length-2)}}))},K=function(t,e){for(var r=e.spaceX,n=[],o=0;o<t.length;o+=1){var i=t[o];i.sort((function(t,e){return m(t.x,e.x,t.id,e.id)}));for(var a=0;a<i.length-1;a+=1){var s=i[a],u=i[a+1],c=Math.max(1,s.targets.length+s.sources.length-2),p=Math.max(1,u.targets.length+u.sources.length-2),l=Math.min(10,c*p*e.spreadX),h=f(l*r,r);n.push({base:U,a:s,b:u,separation:.5*s.width+h+.5*u.width})}}return n},Q=function(t,e,r){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.25,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.25,i=Z(t),a=Math.round(r*o),s=0,c=0;c<e.length-1;c+=1){var p=i[c]||0,l=f(p*n*r,a);s+=l;var h,d=u(e[c+1]);try{for(d.s();!(h=d.n()).done;){var y=h.value;y.y+=s}}catch(v){d.e(v)}finally{d.f()}}},Z=function(t){var e,r={},n=u(t);try{for(n.s();!(e=n.n()).done;){var o=e.value,i=Math.abs(p(o.targetNode,o.sourceNode)-c)/c,a=o.sourceNode.row,s=o.targetNode.row-1;r[a]=r[a]||[0,0],r[a][0]+=i,r[a][1]+=1,s!==a&&(r[s]=r[s]||[0,0],r[s][0]+=i,r[s][1]+=1)}}catch(l){n.e(l)}finally{n.f()}for(var f in r)r[f]=r[f][0]/(r[f][1]||1);return Object.values(r)},tt=function(t){var e,r=t.nodes,n=t.edges,o=t.spaceX,a=t.spaceY,s=t.minPassageGap,c=t.stemUnit,f=t.stemMinSource,g=t.stemMinTarget,_=t.stemMax,w=t.stemSpaceSource,M=t.stemSpaceTarget,S=v(r),E=u(r);try{for(E.s();!(e=E.n()).done;){e.value.targets.sort((function(t,e){return m(p(e.sourceNode,e.targetNode),p(t.sourceNode,t.targetNode))}))}}catch(mt){E.e(mt)}finally{E.f()}var N,k,A,j=u(n);try{for(j.s();!(N=j.n()).done;){var O=N.value,z=O.sourceNode,P=O.targetNode;O.points=[];for(var C=Math.min((z.width-w)/z.targets.length,w)*(z.targets.indexOf(O)-.5*(z.targets.length-1)),D={x:z.x+C,y:z.y},I=z.row+1;I<P.row;I+=1){for(var F=S[I][0],R={x:l(F)-o,y:F.y},q=1/0,V=[i(i({},F),{},{x:Number.MIN_SAFE_INTEGER})].concat(x(S[I]),[i(i({},F),{},{x:Number.MAX_SAFE_INTEGER})]),X=0;X<V.length-1;X+=1){var L=V[X],T=V[X+1],G=l(T)-h(L);if(!(G<s)){var Y=Math.min(o,.5*G),U=b(D.x,D.y,h(L)+Y,d(L)-a,l(T)-Y,d(T)-a),B=(k=D.x,A=U.x,Math.abs(k-A));if(B>q)break;B<q&&(q=B,R=U)}}var W=F.height+a;O.points.push({x:R.x+C,y:R.y}),O.points.push({x:R.x+C,y:R.y+W}),D={x:R.x,y:R.y+W}}}}catch(mt){j.e(mt)}finally{j.f()}var J,$=u(r);try{for($.s();!(J=$.n()).done;){var H=J.value;H.targets.sort((function(t,e){return m(p(e.sourceNode,e.points[0]||e.targetNode),p(t.sourceNode,t.points[0]||t.targetNode))})),H.sources.sort((function(t,e){return m(p(t.points[t.points.length-1]||t.sourceNode,t.targetNode),p(e.points[e.points.length-1]||e.sourceNode,e.targetNode))}))}}catch(mt){$.e(mt)}finally{$.f()}var K,Q=u(n);try{for(Q.s();!(K=Q.n()).done;){var Z,tt=K.value,et=tt.sourceNode,rt=tt.targetNode,nt=Math.min((et.width-w)/et.targets.length,w),ot=Math.min((rt.width-M)/rt.sources.length,M),it=et.targets.indexOf(tt)-.5*(et.targets.length-1),at=rt.sources.indexOf(tt)-.5*(rt.sources.length-1),st=nt*it,ut=ot*at,ct=c*et.targets.length*(1-Math.abs(it)/et.targets.length),ft=c*rt.sources.length*(1-Math.abs(at)/rt.sources.length),pt=[{x:et.x+st,y:y(et)},{x:et.x+st,y:y(et)+f},{x:et.x+st,y:y(et)+f+Math.min(ct,_)}],lt=[{x:rt.x+ut,y:d(rt)-g-Math.min(ft,_)},{x:rt.x+ut,y:d(rt)-g},{x:rt.x+ut,y:d(rt)}],ht=[].concat(pt,x(tt.points),lt),dt=ht[0].y,yt=u(ht);try{for(yt.s();!(Z=yt.n()).done;){var vt=Z.value;vt.y<dt?vt.y=dt:dt=vt.y}}catch(mt){yt.e(mt)}finally{yt.f()}tt.points=ht}}catch(mt){Q.e(mt)}finally{Q.f()}},et={layout:{spaceX:14,spaceY:110,layerSpaceY:55,spreadX:2.2,padding:100,iterations:25},routing:{spaceX:26,spaceY:28,minPassageGap:40,stemUnit:8,stemMinSource:5,stemMinTarget:5,stemMax:20,stemSpaceSource:6,stemSpaceTarget:10}},rt=function(t,e){var r,n={},o=u(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;n[i.id]=i,i.targets=[],i.sources=[]}}catch(f){o.e(f)}finally{o.f()}var a,s=u(e);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.sourceNode=n[c.source],c.targetNode=n[c.target],c.sourceNode.targets.push(c),c.targetNode.sources.push(c)}}catch(f){s.e(f)}finally{s.f()}},nt=function(t,e){if(e&&e.length>0){var r,n={},o=u(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;n[i]=!0}}catch(h){o.e(h)}finally{o.f()}var a,s=function(t){return Boolean(t&&t.layer in n)},c=e[e.length-1],f=u(t);try{for(f.s();!(a=f.n()).done;){var p=a.value,l=at(p,ot,it,s);p.nearestLayer=l?l.layer:c}}catch(h){f.e(h)}finally{f.f()}}},ot=function(t){return t.targets.map((function(t){return t.targetNode}))},it=function(t,e){return t.rank-e.rank},at=function t(e,r,n,o,i){return o(e)?e:((i=i||{})[e.id]=!0,r(e).filter((function(t){return!i[t.id]})).sort(n).map((function(e){return t(e,r,n,o,i)})).filter(o).sort(n)[0])},st=function(t,e){var r,n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},o=u(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.x,s=i.y;a<n.min.x&&(n.min.x=a),a>n.max.x&&(n.max.x=a),s<n.min.y&&(n.min.y=s),s>n.max.y&&(n.max.y=s)}}catch(c){o.e(c)}finally{o.f()}return n.width=n.max.x-n.min.x+2*e,n.height=n.max.y-n.min.y+2*e,n.min.x-=e,n.min.y-=e,n},ut=function(t){var e=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:et;rt(t,e),nt(t,r),B(i({nodes:t,edges:e,layers:r},n.layout)),tt(i({nodes:t,edges:e,layers:r},n.routing));var o=st(t,n.layout.padding);return t.forEach((function(t){return g(t,o.min)})),e.forEach((function(t){return _(t,o.min)})),{nodes:t,edges:e,layers:r,size:o}}(t.nodes,t.edges,t.layers);return i(i({},e),{},{size:i(i({},e.size),{},{marginx:100,marginy:100})})};addEventListener("message",(function(t){var r,n=t.data,o=n.type,i=n.method,a=n.id,s=n.params;"RPC"===o&&i&&((r=e[i])?Promise.resolve().then((function(){return r.apply(e,s)})):Promise.reject("No such method")).then((function(t){postMessage({type:"RPC",id:a,result:t})})).catch((function(t){var e={message:t};t.stack&&(e.message=t.message,e.stack=t.stack,e.name=t.name),postMessage({type:"RPC",id:a,error:e})}))})),postMessage({type:"RPC",method:"ready"})}]);\n//# sourceMappingURL=2f1baf0dc7e9501ac0ca.worker.js.map'])),{name:"[hash].worker.js"});return n(e,r),e}},226:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},381:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},443:function(e,t){},444:function(e,t,a){},445:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(24),o=a.n(i),s=a(30),l=a(31),c=a(49),u=a(48),d=a(7),p=(a(53),a(214),a(180)),f=a.n(p),m=a(200),_=a(67),g=a(181),h=a(182),b=a.n(h),y=a(8),v="RESET_DATA";function j(e){return{type:v,data:e}}var O="TOGGLE_LAYERS";var x="TOGGLE_EXPORT_MODAL";function k(e){return{type:x,visible:e}}var w="TOGGLE_SETTINGS_MODAL";function T(e){return{type:w,visible:e}}var N="TOGGLE_PLOT_MODAL";function S(e){return{type:N,visible:e}}var M="TOGGLE_GRAPH";function E(e){return{type:M,visible:e}}var P="TOGGLE_TEXT_LABELS";var C="TOGGLE_SIDEBAR";var z="TOGGLE_THEME";var I="UPDATE_CHART_SIZE";var D="UPDATE_ZOOM";function R(e){return{type:D,zoom:e}}var L="UPDATE_FONT_LOADED";var A="TOGGLE_MINIMAP";var F="CHANGE_FLAG";function q(e,t){return{type:F,name:e,value:t}}var B="TOGGLE_IGNORE_LARGE_WARNING";var G="TOGGLE_CODE";var U="TOGGLE_PARAMETERS_HOVERED";var V="TOGGLE_MODULAR_PIPELINE_FOCUS_MODE";var H,W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object.assign({},e,Object(y.a)({},t.name,t.value));default:return e}},Y=a(17),X=a.n(Y),K=a(34),Z="undefined"!==typeof jest,J=a(Z?446:218),Q=(H=J,Z?function(){var e={terminate:function(){}};return Object.keys(H).forEach((function(t){e[t]=function(e){return new Promise((function(a){return a(H[t](e))}))}})),e}:H);var $="TOGGLE_GRAPH_LOADING";function ee(e){return{type:$,loading:e}}var te="UPDATE_GRAPH_LAYOUT";function ae(e){return{type:te,graph:e}}var ne=function(e,t){var a=e(),n=!1;return function(r){return n&&(a.terminate(),a=e()),n=!0,t(a,r).then((function(e){return n=!1,e}))}}(Q,(function(e,t){return e.graphNew(t)}));var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=function(t){return Object.assign({},e,t)};switch(t.type){case te:return a(t.graph);default:return e}};var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object.assign({},e,{visible:t.visible});default:return e}},oe="./api",se="KedroViz",le={open:400,closed:0},ce={open:400,closed:56,breakpoint:700},ue={open:480,closed:0},de={sizewarning:{name:"Size Warning",description:"Show a warning before rendering very large graphs",default:!0,icon:"\ud83d\udc33"}},pe={elementType:"Element types",tag:"Tags"},fe={task:"Nodes",data:"Datasets",parameters:"Parameters"},me={"kedro.extras.datasets.plotly.plotly_dataset.PlotlyDataSet":"plotly"},_e=function(e,t){var a={};return e.forEach((function(e){a[e]=t(e)})),a},ge=function(e,t){switch(e){case"main":return[oe,"main"].join("/");case"pipeline":if(!t)throw new Error("No pipeline ID provided");return[oe,"pipelines",t].join("/");case"nodes":if(!t)throw new Error("No node ID provided");return[oe,"nodes",t].join("/");default:throw new Error("Unknown URL type")}},he=function(e,t,a){return a.indexOf(e)===t},be=a(469),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge("main"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="quantumblacklabs.github.io"===document.location.host,n=a?"https://yceqbk22jb.execute-api.eu-west-2.amazonaws.com/prod".concat(e.substr(1)):e;return Object(be.a)(n).catch((function(){var a="/public".concat(e.substr(1));if(e===ge("main"))throw new Error("Unable to load data from ".concat(e,". If you're running Kedro-Viz as a standalone (e.g. for JavaScript development), please check that you have placed a data file at ").concat(a,"."));return new Promise((function(e){return e(t)}))}))},ve=a(2),je=a(38),Oe=a.n(je),xe="undefined"===typeof window,ke=function(){if(xe)return{};try{var e=window.localStorage.getItem(se);return null===e?{}:JSON.parse(e)}catch(t){return console.error(t),{}}},we=function(e){if(!xe)try{var t=Object.assign(ke(),e);t.hasOwnProperty("nodeTypeDisabled")&&delete t.nodeTypeDisabled;var a=JSON.stringify(t);window.localStorage.setItem(se,a)}catch(n){console.error(n)}},Te=function(e){var t={};for(var a in e)e.hasOwnProperty(a)&&e[a]&&(t[a]=e[a]);return t},Ne=function(e){var t={pipeline:{ids:[],name:{}},modularPipeline:{ids:[],name:{},enabled:{},active:{}},node:{ids:[],name:{},fullName:{},type:{},tags:{},layer:{},disabled:{},pipelines:{},clicked:null,hovered:null,fetched:{},code:{},parameters:{},filepath:{},inputs:{},outputs:{},plot:{},datasetType:{},originalType:{},transcodedTypes:{},runCommand:{},modularPipelines:{}},nodeType:{ids:["task","data","parameters"],name:{data:"Datasets",task:"Nodes",parameters:"Parameters"},disabled:{}},edge:{ids:[],sources:{},targets:{}},layer:{ids:[],name:{},visible:!0},tag:{ids:[],name:{},active:{},enabled:{}},hoveredParameters:!1};return"json"===e?t.dataSource="json":e.source&&(t.dataSource=e.source),function(e){if(!e)throw new Error("No data provided to Kedro-Viz");if("json"===e)return!1;if(!Array.isArray(e.edges)||!Array.isArray(e.nodes))throw"undefined"===typeof jest&&console.error("Invalid Kedro-Viz data:",e),new Error("Invalid Kedro-Viz data input. Please ensure that your pipeline data includes arrays of nodes and edges");return!0}(e)?(e.nodes.forEach(function(e){return function(t){var a=t.id;e.node.name[a]||(e.node.ids.push(a),e.node.name[a]=t.name,e.node.fullName[a]=t.full_name||t.name,e.node.type[a]=t.type,e.node.layer[a]=t.layer,e.node.pipelines[a]=t.pipelines?_e(t.pipelines,(function(){return!0})):{},e.node.tags[a]=t.tags||[],e.node.code[a]=t.code,e.node.parameters[a]=t.parameters,e.node.filepath[a]=t.filepath,e.node.plot[a]=t.plot,e.node.datasetType[a]=t.dataset_type,e.node.originalType[a]=t.original_type,e.node.transcodedTypes[a]=t.transcoded_types,e.node.runCommand[a]=t.runCommand,e.node.modularPipelines[a]=t.modular_pipelines||[])}}(t)),e.edges.forEach(function(e){return function(t){var a=t.source,n=t.target,r=function(e,t){return[e,t].join("|")}(a,n);e.edge.ids.includes(r)||(e.edge.ids.push(r),e.edge.sources[r]=a,e.edge.targets[r]=n)}}(t)),e.pipelines&&(e.pipelines.forEach(function(e){return function(t){var a=t.id;e.pipeline.name[a]||(e.pipeline.ids.push(a),e.pipeline.name[a]=t.name)}}(t)),t.pipeline.ids.length&&(t.pipeline.main=e.selected_pipeline||t.pipeline.ids[0],t.pipeline.active=t.pipeline.main)),e.modular_pipelines&&e.modular_pipelines.forEach(function(e){return function(t){var a=t.id,n=t.name;e.modularPipeline.name[a]||(e.modularPipeline.ids.push(a),e.modularPipeline.name[a]=n)}}(t)),e.tags&&e.tags.forEach(function(e){return function(t){var a=t.id;e.tag.ids.push(a),e.tag.name[a]=t.name}}(t)),e.layers&&e.layers.forEach(function(e){return function(t){e.layer.ids.push(t),e.layer.name[t]=t}}(t)),t):t},Se=a(10),Me=a(16),Ee={isDefined:function(e){return Ee.names().includes(e)},names:function(){return Object.keys(de)},defaults:function(){return Ee.names().reduce((function(e,t){return Object.assign(e,Object(y.a)({},t,de[t].default))}),{})}},Pe=function(e){var t,a={};try{t=new URL(e||document.location.href).searchParams}catch(n){return console.warn("Feature flags are not supported in this browser"),a}return Object(Me.a)(t).forEach((function(e){var t=Object(Se.a)(e,2),n=t[0],r=t[1];return Ee.isDefined(n)?a[n]="true"===r||"1"===r||""===r:null})),a},Ce=function(e){var t=ke();return Object.keys(t).forEach((function(a){e[a]||delete t[a]})),Oe()(e,t)},ze=function(e,t){var a=Ce(Ne(e));return t&&(a.pipeline.ids.includes(a.pipeline.active)||(a.pipeline.active=a.pipeline.main)),a},Ie=function(e){var t=Ce({chartSize:{},flags:Ee.defaults(),textLabels:!0,theme:"dark",ignoreLargeWarning:!1,loading:{graph:!1,pipeline:!1,node:!1},visible:{graph:!0,labelBtn:!0,layerBtn:!0,exportBtn:!0,settingsBtn:!0,exportModal:!1,plotModal:!1,settingsModal:!1,sidebar:window.innerWidth>ce.breakpoint,code:!1,themeBtn:!0,miniMapBtn:!0,miniMap:!0,modularPipelineFocusMode:null},zoom:{}});return Object(ve.a)(Object(ve.a)({},t),{},{flags:Object(ve.a)(Object(ve.a)({},t.flags),Pe()),theme:e.theme||t.theme,visible:Object(ve.a)(Object(ve.a)({},t.visible),e.visible)})},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ie(e);we({nodeType:{disabled:{parameters:!0,task:!1,data:!1}}});var a=ze(e.data,"json"!==e.data);return Object(ve.a)(Object(ve.a)({},t),a)},Re="UPDATE_ACTIVE_PIPELINE";function Le(e){return{type:Re,pipeline:e}}var Ae="TOGGLE_PIPELINE_LOADING";function Fe(e){return{type:Ae,loading:e}}var qe=function(e){return e.active===e.main?ge("main"):ge("pipeline",e.active)};var Be="TOGGLE_NODE_CLICKED";function Ge(e){return{type:Be,nodeClicked:e}}var Ue="TOGGLE_NODES_DISABLED";var Ve="TOGGLE_NODE_HOVERED";function He(e){return{type:Ve,nodeHovered:e}}var We="TOGGLE_NODE_DATA_LOADING";function Ye(e){return{type:We,loading:e}}var Xe="ADD_NODE_METADATA";function Ke(e){return function(){var t=Object(K.a)(X.a.mark((function t(a,n){var r,i,o,s,l;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),i=r.dataSource,o=r.node,a(Ge(e)),"json"!==i||!e||o.fetched[e]){t.next=10;break}return a(Ye(!0)),s=ge("nodes",e),t.next=7,ye(s);case 7:l=t.sent,a({type:Xe,data:{id:e,data:l}}),a(Ye(!1));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}var Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object.assign({},e,{pipeline:t.loading});case $:return Object.assign({},e,{graph:t.loading});case We:return Object.assign({},e,{node:t.loading});default:return e}};var Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=function(t){return Object.assign({},e,t)};switch(t.type){case Be:return a({clicked:t.nodeClicked});case Ue:return a({clicked:t.nodeIDs.includes(e.clicked)?null:e.clicked,disabled:t.nodeIDs.reduce((function(e,a){return Object.assign({},e,Object(y.a)({},a,t.isDisabled))}),e.disabled)});case Ve:return a({hovered:t.nodeHovered});case Re:return a({clicked:null,hovered:null});case Xe:var n=t.data,r=n.id,i=n.data;return a({fetched:Object.assign({},e.fetched,Object(y.a)({},r,!0)),code:Object.assign({},e.code,Object(y.a)({},r,i.code)),filepath:Object.assign({},e.filepath,Object(y.a)({},r,i.filepath)),parameters:Object.assign({},e.parameters,Object(y.a)({},r,i.parameters)),inputs:Object.assign({},e.inputs,Object(y.a)({},r,i.inputs)),outputs:Object.assign({},e.outputs,Object(y.a)({},r,i.outputs)),datasetType:Object.assign({},e.datasetType,Object(y.a)({},r,i.type)),originalType:Object.assign({},e.originalType,Object(y.a)({},r,i.original_type)),transcodedTypes:Object.assign({},e.transcodedTypes,Object(y.a)({},r,i.transcoded_types)),plot:Object.assign({},e.plot,Object(y.a)({},r,i.plot)),runCommand:Object.assign({},e.runCommand,Object(y.a)({},r,i.run_command))});default:return e}},Qe="TOGGLE_TYPE_DISABLED";function $e(e,t){return{type:Qe,typeIDs:"string"===typeof e?Object(y.a)({},e,t):e}}var et={parameters:0,task:0,data:0},tt=function(e){return 0===e},at=function(e){return!0===e};var nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:var a=Object(ve.a)(Object(ve.a)({},e.disabled),t.typeIDs),n=Object.values(a);if(n.every(at))return Object(ve.a)(Object(ve.a)({},e),{},{disabled:Object(ve.a)({},et)});for(var r in a)tt(a[r])&&(a[r]=!0);return Object(ve.a)(Object(ve.a)({},e),{},{disabled:a});default:return e}};var rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return Object.assign({},e,{active:t.pipeline});default:return e}},it="TOGGLE_TAG_ACTIVE";var ot="TOGGLE_TAG_FILTER";var st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=function(t){return Object.assign({},e,t)},n=function(e){return t.tagIDs.reduce((function(a,n){return a[n]=t[e],a}),{})};switch(t.type){case it:return a({active:Object.assign({},e.active,n("active"))});case ot:return a({enabled:Object.assign({},e.enabled,n("enabled"))});default:return e}},lt="TOGGLE_MODULAR_PIPELINE_ACTIVE";function ct(e,t){return{type:lt,modularPipelineIDs:Array.isArray(e)?e:[e],active:t}}var ut="TOGGLE_MODULAR_PIPELINE_FILTER";function dt(e,t){return{type:ut,modularPipelineIDs:Array.isArray(e)?e:[e],enabled:t}}var pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=function(t){return Object.assign({},e,t)},n=function(e){return t.modularPipelineIDs.reduce((function(a,n){return a[n]=t[e],a}),{})};switch(t.type){case lt:return a({active:Object.assign({},e.active,n("active"))});case ut:return a({enabled:Object.assign({},e.enabled,n("enabled"))});default:return e}};var ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object.assign({},e,{graph:t.visible});case N:return Object.assign({},e,{plotModal:t.visible});case x:return Object.assign({},e,{exportModal:t.visible});case w:return Object.assign({},e,{settingsModal:t.visible});case C:return Object.assign({},e,{sidebar:t.visible});case A:return Object.assign({},e,{miniMap:t.visible});case G:return Object.assign({},e,{code:t.visible});case V:return Object.assign({},e,{modularPipelineFocusMode:t.modularPipeline});default:return e}},mt=function(e,t,a){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return"undefined"!==typeof a&&r.type===t?r[a]:n}};var _t=Object(_.b)({flags:W,graph:re,layer:ie,loading:Ze,node:Je,nodeType:nt,pipeline:rt,tag:st,modularPipeline:pt,visible:ft,dataSource:mt(null),edge:mt({}),chartSize:mt({},I,"chartSize"),zoom:mt({},D,"zoom"),fontLoaded:mt(!1,L,"fontLoaded"),textLabels:mt(!0,P,"textLabels"),theme:mt("dark",z,"theme"),hoveredParameters:mt(!1,U,"hoveredParameters"),ignoreLargeWarning:mt(!1,B,"ignoreLargeWarning")}),gt=function(e,t){return _t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===v?Object.assign({},e,t.data):e}(e,t),t)},ht=a(4),bt=a(5),yt=a(470),vt=function(e){return e.node.ids},jt=Object(ht.a)([vt,function(e){return e.node.pipelines},function(e){return e.pipeline.active},function(e){return e.dataSource}],(function(e,t,a,n){return"json"!==n&&a?_e(e,(function(e){return!t[e][a]})):{}})),Ot=Object(ht.a)([vt,jt],(function(e,t){return e.filter((function(e){return!t[e]}))})),xt=Object(ht.a)([Ot,function(e){return e.node.tags}],(function(e,t){var a={};return e.forEach((function(e){t[e].forEach((function(e){a[e]||(a[e]=!0)}))})),Object.keys(a)})),kt=Object(ht.a)([Ot,function(e){return e.node.modularPipelines},function(e){return e.modularPipeline.ids}],(function(e,t,a){var n={};return a.length>0&&e.forEach((function(e){t[e].forEach((function(e){n[e]||(n[e]=!0)}))})),Object.keys(n)})),wt=function(e){return e.tag.enabled},Tt=Object(ht.a)([xt,function(e){return e.tag.name},function(e){return e.tag.active},wt],(function(e,t,a,n){return e.sort().map((function(e){return{id:e,name:t[e],active:Boolean(a[e]),enabled:Boolean(n[e])}}))})),Nt=Object(ht.a)([xt,wt],(function(e,t){return{total:e.length,enabled:e.filter((function(e){return t[e]})).length}})),St=Object(ht.a)([function(e){return e.node.tags}],(function(e){for(var t={},a=0,n=Object.values(e);a<n.length;a++){var r,i=n[a],o=Object(bt.a)(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;t[s]=t[s]+1||1}}catch(l){o.e(l)}finally{o.f()}}return t})),Mt=function(e){return e.modularPipeline.ids},Et=function(e){return e.visible.modularPipelineFocusMode},Pt=function(e){return e.modularPipeline.enabled},Ct=Object(ht.a)([Mt,function(e){return e.modularPipeline.name},Pt],(function(e,t,a){return e.slice().sort().map((function(e){return{id:e,name:t[e],enabled:Boolean(a[e])}}))})),zt=Object(ht.a)([kt,Pt],(function(e,t){return{total:e.length,enabled:e.filter((function(e){return t[e]})).length}})),It=function(e){return e.node.ids},Dt=function(e){return e.node.type},Rt=function(e){return e.edge.ids},Lt=function(e){return e.edge.sources},At=function(e){return e.edge.targets},Ft=Object(ht.a)([It,function(e){return e.tag.enabled},Nt,function(e){return e.node.tags}],(function(e,t,a,n){return _e(e,(function(e){return 0!==a.enabled&&(!n[e].length||!n[e].some((function(e){return t[e]})))}))})),qt=function(e,t,a){return e[t].some((function(e){return a[e]}))},Bt=Object(ht.a)([It,function(e){return e.modularPipeline.enabled},zt,function(e){return e.node.modularPipelines},Rt,Dt,Lt,At],(function(e,t,a,n,r,i,o,s){return _e(e,(function(e){if(0===a.enabled)return!1;var l=!qt(n,e,t);if(l&&("parameters"===i[e]||"data"===i[e])){var c=r.filter((function(t){return t.includes(e)})),u=!1;return c.forEach((function(a){var r=o[a],i=s[a],l=r===e&&qt(n,i,t),c=i===e&&qt(n,r,t);(l||c)&&!1===u&&(u=!0)})),!u}return l}))})),Gt=Object(ht.a)([It,function(e){return e.node.disabled},Ft,Bt,jt,Dt,function(e){return e.nodeType.disabled}],(function(e,t,a,n,r,i,o){return _e(e,(function(e){return[t[e],a[e],n[e],r[e],o[i[e]]].some(Boolean)}))})),Ut=Object(ht.a)([Ot,Gt],(function(e,t){return e.filter((function(e){return!t[e]}))})),Vt=Object(ht.a)([Ut,function(e){return e.node.layer},function(e){return e.layer.ids},function(e){return e.layer.visible}],(function(e,t,a,n){if(!n)return[];var r,i={},o=Object(bt.a)(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;i[t[s]]=!0}}catch(l){o.e(l)}finally{o.f()}return a.filter((function(e){return i[e]}))})),Ht=Object(ht.a)([Rt,Gt,Lt,At],(function(e,t,a,n){return _e(e,(function(e){var r=a[e],i=n[e];return Boolean(t[r]||t[i])}))})),Wt=function(e,t){return me[e]||t},Yt=a(83),Xt=a.n(Yt),Kt=function(e){return e.edge.ids},Zt=function(e){return e.edge.sources},Jt=function(e){return e.edge.targets},Qt=function(e){return e.node.modularPipelines},$t=Object(ht.a)([function(e){return e.node.ids},Kt,Gt,Zt,Jt,Et,Qt],(function(e,t,a,n,r,i,o){var s={edgeIDs:[],sources:{},targets:{}},l=function e(l){t.forEach((function(t){var c=l[l.length-1];if(n[t]===c){var u=r[t],d=null!==i&&!o[c].includes(i.id)&&!o[u].includes(i.id);a[u]?e(l.concat(u)):l.length>1&&!d&&function(e,t,a){var n=a.edgeIDs,r=a.sources,i=a.targets,o=[e,t].join("|");n.includes(o)||(n.push(o),r[o]=e,i[o]=t)}(l[0],u,s)}}))};return e.some((function(e){return a[e]}))&&e.forEach((function(e){a[e]||l([e])})),s})),ea=Object(ht.a)([Kt,Ht,Zt,Jt,$t],(function(e,t,a,n,r){return e.filter((function(e){return!t[e]})).concat(r.edgeIDs).map((function(e){return{id:e,source:a[e]||r.sources[e],target:n[e]||r.targets[e]}}))})),ta=Object(ht.a)([ea,Qt,Et],(function(e,t,a){var n={};return null!==a&&e.forEach((function(e){var r,i;(null===(r=t[e.source])||void 0===r?void 0:r.includes(a.id))&&(null===(i=t[e.target])||void 0===i?void 0:i.includes(a.id))||(n[e.id]=e)})),n})),aa=Object(ht.a)([Ut,Vt,function(e){return e.node.layer}],(function(e,t,a){if(!t.length)return[];var n,r={},i=Object(bt.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=a[o];r[s]||(r[s]=[]),r[s].push(o)}}catch(l){i.e(l)}finally{i.f()}return t.map((function(e){return r[e]}))})),na=Object(ht.a)([Ut,ea,aa,Vt],(function(e,t,a,n){if(!n.length)return{};var r,i={},o=Object(bt.a)(e);try{for(o.s();!(r=o.n()).done;){i[r.value]=[]}}catch(O){o.e(O)}finally{o.f()}var s,l=Object(bt.a)(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;i[c.source].push(c.target)}}catch(O){l.e(O)}finally{l.f()}for(var u=1;u<a.length;u++){var d,p=Object(bt.a)(a[u-1]);try{for(p.s();!(d=p.n()).done;){var f,m=d.value,_=Object(bt.a)(a[u]);try{for(_.s();!(f=_.n()).done;){var g=f.value;i[m].push(g)}}catch(O){_.e(O)}finally{_.f()}}}catch(O){p.e(O)}finally{p.f()}}for(var h=Xt()(i),b={},y=0;y<h.length;y++){var v,j=Object(bt.a)(h[y]);try{for(j.s();!(v=j.n()).done;){b[v.value]=y}}catch(O){j.e(O)}finally{j.f()}}return b})),ra=function(e){return e.node.name},ia=function(e){return e.node.modularPipelines},oa=function(e){return e.node.type},sa=function(e){return e.node.datasetType},la=function(e){return e.fontLoaded},ca=Object(ht.a)([function(e){return e.graph.nodes}],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return e[t.id]=t,e}),{})})),ua=Object(ht.a)([Ot,function(e){return e.node.hovered},function(e){return e.node.tags},ia,function(e){return e.tag.active},function(e){return e.modularPipeline.active}],(function(e,t,a,n,r,i){return _e(e,(function(e){if(e===t)return!0;var o=a[e].some((function(e){return r[e]})),s=n[e]&&n[e].some((function(e){return i[e]}));return Boolean(o)||Boolean(s)}))})),da=Object(ht.a)([Ot,function(e){return e.node.clicked},Gt],(function(e,t,a){return _e(e,(function(e){return e===t&&!a[e]}))})),pa=Object(ht.a)([Ot,ra,oa,sa,Gt,function(e){return e.node.disabled},Ft,Bt,function(e){return e.nodeType.disabled},ia],(function(e,t,a,n,r,i,o,s,l,c){return e.sort((function(e,a){return t[e]<t[a]?-1:t[e]>t[a]?1:0})).map((function(e){return{id:e,name:t[e],type:a[e],icon:Wt([n[e]],a[e]),modularPipelines:c[e],disabled:r[e],disabledNode:Boolean(i[e]),disabledTag:o[e],disabledModularPipeline:s[e],disabledType:Boolean(l[a[e]])}}))})),fa=Object(ht.a)([pa],(function(e){return e.reduce((function(e,t){var a=t.type;return e.hasOwnProperty(a)||(e[a]=[]),e[a].push(t),e}),{})})),ma=Object(ht.a)([Ot,ra,la],(function(e,t,a){if(!a)return{};var n={},r=Object(yt.a)(document.body).append("svg").attr("class","kedro pipeline-node");return r.selectAll("text").data(e).enter().append("text").text((function(e){return t[e]})).each((function(e){var t=this.getBBox?this.getBBox().width:0;n[e]=t})),r.remove(),n})),_a=Object(ht.a)([Ot,ma,function(e){return e.textLabels},oa,la],(function(e,t,a,n,r){return r?_e(e,(function(e){var r,i,o=a?24:28,s=(r=a,i="task"===n[e],r?i?{x:16,y:10}:{x:20,y:10}:i?{x:14,y:14}:{x:16,y:16}),l=a?t[e]:0,c=o+l+(a?6:0);return{showText:a,width:c+2*s.x,height:o+2*s.y,textOffset:(c-l)/2-1,iconOffset:-c/2,iconSize:o}})):{}})),ga=Object(ht.a)([Ut,ra,oa,sa,function(e){return e.node.fullName},_a,function(e){return e.node.layer},na,la],(function(e,t,a,n,r,i,o,s,l){return l?e.map((function(e){return Object(ve.a)({id:e,name:t[e],label:t[e],fullName:r[e],icon:Wt([n[e]],a[e]),type:a[e],layer:o[e],rank:s[e]},i[e])})):[]})),ha=Object(ht.a)([ca,ra,function(e){return e.edge.ids},oa,function(e){return e.edge.sources},function(e){return e.edge.targets}],(function(e,t,a,n,r,i){var o,s={},l=Object(bt.a)(a);try{for(l.s();!(o=l.n()).done;){var c=o.value,u=r[c],d=i[c];"parameters"===n[u]&&"task"===n[d]&&(s[d]||(s[d]=[]),s[d].push(t[u]))}}catch(p){l.e(p)}finally{l.f()}return s})),ba=Object(ht.a)([function(e){return e.visible.modularPipelineFocusMode},ca,ia],(function(e,t,a){var n={};if(null!==e)for(var r in t)a[r].includes(null===e||void 0===e?void 0:e.id)||(n[r]=t[r]);return n})),ya=function(e){return e.node.clicked},va=function(e,t){return(e.name||e).localeCompare(t.name||t)},ja=Object(ht.a)([ya],(function(e){return Boolean(e)})),Oa=Object(ht.a)([ya,ca,function(e){return e.node.tags},function(e){return e.tag.name},function(e){return e.pipeline},function(e){return e.node.filepath},function(e){return e.node.inputs},function(e){return e.node.outputs},function(e){return e.node.code},function(e){return e.node.parameters},function(e){return e.node.plot},function(e){return e.node.datasetType},function(e){return e.node.originalType},function(e){return e.node.transcodedTypes},function(e){return e.node.runCommand}],(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0,p=arguments.length>12?arguments[12]:void 0,f=arguments.length>13?arguments[13]:void 0,m=arguments.length>14?arguments[14]:void 0,_=t[e];if(!_)return null;var g={node:_,tags:Object(Me.a)(a[_.id]).map((function(e){return n[e]})).sort(va),pipeline:r.name[r.active],parameters:c[_.id],runCommand:m[_.id],code:l[_.id],filepath:i[_.id],plot:u[_.id],datasetType:d[_.id],originalType:p[_.id],transcodedTypes:f[_.id],inputs:o[_.id],outputs:s[_.id]};return g})),xa=Object(ht.a)([ga,ea,function(e){return e.ignoreLargeWarning},function(e){var t,a;return Boolean(null===(t=e.graph)||void 0===t||null===(a=t.nodes)||void 0===a?void 0:a.length)},function(e){return e.flags.sizewarning}],(function(e,t,a,n,r){return e.length+1.5*t.length>1e3&&!a&&!n&&r})),ka=Object(ht.a)([ga,ea,Vt,function(e){return e.fontLoaded},xa],(function(e,t,a,n,r){return!n||r?null:{nodes:e,edges:t,layers:a,fontLoaded:n}})),wa=function(e,t){var a=t.open,n=t.closed;return e?a:n},Ta=Object(ht.a)([function(e){return e.visible.sidebar},ja,function(e){return e.visible.code},function(e){return e.chartSize}],(function(e,t,a,n){var r=n.left,i=n.top,o=n.width,s=n.height;if(!o||!s)return{};var l=wa(e,ce),c=wa(t,le),u=wa(a,ue);return{left:r,top:i,outerWidth:o,outerHeight:s,height:s,width:o-l-c-u,minWidthScale:.25,sidebarWidth:l,metaSidebarWidth:c,codeSidebarWidth:u}})),Na=Object(ht.a)([function(e){return e.zoom}],(function(e){return Object(ve.a)({},e)})),Sa=["exportModal","plotModal","settingsModal","modularPipelineFocusMode"],Ma=function(e){var t=b()((function(){return ka(e.getState())}));e.subscribe(t((function(t){var a;e.dispatch((a=t)?function(){var e=Object(K.a)(X.a.mark((function e(t){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ee(!0)),e.next=3,ne(a);case 3:return n=e.sent,t(E(!0)),t(ee(!1)),e.abrupt("return",t(ae(n)));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():ae(a))})))};function Ea(e){var t=Object(_.c)(gt,e,Object(_.a)(g.a));return Ma(t),t.subscribe((function(){!function(e){var t=e.visible,a=(t.exportModal,t.plotModal,t.settingsModal,t.modularPipelineFocusMode,Object(m.a)(t,Sa));we({node:{disabled:Te(e.node.disabled)},nodeType:{disabled:e.nodeType.disabled},pipeline:{active:e.pipeline.active},layer:{visible:e.layer.visible},tag:{enabled:e.tag.enabled},textLabels:e.textLabels,visible:a,theme:e.theme,flags:e.flags})}(t.getState())})),t}var Pa=a(6),Ca=a.n(Pa),za=a(35),Ia=a.n(za),Da=(a(226),a(0)),Ra=Object(d.b)((function(e){return{theme:e.theme,sidebarVisible:e.visible.sidebar,nodes:ga(e),visible:xa(e)}}),(function(e){return{onDisable:function(){e(q("sizewarning",!1))},onHide:function(){e({type:B,ignoreLargeWarning:!0})}}}))((function(e){var t=e.onDisable,a=e.onHide,n=e.nodes,r=e.sidebarVisible,i=e.theme;return e.visible?Object(Da.jsxs)("div",{className:Ca()("kedro","pipeline-warning",{"pipeline-warning--sidebar-visible":r}),children:[Object(Da.jsx)("h2",{className:"pipeline-warning__title",children:"Whoa, that\u2019s a chonky pipeline!"}),Object(Da.jsxs)("p",{className:"pipeline-warning__subtitle",children:["This graph contains ",Object(Da.jsx)("b",{children:n.length})," elements, which will take a while to render. You can use the sidebar controls to select a smaller graph."]}),Object(Da.jsx)(Ia.a,{theme:i,onClick:a,children:"Render it anyway"}),Object(Da.jsx)(Ia.a,{theme:i,onClick:t,size:"small",mode:"secondary",animation:"wipe",children:"Don't show this again"})]}):null})),La=a(18),Aa=Object(ht.a)([function(e){return e.graph},Vt,function(e){return e.layer.name}],(function(e,t,a){var n=e.nodes,r=e.size;if(!n||!r||!n.length||!t.length)return[];var i,o=r.width,s=r.height,l={},c=Object(bt.a)(n);try{for(c.s();!(i=c.n()).done;){var u=i.value,d=u.nearestLayer||u.layer;if(d){var p=l[d]||(l[d]=[1/0,-1/0]);u.y-u.height<p[0]&&(p[0]=u.y-u.height),u.y+u.height>p[1]&&(p[1]=u.y+u.height)}}}catch(f){c.e(f)}finally{c.f()}return t.map((function(e,n){var r=l[e]||[0,0],i=l[t[n-1]]||[r[0],r[0]],c=l[t[n+1]]||[r[1],r[1]],u=(i[1]+r[0])/2,d=(r[1]+c[0])/2,p=5*Math.max(o,s);return{id:e,name:a[e],x:(p-o)/-2,y:u,width:p,height:Math.max(d-u,0)}}))})),Fa=Object(ht.a)([ea],(function(e){var t,a={},n={},r=Object(bt.a)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;a[i.target]||(a[i.target]=[]),a[i.target].push(i.source),n[i.source]||(n[i.source]=[]),n[i.source].push(i.target)}}catch(o){r.e(o)}finally{r.f()}return{sourceEdges:a,targetEdges:n}})),qa=function e(t,a,n){return n[t]||(n[t]=!0,a[t]&&a[t].forEach((function(t){return e(t,a,n)}))),n},Ba=Object(ht.a)([Fa,function(e){return e.node.clicked}],(function(e,t){var a=e.sourceEdges,n=e.targetEdges;if(!t)return{};var r={};return qa(t,a,r),r[t]=!1,qa(t,n,r),r})),Ga=(a(29),a(186)),Ua=a(477),Va=a(472),Ha=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object.keys(t||{}).reduce((function(a,n){var r=t[n];return"string"!==typeof r&&"number"!==typeof r?"".concat(a," ").concat(e,"--").concat(r?"":"no-").concat(n):"".concat(a," ").concat(e,"--").concat(n,"-").concat((r+"").replace(/\s/g,"-"))}),e)+(a?" "+a:"")},Wa={data:"M12 4c3.31 0 6 1.67 6 3.73l-.01.27H18v9h-.02a1.1 1.1 0 01-.16.42c-1.14 1.7-3.11 2.53-5.82 2.53s-4.68-.82-5.82-2.53a1.09 1.09 0 01-.16-.42H6V8h.01A2.33 2.33 0 016 7.73C6 5.67 8.69 4 12 4zm0 11.73c-1.6 0-2.94-.31-4-.94v1.64c.74.9 2.05 1.38 4 1.38 1.95 0 3.26-.48 4-1.38v-1.65c-1.06.64-2.4.95-4 .95zm0-4.26a8.33 8.33 0 01-4-.95v1.64c.75 1.1 2.04 1.65 4 1.65s3.25-.55 4-1.65V10.5c-1.06.6-2.46.96-4 .96zm0-5.34a6.3 6.3 0 00-3.23.8c-.56.35-.77.66-.77.8 0 .15.2.45.77.8.8.5 1.96.8 3.23.8s2.44-.3 3.23-.8c.56-.35.77-.65.77-.8 0-.14-.2-.45-.77-.8a6.3 6.3 0 00-3.23-.8z",task:"M20 4.2l.2.2L19 5.9c-2.3-1.8-3.8-.9-4.8 3.4h3.1v2h-3.5v.2l-.1.6c-1.2 7.9-4 11-8.3 8l-.2-.1 1.2-1.6c2.5 1.8 4.2.3 5.2-5.9l.2-1v-.2H9.2v-2h3c1.4-6 4.1-8 7.9-5z",parameters:"M10.2 14v1.5H20v2h-9.8V19H8.3v-1.5H5v-2h3.3V14h2zm7.4-9v1.5H20v2h-2.4V10h-1.8V8.5H5v-2h10.8V5h1.8z",modularPipeline:"M8.18 4c1.11 0 2.03.8 2.17 1.86l4.4 1.61c.31-.17.68-.27 1.07-.27 1.2 0 2.18.95 2.18 2.13s-.98 2.14-2.18 2.14c-.38 0-.73-.1-1.04-.26l-4.22 2.74L13.69 16c.3-.16.66-.26 1.04-.26 1.2 0 2.18.96 2.18 2.14 0 1.18-.98 2.13-2.18 2.13a2.16 2.16 0 01-2.17-2.35l-3.34-2.18c-.3.17-.66.26-1.04.26-1.2 0-2.18-.95-2.18-2.13s.98-2.13 2.18-2.13c.61 0 1.16.24 1.56.63l3.9-2.55v-.22-.13L9.63 7.73c-.39.33-.9.54-1.45.54C6.98 8.27 6 7.3 6 6.13 6 4.95 6.98 4 8.18 4z",plotly:"M6.261 11.546l5.465 5.766-1.452 1.376-4.013-4.235-2.535 2.676-1.452-1.376 3.987-4.207zm6.911-2.898l8.495 7.607-1.334 1.49-7.14-6.394-2.514 2.325-1.358-1.469 3.851-3.559zM5.5 6C6.328 6 7 6.672 7 7.5S6.328 9 5.5 9 4 8.328 4 7.5 4.672 6 5.5 6z"},Ya=function(e){var t=e.className,a=e.icon;return Wa[a]?Object(Da.jsx)("svg",{className:Ha("pipeline-node-icon",{icon:a},t),viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:Wa[a]})}):null},Xa=Object(Ua.a)().x((function(e){return e.x})).y((function(e){return e.y})).curve(Va.a),Ka=/\d+\.\d+/g,Za=function(e){return parseFloat(e).toFixed(1)},Ja=function(){var e=this.props.layers;this.el.layers=this.el.layerGroup.selectAll(".pipeline-layer").data(e,(function(e){return e.id}));var t=this.el.layers.enter().append("rect").attr("class","pipeline-layer");this.el.layers.exit().remove(),this.el.layers=this.el.layers.merge(t),this.el.layers.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("height",(function(e){return e.height})).attr("width",(function(e){return e.width}))},Qa=function(){var e=this.props,t=e.chartSize.sidebarWidth,a=void 0===t?0:t,n=e.layers;this.el.layerNameGroup.transition("layer-names-sidebar-width").duration(this.DURATION).style("transform","translateX(".concat(a,"px)")),this.el.layerNames=this.el.layerNameGroup.selectAll(".pipeline-layer-name").data(n,(function(e){return e.id}));var r=this.el.layerNames.enter().append("li").attr("class","pipeline-layer-name");r.style("opacity",0).transition("enter-layer-names").duration(this.DURATION).style("opacity",1),this.el.layerNames.exit().style("opacity",1).transition("exit-layer-names").duration(this.DURATION).style("opacity",0).remove(),this.el.layerNames=this.el.layerNames.merge(r),this.el.layerNames.text((function(e){return e.name})).attr("dy",5)},$a=function(e){return e.attr("width",(function(e){return e.width-5})).attr("height",(function(e){return e.height-5})).attr("x",(function(e){return(e.width-5)/-2})).attr("y",(function(e){return(e.height-5)/-2})).attr("rx",(function(e){return"task"===e.type?0:e.height/2}))},en=function(e){return e.attr("width",12).attr("height",12).attr("x",(function(e){return(e.width+20)/-2})).attr("y",-6)},tn=function(e){var t=this.props,a=t.clickedNode,n=t.linkedNodes,r=t.nodeTypeDisabled,i=t.nodeActive,o=t.nodeSelected,s=t.hoveredParameters,l=t.nodesWithInputParams,c=t.inputOutputDataNodes,u=t.nodes,d=t.focusMode,p=function(e){return null!==d&&c[e]};if(e("nodes")&&(this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-node").data(u,(function(e){return e.id}))),this.el.nodes){var f=this.el.nodes,m=this.el.nodes.enter().append("g"),_=this.el.nodes.exit(),g=this.el.nodes.merge(m).merge(_).filter((function(e){return"undefined"!==typeof e}));e("nodes")&&(m.attr("tabindex","0").attr("class","pipeline-node").attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")})).attr("data-id",(function(e){return e.id})).classed("pipeline-node--parameters",(function(e){return"parameters"===e.type})).classed("pipeline-node--data",(function(e){return"data"===e.type})).classed("pipeline-node--task",(function(e){return"task"===e.type})).on("click",this.handleNodeClick).on("mouseover",this.handleNodeMouseOver).on("mouseout",this.handleNodeMouseOut).on("focus",this.handleNodeMouseOver).on("blur",this.handleNodeMouseOut).on("keydown",this.handleNodeKeyDown),m.attr("opacity",0).transition("show-nodes").duration(this.DURATION).attr("opacity",1),m.append("rect").attr("class","pipeline-node__bg"),m.append("rect").attr("class","pipeline-node__parameter-indicator").on("mouseover",this.handleParamsIndicatorMouseOver).call(en),m.append("path").attr("class","pipeline-node__icon").attr("d",(function(e){return Wa[e.icon]})),m.append("text").attr("class","pipeline-node__text").text((function(e){return e.name})).attr("text-anchor","middle").attr("dy",5).attr("dx",(function(e){return e.textOffset})),_.transition("exit-nodes").duration(this.DURATION).style("opacity",0).remove(),f.transition("exit-nodes").style("opacity",null),this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-node")),e("nodes","nodeTypeDisabled","nodeActive","nodeSelected","hoveredParameters","nodesWithInputParams","clickedNode","linkedNodes","focusMode","inputOutputDataNodes")&&g.classed("pipeline-node--active",(function(e){return i[e.id]})).classed("pipeline-node--selected",(function(e){return o[e.id]})).classed("pipeline-node--collapsed-hint",(function(e){return s&&l[e.id]&&r.parameters})).classed("pipeline-node--dataset-input",(function(e){return p(e.id)&&"data"===e.type})).classed("pipeline-node--parameter-input",(function(e){return p(e.id)&&"parameters"===e.type})).classed("pipeline-node--faded",(function(e){return a&&!n[e.id]})),e("nodes")&&(g.transition("update-nodes").duration(this.DURATION).attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")})).on("end",(function(){try{g.sort((function(e,t){return e.order-t.order}))}catch(e){}})),m.select(".pipeline-node__bg").call($a),f.select(".pipeline-node__bg").transition("node-rect").duration((function(e){return e.showText?200:600})).call($a),g.select(".pipeline-node__parameter-indicator").classed("pipeline-node__parameter-indicator--visible",(function(e){return r.parameters&&l[e.id]})).transition("node-rect").duration((function(e){return e.showText?200:600})).call(en),g.select(".pipeline-node__icon").style("transition-delay",(function(e){return e.showText?"0ms":"200ms"})).style("transform",(function(e){return"translate(".concat(e.iconOffset,"px, ").concat(-e.iconSize/2,"px) ")+"scale(".concat(e.iconSize/24,")")})),g.select(".pipeline-node__text").style("transition-delay",(function(e){return e.showText?"200ms":"0ms"})).style("opacity",(function(e){return e.showText?1:0})))}},an=function(e){var t=this.props,a=t.edges,n=t.clickedNode,r=t.linkedNodes,i=t.focusMode,o=t.inputOutputDataEdges,s=function(e){return null!==i&&o[e]};if(e("edges")&&(this.el.edges=this.el.edgeGroup.selectAll(".pipeline-edge").data(a,(function(e){return e.id}))),this.el.edges){var l=this.el.edges,c=this.el.edges.enter().append("g"),u=this.el.edges.exit(),d=this.el.edges.merge(c).merge(u);e("edges","focusMode","inputOutputDataNodes")&&(c.append("path"),d.select("path").attr("marker-end",(function(e){return"parameters"===e.sourceNode.type?s(e.id)?"url(#pipeline-arrowhead--accent--input)":"url(#pipeline-arrowhead--accent)":s(e.id)?"url(#pipeline-arrowhead--input)":"url(#pipeline-arrowhead)"})),c.attr("data-id",(function(e){return e.id})).attr("class","pipeline-edge"),c.attr("opacity",0).transition("show-edges").duration(this.DURATION).attr("opacity",1),u.transition("exit-edges").duration(this.DURATION).style("opacity",0).remove(),l.transition("exit-edges").style("opacity",null),d.select("path").transition("update-edges").duration(this.DURATION).attrTween("d",(function(e){var t=e.points&&Xa(e.points).replace(Ka,Za),a=Object(yt.a)(this).attr("d")||t;return Object(Ga.a)(a,t)})),this.el.edges=this.el.edgeGroup.selectAll(".pipeline-edge")),e("edges","clickedNode","linkedNodes","focusMode","inputOutputDataEdges")&&d.classed("pipeline-edge--parameters",(function(e){return"parameters"===e.sourceNode.type&&!s(e.id)})).classed("pipeline-edge--parameters-input",(function(e){return"parameters"===e.sourceNode.type&&s(e.id)})).classed("pipeline-edge--dataset--input",(function(e){return s(e.id)})).classed("pipeline-edge--faded",(function(e){return e&&n&&(!r[e.source]||!r[e.target])}))}},nn=a(478),rn=a(93),on=function(e){var t=e.container,a=e.wrapper,n=e.onViewChanged,r=e.onViewEnd,i=e.allowUserInput,o=void 0===i||i,s=Object(rn.a)().on("zoom",(function(e){var t=e.transform;cn(t)||(Object(yt.a)(a.current).attr("transform",t),n&&n(t))})).on("end",r).interpolate(nn.a);return o||s.filter((function(){return!1})),Object(yt.a)(t.current).call(s).on("dblclick.zoom",null),{zoom:s,container:t,wrapper:a}},sn=rn.b,ln=function(e){var t=e.x,a=e.y,n=e.k;return t===sn.x&&a===sn.y&&n===sn.k},cn=function(e){var t=e.x,a=e.y,n=e.k;return!isFinite(t+a+n)||isNaN(t+a+n)||0===t&&0===a&&0===n},un=function(e){var t=Object(rn.c)(e.wrapper.current);return cn(t)?sn:dn(t)},dn=function(e){return sn.translate(-e.x||0,-e.y||0).scale(e.k)},pn=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=Object(yt.a)(e.container.current),r=sn.translate(-t.x,-t.y).scale(t.k);"undefined"===typeof jest?(a?n.transition("zoom").duration(a):n).call(e.zoom.transform,r):e.container.current.__zoom=r},fn=function(e){var t=e.offset,a=e.focus,n=e.viewWidth,r=e.viewHeight,i=e.objectWidth,o=e.objectHeight,s=e.minScaleX,l=void 0===s?0:s,c=e.minScaleFocus,u=void 0===c?0:c,d=e.focusOffset,p=void 0===d?.8:d,f=sn.k,m=sn.x,_=sn.y,g=r/o,h=n/i,b=Math.max(l,h);if(f=Math.min(b,g),a&&(f=Math.max(u,f)),m+=t.x,_+=t.y,m+=.5*(n-i*f),_+=.5*(r-o*f),a){var y=r<o*f,v=.5*o,j=n<i*f?.5*i-a.x:0,O=y?v-a.y:0;m+=j*f,_+=O*f,m-=j/i*n*p,_-=O/o*r*p}return{x:-m||0,y:-_||0,k:f}},mn=(a(228),String.fromCharCode(8203)),_n=function(e){return e.replace(/([^\w\s]|[_])/g,"".concat(mn,"$1").concat(mn))},gn=function(e){var t=e.chartSize,a=e.targetRect,n=e.visible,r=e.text,i=t.left,o=t.top,s=t.width,l=t.height,c=t.outerWidth,u=t.sidebarWidth,d=a.left-u>s/2,p=a.top<l/2,f=d?a.left-c:a.left,m=p?a.top+a.height:a.top,_=f-i+a.width/2,g=m-o;return Object(Da.jsx)("div",{className:Ca()("pipeline-tooltip",{"pipeline-tooltip--visible":n,"pipeline-tooltip--right":d,"pipeline-tooltip--top":p}),style:{transform:"translate(".concat(_,"px, ").concat(g,"px)")},children:Object(Da.jsx)("div",{className:"pipeline-tooltip__text",children:_n(r)})})};gn.defaultProps={chartSize:{},targetRect:{},visible:!1,text:""};var hn=gn,bn=(a(229),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleWindowResize=function(){n.updateChartSize()},n.handleBeforePrint=function(){var e=n.props.graphSize,t=e.width+2*e.marginx,a=e.height+2*e.marginy;n.el.svg.attr("viewBox","0 0 ".concat(t," ").concat(a))},n.handleAfterPrint=function(){n.el.svg.attr("viewBox",null)},n.getHoveredParameterLabel=function(e){return e.length>1?"Parameters:".concat(e.length):e[0]},n.handleNodeClick=function(e,t){n.props.onLoadNodeData(t.id),e.stopPropagation()},n.handleChartClick=function(){n.props.onLoadNodeData(null)},n.handleNodeMouseOver=function(e,t){n.props.onToggleNodeHovered(t.id),t&&n.showTooltip(e,t.fullName)},n.handleParamsIndicatorMouseOver=function(e,t){var a=n.props.nodesWithInputParams[t.id];if(a){var r=n.getHoveredParameterLabel(a);n.showTooltip(e,r)}e.stopPropagation()},n.handleNodeMouseOut=function(){n.props.onToggleNodeHovered(null),n.hideTooltip()},n.handleNodeKeyDown=function(e,t){13===e.keyCode&&n.handleNodeClick(e,t),27===e.keyCode&&(n.handleChartClick(),n.handleNodeMouseOut())},n.state={tooltip:{visible:!1}},n.onViewChange=n.onViewChange.bind(Object(La.a)(n)),n.onViewChangeEnd=n.onViewChangeEnd.bind(Object(La.a)(n)),n.containerRef=r.a.createRef(),n.svgRef=r.a.createRef(),n.wrapperRef=r.a.createRef(),n.edgesRef=r.a.createRef(),n.nodesRef=r.a.createRef(),n.layersRef=r.a.createRef(),n.layerNamesRef=r.a.createRef(),n.DURATION=700,n.MARGIN=500,n.MIN_SCALE=.8,n.MAX_SCALE=2,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.selectD3Elements(),this.updateChartSize(),this.view=on({container:this.svgRef,wrapper:this.wrapperRef,onViewChanged:this.onViewChange,onViewEnd:this.onViewChangeEnd}),this.updateViewExtents(),this.addGlobalEventListeners(),this.update(),this.props.tooltip?this.showTooltip(null,null,this.props.tooltip):this.hideTooltip()}},{key:"componentWillUnmount",value:function(){this.removeGlobalEventListeners()}},{key:"componentDidUpdate",value:function(e){this.update(e)}},{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.props.chartZoom,n=function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e.changed(n,t,e.props)};n("visibleSidebar","visibleCode","visibleMetaSidebar")&&this.updateChartSize(),n("layers","chartSize")&&(Ja.call(this),Qa.call(this)),n("edges","clickedNode","linkedNodes","focusMode","inputOutputDataEdges")&&an.call(this,n),n("nodes","clickedNode","linkedNodes","nodeTypeDisabled","nodeActive","nodeSelected","hoveredParameters","nodesWithInputParams","focusMode","inputOutputDataNodes")&&tn.call(this,n),n("edges","nodes","layers","chartSize","clickedNode")?this.resetView():this.onChartZoomChanged(a)}},{key:"changed",value:function(e,t,a){return t&&a&&e.some((function(e){return t[e]!==a[e]}))}},{key:"selectD3Elements",value:function(){this.el={svg:Object(yt.a)(this.svgRef.current),wrapper:Object(yt.a)(this.wrapperRef.current),edgeGroup:Object(yt.a)(this.edgesRef.current),nodeGroup:Object(yt.a)(this.nodesRef.current),layerGroup:Object(yt.a)(this.layersRef.current),layerNameGroup:Object(yt.a)(this.layerNamesRef.current)}}},{key:"updateChartSize",value:function(){"undefined"!==typeof jest?this.props.onUpdateChartSize(yn):this.props.onUpdateChartSize(this.containerRef.current.getBoundingClientRect())}},{key:"addGlobalEventListeners",value:function(){window.ResizeObserver?(this.resizeObserver=this.resizeObserver||new window.ResizeObserver(this.handleWindowResize),this.resizeObserver.observe(this.containerRef.current)):window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeprint",this.handleBeforePrint),window.addEventListener("afterprint",this.handleAfterPrint)}},{key:"removeGlobalEventListeners",value:function(){window.ResizeObserver?this.resizeObserver.unobserve(this.containerRef.current):window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeprint",this.handleBeforePrint),window.removeEventListener("afterprint",this.handleAfterPrint)}},{key:"onViewChange",value:function(e){var t=e.k,a=e.x,n=e.y;this.el.wrapper.classed("pipeline-flowchart__zoom-wrapper--animating",!0),this.el.layerNames&&this.el.layerNames.style("transform",(function(e){var a=n+(e.y+e.height/2)*t;return"translateY(".concat(a,"px)")})),this.hideTooltip(),this.updateViewExtents(e);var r=function(e){var t=e.zoom.scaleExtent(),a=e.zoom.translateExtent();return{translate:{minX:a[0][0],minY:a[0][1],maxX:a[1][0],maxY:a[1][1]},scale:{minK:t[0],maxK:t[1]}}}(this.view);this.props.onUpdateZoom({scale:t,x:a,y:n,applied:!0,transition:!1,relative:!1,minScale:r.scale.minK,maxScale:r.scale.maxK})}},{key:"onViewChangeEnd",value:function(){this.el.wrapper.classed("pipeline-flowchart__zoom-wrapper--animating",!1)}},{key:"updateViewExtents",value:function(e){var t=(e||un(this.view)).k,a=this.props.chartSize,n=a.sidebarWidth,r=void 0===n?0:n,i=a.metaSidebarWidth,o=void 0===i?0:i,s=a.codeSidebarWidth,l=void 0===s?0:s,c=a.width,u=void 0===c?0:c,d=a.height,p=void 0===d?0:d,f=this.props.graphSize,m=f.width,_=void 0===m?0:m,g=f.height,h=void 0===g?0:g,b=r/t,y=(o+l)/t,v=this.MARGIN,j=Math.min(u/(_||1),p/(h||1));!function(e,t){var a=t.translate,n=t.scale;if(a){var r=a.minX,i=a.minY,o=a.maxX,s=a.maxY;e.zoom.translateExtent([[r,i],[o,s]])}if(n){var l=n.minK,c=n.maxK;e.zoom.scaleExtent([l,c])}}(this.view,{translate:{minX:-b-v,maxX:_+v+y,minY:-v,maxY:h+v},scale:{minK:this.MIN_SCALE*j,maxK:this.MAX_SCALE}})}},{key:"onChartZoomChanged",value:function(e){e.applied||(!0!==e.reset?function(e,t){var a,n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=Object(yt.a)(e.container.current),l=un(e),c="undefined"!==typeof t.x&&"undefined"!==typeof t.y;if("undefined"!==typeof jest&&(i=0),o?(a=l.k+(t.k||0),n=l.x+(t.x||0),r=l.y+(t.y||0)):(a=t.k||l.k,n=t.x||l.x,r=t.y||l.y),c&&(s.call(e.zoom.transform,sn),s.call(e.zoom.translateTo,n/a,r/a)),s.call(e.zoom.scaleTo,a),i){var u=un(e);s.call(e.zoom.transform,dn(l)),pn(e,u,i)}}(this.view,{x:e.x,y:e.y,k:e.scale},e.transition?.3*this.DURATION:0,e.relative):this.resetView())}},{key:"resetView",value:function(){var e=this.props,t=e.chartSize,a=e.graphSize,n=e.clickedNode,r=e.nodes,i=t.width,o=t.height,s=a.width,l=a.height;if(i&&s){var c={x:t.sidebarWidth,y:0},u=n?r.find((function(e){return e.id===n})):null,d=fn({offset:c,focus:u,viewWidth:i,viewHeight:o,objectWidth:s,objectHeight:l,minScaleX:.2,minScaleFocus:.3,focusOffset:.8}),p=ln(un(this.view));pn(this.view,d,p?0:this.DURATION,!1)}}},{key:"showTooltip",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setState({tooltip:Object(ve.a)({targetRect:e&&e.target.getBoundingClientRect(),text:t,visible:!0},a)})}},{key:"hideTooltip",value:function(){this.state.tooltip.visible&&this.setState({tooltip:Object(ve.a)(Object(ve.a)({},this.state.tooltip),{},{visible:!1})})}},{key:"render",value:function(){var e=this.props,t=e.chartSize,a=e.layers,n=e.visibleGraph,r=t.outerWidth,i=void 0===r?0:r,o=t.outerHeight,s=void 0===o?0:o;return Object(Da.jsxs)("div",{className:"pipeline-flowchart kedro",ref:this.containerRef,onClick:this.handleChartClick,children:[Object(Da.jsx)("svg",{id:"pipeline-graph",className:"pipeline-flowchart__graph",width:i,height:s,ref:this.svgRef,children:Object(Da.jsxs)("g",{id:"zoom-wrapper",className:Ca()("pipeline-zoom-wrapper",{"pipeline-zoom-wrapper--hidden":!n}),ref:this.wrapperRef,children:[Object(Da.jsx)("defs",{children:["arrowhead","arrowhead--input","arrowhead--accent--input","arrowhead--accent"].map((function(e){return Object(Da.jsx)("marker",{id:"pipeline-".concat(e),className:"pipeline-flowchart__".concat(e),viewBox:"0 0 10 10",refX:"7",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto",children:Object(Da.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 L 4 5 z"})},e)}))}),Object(Da.jsx)("g",{className:"pipeline-flowchart__layers",ref:this.layersRef}),Object(Da.jsx)("g",{className:"pipeline-flowchart__edges",ref:this.edgesRef}),Object(Da.jsx)("g",{id:"nodes",className:"pipeline-flowchart__nodes",ref:this.nodesRef})]})}),Object(Da.jsx)("ul",{className:Ca()("pipeline-flowchart__layer-names",{"pipeline-flowchart__layer-names--visible":a.length}),ref:this.layerNamesRef}),Object(Da.jsx)(hn,Object(ve.a)({chartSize:t},this.state.tooltip))]})}}]),a}(n.Component)),yn={left:0,top:0,right:1280,bottom:1024,width:1280,height:1024},vn=[],jn=[],On={},xn=Object(d.b)((function(e,t){return Object(ve.a)({clickedNode:e.node.clicked,chartSize:Ta(e),chartZoom:Na(e),edges:e.graph.edges||vn,graphSize:e.graph.size||On,hoveredParameters:e.hoveredParameters,layers:Aa(e),linkedNodes:Ba(e),nodes:e.graph.nodes||jn,nodeTypeDisabled:e.nodeType.disabled,nodeActive:ua(e),nodeSelected:da(e),nodesWithInputParams:ha(e),inputOutputDataNodes:ba(e),inputOutputDataEdges:ta(e),visibleGraph:e.visible.graph,visibleSidebar:e.visible.sidebar,visibleCode:e.visible.code,visibleMetaSidebar:ja(e),focusMode:e.visible.modularPipelineFocusMode},t)}),(function(e,t){return Object(ve.a)({onLoadNodeData:function(t){e(Ke(t))},onToggleNodeHovered:function(t){e(He(t))},onUpdateChartSize:function(t){e(function(e){return{type:I,chartSize:e}}(t))},onUpdateZoom:function(t){e(R(t))}},t)}))(bn),kn=a(187),wn=a.n(kn),Tn=a(188),Nn=a.n(Tn),Sn=(a(381),Object(d.b)((function(e){return{asyncDataSource:"json"===e.dataSource,pipeline:e.pipeline,theme:e.theme}}),(function(e){return{onUpdateActivePipeline:function(t){var a;e((a=t.value,function(){var e=Object(K.a)(X.a.mark((function e(t,n){var r,i,o,s,l;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),i=r.dataSource,o=r.pipeline,!a||a!==o.active){e.next=3;break}return e.abrupt("return");case 3:if("json"!==i){e.next=15;break}return t(Fe(!0)),t(E(!1)),s=qe({main:o.main,active:a}),e.next=9,ye(s).then(ze);case 9:(l=e.sent).pipeline.active=a,t(j(l)),t(Fe(!1)),e.next=16;break;case 15:t(Le(a));case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))}}}))((function(e){var t=e.asyncDataSource,a=e.onUpdateActivePipeline,n=e.pipeline,r=e.theme,i=e.onToggleOpen;return n.ids.length||t?Object(Da.jsx)("div",{className:"pipeline-list",children:Object(Da.jsx)(wn.a,{disabled:!n.ids.length,onOpened:function(){return i(!0)},onClosed:function(){return i(!1)},theme:r,width:null,onChanged:a,defaultText:n.name[n.active]||"Default",children:n.ids.map((function(e){return Object(Da.jsx)(Nn.a,{className:Ca()({"pipeline-list__option--active":n.active===e}),value:e,primaryText:n.name[e]},"pipeline-".concat(e))}))})}):null}))),Mn=a(28),En=a.n(Mn),Pn=a(125),Cn=a(189),zn=a.n(Cn),In=Object(d.b)((function(e){return{theme:e.theme}}))((function(e){var t=e.onUpdateSearchValue,a=e.searchValue,r=e.theme,i=Object(n.useRef)(null),o=function(e){var t="f"===e.key||70===e.keyCode,a=e.ctrlKey||e.metaKey;if(t&&a){var n=i.current.querySelector("input");document.activeElement!==n?(n.focus(),e.preventDefault()):n.blur()}};Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}));return Object(Da.jsx)("div",{ref:i,className:"pipeline-nodelist-search",onKeyDown:function(e){("Escape"===e.key||27===e.keyCode)&&(t(""),i.current.querySelector("input").blur())},children:Object(Da.jsx)(zn.a,{onChange:t,value:a,theme:r,placeholder:"Search"})})})),Dn=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M11.5 5.706c4.142 0 7.5 4.662 7.5 5.625 0 .963-3.358 5.625-7.5 5.625-4.142 0-7.5-4.632-7.5-5.625 0-.993 3.358-5.625 7.5-5.625zm0 1.875a3.75 3.75 0 100 7.5 3.75 3.75 0 000-7.5zm0 1.875a1.875 1.875 0 110 3.75 1.875 1.875 0 010-3.75z"})})},Rn=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M17.97 5.3L19 6.33l-2 2.01c1.24 1.23 2 2.53 2 3 0 .95-3.36 5.62-7.5 5.62-.9 0-1.76-.22-2.55-.57L6.33 19 5.3 17.97 17.97 5.3zm-2.88 4.94l-1.9 1.9c-.18.39-.5.7-.88.88l-1.9 1.9a3.74 3.74 0 004.84-3.59c0-.38-.06-.74-.16-1.09zM11.5 5.71c1 0 1.95.27 2.83.7l-1.45 1.44a3.74 3.74 0 00-4.87 4.86l-1.8 1.81C4.83 13.24 4 11.82 4 11.33c0-1 3.36-5.63 7.5-5.63zm-.24 3.76L9.64 11.1c.11-.84.77-1.5 1.61-1.62z"})})},Ln=function(e){var t=e.className;e.checked;return Object(Da.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(Da.jsxs)("g",{children:[Object(Da.jsx)("path",{d:"M5 0L5 2 2 2 2 5 0 5 0 0z",transform:"translate(-258 -194) translate(258 194) translate(6 6)"}),Object(Da.jsx)("path",{d:"M12 0L12 2 9 2 9 5 7 5 7 0z",transform:"translate(-258 -194) translate(258 194) translate(6 6) rotate(90 9.5 2.5)"}),Object(Da.jsx)("path",{d:"M12 7L12 9 9 9 9 12 7 12 7 7z",transform:"translate(-258 -194) translate(258 194) translate(6 6) rotate(-180 9.5 9.5)"}),Object(Da.jsx)("path",{d:"M5 7L5 9 2 9 2 12 0 12 0 7z",transform:"translate(-258 -194) translate(258 194) translate(6 6) rotate(-90 2.5 9.5)"})]})})},An=function(e,t){return a=["active","checked","allUnchecked","disabled","faded","visible","selected","label","children","count"],r=t,!((n=e)&&r&&a.some((function(e){return n[e]!==r[e]})));var a,n,r},Fn=Object(n.memo)((function(e){var t=e.container,a=void 0===t?"div":t,r=e.active,i=e.checked,o=e.allUnchecked,s=e.children,l=e.disabled,c=e.faded,u=e.visible,d=e.id,p=e.label,f=e.count,m=e.name,_=e.kind,g=e.onMouseEnter,h=e.onMouseLeave,b=e.onChange,y=e.onClick,v=e.selected,j=e.type,O=e.icon,x=e.visibleIcon,k=void 0===x?Dn:x,w=e.invisibleIcon,T=void 0===w?Rn:w,N=e.rowType,S=e.focusMode,M=e.parentDisabled,E=e.parentPipeline,P="modularPipeline"===j?Ln:i?k:T,C=y&&"filter"!==_?"button":"div",z=Object(n.useCallback)((function(){return null!==S&&"modularPipeline"===j&&d===(null===S||void 0===S?void 0:S.id)}),[S,j,d])(),I=Object(n.useCallback)((function(){return"main"===E?l:!1!==M&&!0===l&&!1===z}),[M,l,z,E])();return Object(Da.jsxs)(a,{className:Ca()("pipeline-nodelist__row kedro","pipeline-nodelist__row--kind-".concat(_),{"pipeline-nodelist__row--visible":u,"pipeline-nodelist__row--active":r,"pipeline-nodelist__row--selected":v,"pipeline-nodelist__row--disabled":l,"pipeline-nodelist__row--unchecked":!i}),title:m,onMouseEnter:u?g:null,onMouseLeave:u?h:null,children:[O&&Object(Da.jsx)(Ya,{className:Ca()("pipeline-nodelist__row__type-icon","pipeline-nodelist__row__icon",{"pipeline-nodelist__row__type-icon--faded":c,"pipeline-nodelist__row__type-icon--disabled":l,"pipeline-nodelist__row__type-icon--nested":!s,"pipeline-nodelist__row__type-icon--active":r,"pipeline-nodelist__row__type-icon--selected":v}),icon:O}),Object(Da.jsx)(C,{className:Ca()("pipeline-nodelist__row__text","pipeline-nodelist__row__text--kind-".concat(_),"pipeline-nodelist__row__text--".concat(N)),onClick:y,onFocus:g,onBlur:h,title:s?null:m,children:Object(Da.jsx)("span",{className:Ca()("pipeline-nodelist__row__label","pipeline-nodelist__row__label--kind-".concat(_),{"pipeline-nodelist__row__label--faded":c,"pipeline-nodelist__row__label--disabled":I}),dangerouslySetInnerHTML:{__html:p}})}),"number"===typeof f&&Object(Da.jsx)("span",{onClick:y,className:"pipeline-nodelist__row__count",children:f}),Object(Da.jsxs)("label",{htmlFor:d,className:Ca()("pipeline-row__toggle","pipeline-row__toggle--kind-".concat(_),{"pipeline-row__toggle--disabled":l,"pipeline-row__toggle--selected":v}),children:[Object(Da.jsx)("input",{id:d,className:"pipeline-nodelist__row__checkbox",type:"checkbox",checked:i,disabled:l,name:m,onChange:b}),Object(Da.jsx)(P,{"aria-label":m,checked:i,className:Ca()("pipeline-nodelist__row__icon","pipeline-row__toggle-icon","pipeline-row__toggle-icon--kind-".concat(_),{"pipeline-row__toggle-icon--parent":Boolean(s),"pipeline-row__toggle-icon--child":!s,"pipeline-row__toggle-icon--checked":i,"pipeline-row__toggle-icon--unchecked":!i,"pipeline-row__toggle-icon--all-unchecked":o,"pipeline-row__toggle-icon--focus-checked":z})})]}),s]})}),An),qn=Object(d.b)((function(e,t){return Object(ve.a)(Object(ve.a)({},t),{},{active:"undefined"!==typeof t.active?t.active:ua(e)[t.id]||!1})}))(Fn),Bn=function(e,t,a,n){return[Math.max(Math.min(e,n),a),Math.max(Math.min(t,n),a)]},Gn=function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},Un=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Vn=function(e,t,a,n,r){if(!e)return[0,0];t||(t=e);var i=t.getBoundingClientRect(),o=e.getBoundingClientRect(),s=Math.ceil(a*i.height/r);if(i.bottom<0||o.bottom<i.top)return Bn(n-s,n,0,n);var l={top:0,bottom:window.innerHeight||document.documentElement.clientHeight};if(i.top>l.bottom||o.top>i.bottom)return Bn(0,s,0,n);var c=Math.max(i.top,l.top),u=Math.min(i.bottom,l.bottom),d=Math.floor((c-o.top)/r),p=Math.ceil((u-o.top)/r);return Bn(d-s,p+s,0,n)},Hn=function(e){var t=Object(n.useRef)();return Object(n.useCallback)((function(){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(e)}),[t,e])},Wn=function(e){return 0===e?[0]:[].concat(Object(Me.a)(Array.from({length:e},(function(t,a){return a/e}))),[1])},Yn=function(e,t,a){var r=Object(n.useRef)();return Object(n.useLayoutEffect)((function(){e.current&&(r.current&&r.current.disconnect(),window.IntersectionObserver&&(r.current=new window.IntersectionObserver(a,t),r.current.observe(e.current)),a())}),[a,e,t])},Xn=function(e){var t=e.height,a=e.total,r=e.children,i=e.lazy,o=void 0===i||i,s=e.dispose,l=void 0!==s&&s,c=e.buffer,u=void 0===c?.5:c,d=e.onChange,p=e.container,f=void 0===p?function(e){return null===e||void 0===e?void 0:e.offsetParent}:p,m="undefined"!==typeof window.IntersectionObserver,_=o&&m,g=Object(n.useState)([0,0]),h=Object(Se.a)(g,2),b=h[0],y=h[1],v=Object(n.useRef)([0,0]),j=Object(n.useRef)(),O=Object(n.useRef)(),x=Object(n.useRef)(),k=Object(n.useMemo)((function(){return t(0,1)}),[t]),w=Object(n.useMemo)((function(){return t(0,a)}),[t,a]),T=Object(n.useMemo)((function(){return t(0,b[0])}),[t,b]),N=Object(n.useMemo)((function(){return t(b[1],a)}),[t,b,a]),S=Hn(Object(n.useCallback)((function(){var e=Vn(j.current,f(j.current),u,a,k),t=l?e:Gn(v.current,e);Un(v.current,t)||(v.current=t,y(t))}),[u,a,k,l,f])),M=Object(n.useMemo)((function(){return{threshold:Wn(a)}}),[a]);Yn(j,M,S),Yn(O,M,S),Yn(x,M,S),Object(n.useLayoutEffect)((function(){return S()}),[a,k,w,S]);var E=Object(n.useMemo)((function(){return{listRef:j,upperRef:O,lowerRef:x,total:a,start:_?b[0]:0,end:_?b[1]:a,listStyle:{position:"relative",height:_?w:void 0,paddingTop:_?T:void 0},upperStyle:{position:"absolute",display:_?void 0:"none",height:T,width:"100%",top:"0"},lowerStyle:{position:"absolute",display:_?void 0:"none",height:N,width:"100%",bottom:"0"}}}),[_,b,a,j,O,x,w,T,N]);return d&&d(E),r(E)},Kn=function(e){var t=e.items,a=void 0===t?[]:t,n=e.group,r=e.collapsed,i=e.onItemClick,o=e.onItemChange,s=e.onItemMouseEnter,l=e.onItemMouseLeave;return Object(Da.jsx)(Xn,{height:function(e,t){return 37*(t-e)},total:a.length,children:function(e){var t=e.start,c=e.end,u=e.total,d=e.listRef,p=e.upperRef,f=e.lowerRef,m=e.listStyle,_=e.upperStyle,g=e.lowerStyle;return Object(Da.jsxs)("ul",{ref:d,style:m,className:Ha("pipeline-nodelist__children",{closed:r},"pipeline-nodelist__list pipeline-nodelist__list--nested"),children:[Object(Da.jsx)("li",{className:Ha("pipeline-nodelist__placeholder-upper",{fade:t!==c&&t>0}),ref:p,style:_}),Object(Da.jsx)("li",{className:Ha("pipeline-nodelist__placeholder-lower",{fade:t!==c&&c<u}),ref:f,style:g}),a.slice(t,c).map((function(e){return Object(Da.jsx)(qn,{container:"li",id:e.id,kind:n.kind,label:e.highlightedLabel,count:e.count,name:e.name,type:e.type,icon:e.icon,active:e.active,checked:e.checked,disabled:e.disabled,faded:e.faded,visible:e.visible,selected:e.selected,allUnchecked:n.allUnchecked,visibleIcon:e.visibleIcon,invisibleIcon:e.invisibleIcon,onClick:function(){return i(e)},onMouseEnter:function(){return s(e)},onMouseLeave:function(){return l(e)},onChange:function(t){return o(e,!t.target.checked)},rowType:"filter"},e.id)}))]})}})},Zn=function(e){var t=e.items,a=e.group,n=e.collapsed,r=e.id,i=e.name,o=e.kind,s=e.checked,l=e.allUnchecked,c=e.visibleIcon,u=e.invisibleIcon,d=e.onToggleChecked,p=e.onToggleCollapsed,f=e.onItemClick,m=e.onItemChange,_=e.onItemMouseEnter,g=e.onItemMouseLeave;return Object(Da.jsxs)("li",{className:Ca()("pipeline-nodelist__group","pipeline-nodelist__group--type-".concat(r),"pipeline-nodelist__group--kind-".concat(o),{"pipeline-nodelist__group--all-unchecked":l}),children:[Object(Da.jsx)("h3",{className:"pipeline-nodelist__heading",children:Object(Da.jsx)(qn,{id:r,kind:o,name:i,label:i,allUnchecked:l,checked:s,visibleIcon:c,invisibleIcon:u,rowType:"filter",onChange:function(e){d(r,!e.target.checked)},children:Object(Da.jsx)("button",{"aria-label":"".concat(n?"Show":"Hide"," ").concat(i.toLowerCase()),onClick:function(){return p(r)},className:Ca()("pipeline-type-group-toggle",{"pipeline-type-group-toggle--alt":n})})})}),Object(Da.jsx)(Kn,{items:t,group:a,collapsed:n,onItemClick:f,onItemChange:m,onItemMouseEnter:_,onItemMouseLeave:g})]})},Jn=ke(),Qn=function(e){var t=e.items,a=e.groups,r=e.searchValue,i=e.onGroupToggleChanged,o=e.onItemClick,s=e.onItemMouseEnter,l=e.onItemMouseLeave,c=e.onItemChange,u=Object(n.useState)(Jn.groupsCollapsed||{}),d=Object(Se.a)(u,2),p=d[0],f=d[1],m=function(e){var t=Object(ve.a)(Object(ve.a)({},p),{},Object(y.a)({},e,!p[e]));f(t),we({groupsCollapsed:t})};return Object(Da.jsx)("nav",{className:"pipeline-nodelist-section kedro",children:Object(Da.jsx)("ul",{className:"pipeline-nodelist__list",children:Object.values(a).map((function(e){return Object(Da.jsx)(Zn,{group:e,items:t[e.id]||[],id:e.id,name:e.name,kind:e.kind,checked:e.checked,allUnchecked:e.allUnchecked,visibleIcon:e.visibleIcon,invisibleIcon:e.invisibleIcon,collapsed:!Boolean(r)&&p[e.id],onToggleCollapsed:m,onToggleChecked:i,onItemClick:o,onItemChange:c,onItemMouseEnter:s,onItemMouseLeave:l},e.id)}))})})},$n=a(474),er=a(37),tr=a(475),ar=a(65),nr=a.n(ar),rr=a(66),ir=a.n(rr),or=function(e){return e.nodeType.ids},sr=Object(ht.a)([or,function(e){return e.node.ids},function(e){return e.node.type},Gt],(function(e,t,a,n){return _e(e,(function(e){var r=t.filter((function(t){return a[t]===e})),i=r.filter((function(e){return!n[e]}));return{total:r.length,visible:i.length}}))})),lr=Object(ht.a)([or,function(e){return e.nodeType.name},function(e){return e.nodeType.disabled},sr],(function(e,t,a,n){return e.map((function(e){return{id:e,name:t[e],disabled:a[e],nodeCount:n[e]}}))})),cr=a(126),ur=a.n(cr),dr=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("rect",{x:"8.5",y:"9",width:"5",height:"5",rx:"1",strokeWidth:"1.5"})})},pr=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("rect",{x:"8.5",y:"9",width:"5",height:"5",rx:"1",strokeWidth:"1.9"})})},fr=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("rect",{x:"6.5",y:"10.5",width:"8",height:"1.5"})})},mr=En.a.escapeRegExp,_r=En.a.getHighlightedText,gr=function(e){return"tag"===e},hr=function(e){return"modularPipeline"===e},br=function(e){return"elementType"===e},yr=function(e){return br(e)||gr(e)},vr=function(e){return Object.values(e).flatMap((function(e){return e.map((function(e){return e.id}))}))},jr=function(e,t){for(var a={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];a[i]=e[i].map((function(e){return Object(ve.a)(Object(ve.a)({},e),{},{highlightedLabel:_r(e.name,t)})}))}return a},Or=function(e,t){return!t||new RegExp(mr(t),"gi").test(e.name)},xr=function(e,t){for(var a={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];a[i]=e[i].filter((function(e){return Or(e,t)}))}return a},kr=Object(ht.a)([function(e){return e.nodes},function(e){return e.searchValue}],(function(e,t){var a=xr(e,t);return{filteredNodes:jr(a,t),nodeIDs:vr(a)}})),wr=Object(ht.a)([function(e){return e.tags},function(e){return e.searchValue}],(function(e,t){return jr(xr({tag:e},t),t)})),Tr=Object(ht.a)([wr,function(e){return e.tagNodeCounts}],(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{tag:e.tag.map((function(e){return Object(ve.a)(Object(ve.a)({},e),{},{type:"tag",visibleIcon:dr,invisibleIcon:pr,active:!1,selected:!1,faded:!1,visible:!0,disabled:!1,checked:e.enabled,count:t[e.id]||0})}))}})),Nr=Object(ht.a)([function(e){return e.modularPipelines},function(e){return e.searchValue}],(function(e,t){return jr(xr({modularPipeline:e},t),t)})),Sr=Object(ht.a)([Nr,function(e){return e.focusMode}],(function(e,t){return{modularPipeline:e.modularPipeline.map((function(e){return Object(ve.a)(Object(ve.a)({},e),{},{type:"modularPipeline",icon:"modularPipeline",visibleIcon:Dn,invisibleIcon:Rn,active:!1,selected:!1,faded:!1,visible:!0,disabled:null!==t&&(null===t||void 0===t?void 0:t.id)!==e.id,checked:e.enabled})}))}})),Mr=Object(ht.a)([function(e){return e.searchValue}],(function(e){return jr(xr({elementType:Object.entries(fe).map((function(e){var t=Object(Se.a)(e,2);return{id:t[0],name:t[1]}}))},e),e)})),Er=Object(ht.a)([Mr,function(e){return e.nodeTypes}],(function(e,t){return{elementType:e.elementType.map((function(e){var a=t.find((function(t){return t.id===e.id}));return Object(ve.a)(Object(ve.a)({},e),{},{type:"elementType",visibleIcon:dr,invisibleIcon:pr,active:!1,selected:!1,faded:!1,visible:!0,disabled:!1,checked:!1===a.disabled,count:a.nodeCount.total})}))}})),Pr=function(e,t){var a=Number(e.disabledTag)-Number(t.disabledTag),n=e.name.localeCompare(t.name);return 0!==a?a:n},Cr=function(e,t){var a=Number(e.disabledTag)-Number(t.disabledTag),n=Object.keys(fe),r=n.indexOf(e.type)-n.indexOf(t.type);return 0!==a?a:r},zr=Object(ht.a)([kr,function(e){return e.nodeSelected},function(e){return e.focusMode},function(e){return e.inputOutputDataNodes}],(function(e,t,a,n){for(var r=e.filteredNodes,i={},o=0,s=Object.keys(r);o<s.length;o++){var l=s[o];i[l]=r[l].map((function(e){var r=!e.disabledNode,i=e.disabledTag||e.disabledType||e.disabledModularPipeline||null!==a&&!!n[e.id];return Object(ve.a)(Object(ve.a)({},e),{},{visibleIcon:Dn,invisibleIcon:Rn,active:void 0,selected:t[e.id],faded:i||e.disabledNode,visible:!i&&r,checked:r,disabled:i})})).sort(Pr)}return i})),Ir=Object(ht.a)([function(e){return e.items}],(function(e){for(var t={},a=0,n=Object.entries(pe);a<n.length;a++){var r=Object(Se.a)(n[a],2),i=r[0],o=r[1],s=e[i]||[],l=s.every((function(e){return!e.checked})),c=s.every((function(e){return e.checked}));t[i]={type:i,name:o,id:i,kind:"filter",allUnchecked:s.every((function(e){return!e.checked})),allChecked:s.every((function(e){return e.checked})),checked:!l,visibleIcon:c?dr:fr,invisibleIcon:pr}}return t})),Dr=Object(ht.a)([zr,Tr,Sr,Er],(function(e,t,a,n){return Object(ve.a)(Object(ve.a)(Object(ve.a)(Object(ve.a)({},t),e),a),n)})),Rr=Object(ht.a)([zr,function(e){return e.modularPipelines},function(e){return e.nodeTypeIDs},function(e){return e.focusMode}],(function(e,t,a,n){var r=[],i=ur()(e);return a.forEach((function(e){var a;null===(a=i[e])||void 0===a||a.forEach((function(e){e.modularPipelines.forEach((function(e){r.push(Lr(t.find((function(t){return t.id===e})),n))}))}))})),r})),Lr=function(e,t){return Object(ve.a)(Object(ve.a)({},e),{},{type:"modularPipeline",icon:"modularPipeline",visibleIcon:Dn,invisibleIcon:Rn,active:!1,selected:!1,faded:!1,visible:!0,disabled:null!==t&&(null===t||void 0===t?void 0:t.id)!==e.id,checked:e.enabled})},Ar=Object(ht.a)([Sr,Rr,function(e){return e.modularPipelines},function(e){return e.focusMode}],(function(e,t,a,n){var r=[],i=e.modularPipeline,o=i.filter((function(e){return e.id.includes(".")}));return o.forEach((function(e){for(var o=e.id.match(/\./g)?e.id.match(/\./g).length:0,s=0,l=function(o){var l=e.id.substr(0,e.id.indexOf(".",s));(function(e,t){return!e.some((function(e){return e.id===t}))})(i,l)&&!r.some((function(e){return e.id===l}))&&function(e,t){return!e.some((function(e){return e.id===t}))}(t,l)&&r.push(Lr(a.find((function(e){return e.id===l})),n)),s=e.id.indexOf(".",s)+1},c=0;c<=o-1;c++)l()})),r})),Fr=Object(ht.a)([Sr,Rr,Ar,function(e){return e.modularPipelines}],(function(e,t,a,n){e=e.modularPipeline;var r=[];return null===n||void 0===n||n.forEach((function(n){!function(e,t){return e.some((function(e){return e.id===t.id}))}(e,n)?!function(e,t){return e.some((function(e){return e.id===t.id}))}(t,n)?function(e,t){return e.some((function(e){return e.id===t.id}))}(a,n)&&r.push(a.find((function(e){return e.id===n.id}))):r.push(t.find((function(e){return e.id===n.id}))):r.push(e.find((function(e){return e.id===n.id})))})),r})),qr=Object(ht.a)([zr,Fr,function(e){return e.modularPipelineIds},function(e){return e.nodeTypeIDs}],(function(e,t,a,n){var r=_e(a,(function(){return[]})),i=ur()(e);return n.forEach((function(e){var t;null===(t=i[e])||void 0===t||t.forEach((function(e){e.modularPipelines.length>1&&(e.modularPipelines=e.modularPipelines.slice(-1))}))})),r.main=[],n.forEach((function(e){var t;null===(t=i[e])||void 0===t||t.forEach((function(e,t){0===e.modularPipelines.length&&r.main.push(e)}))})),r.main.sort(Cr),t.forEach((function(e){n.forEach((function(t){var a;null===(a=i[t])||void 0===a||a.forEach((function(t){t.modularPipelines.includes(e.id)&&r[e.id].push(t)}))})),r[e.id].sort(Cr)})),r})),Br=Object(ht.a)([Fr,qr,function(e){return e.modularPipelines}],(function(e,t){var a={nodes:t?t.main:[],children:[],name:"main",id:"main",enabled:!0,type:"modularpipeline"},n=a;return null===e||void 0===e||e.forEach((function(e){var r=e.id,i=r.split(".").length;if(i>1){for(var o=0,s=[],l=0;l<=i-1;l++)s.push(r.substr(0,r.indexOf(".",o))),o=r.indexOf(".",o)+1;s=s.filter((function(e){return e}));var c=a;s.forEach((function(e){c=c.children.find((function(t){return t.id===e}))})),n=c}else n=a;n.children.push(Object.assign(e,{children:[],nodes:t[r]}))})),a})),Gr=a(476),Ur="#8e8e90",Vr=function(e){var t=e.data,a=e.onItemClick,n=e.onItemMouseEnter,r=e.onItemMouseLeave,i=e.onItemChange,o=e.children,s=e.searchCount,l=e.focusMode,c=e.parentDisabled,u=e.parentPipeline;return Object(Da.jsx)(Gr.a,{nodeId:t.id,collapseIcon:Object(Da.jsx)(nr.a,{style:{color:Ur}}),expandIcon:Object(Da.jsx)(ir.a,{style:{color:Ur}}),label:Object(Da.jsx)(qn,{container:"div",id:t.id,kind:"element",label:t.highlightedLabel||t.name,name:t.name,icon:t.icon,type:t.type,active:t.active,checked:t.checked,disabled:t.disabled,faded:t.faded,visible:t.visible,selected:t.selected,allUnchecked:!0,visibleIcon:t.visibleIcon,invisibleIcon:t.invisibleIcon,onClick:function(){return a(t)},onMouseEnter:function(){return n(t)},onMouseLeave:function(){return r(t)},onChange:function(e){return i(t,!e.target.checked)},rowType:"tree",searchCount:s,focusMode:l,parentDisabled:c,parentPipeline:u},t.id),children:o},t.id)},Hr=Object($n.a)({root:{height:110,flexGrow:1,maxWidth:400}}),Wr=Object(er.a)({root:{padding:"0 0 0 20px"}})(tr.a),Yr=Object(d.b)((function(e){return{nodes:fa(e),nodeSelected:da(e),nodeModularPipelines:ia(e),types:lr(e),nodeTypeIDs:or(e),modularPipelineIds:Mt(e),modularPipelines:Ct(e),inputOutputDataNodes:ba(e)}}),(function(e){return{onToggleModularPipelineActive:function(t,a){e(ct(t,a))},onToggleModularPipelineFilter:function(t,a){e(dt(t,a))},onToggleTypeDisabled:function(t,a){e($e(t,a))},onToggleNodeSelected:function(t){e(Ke(t))}}}))((function(e){var t=e.nodes,a=e.nodeSelected,r=e.onToggleNodeSelected,i=e.searchValue,o=e.modularPipelines,s=e.modularPipelineIds,l=e.nodeModularPipelines,c=e.onItemChange,u=e.onItemMouseEnter,d=e.onItemMouseLeave,p=e.nodeTypeIDs,f=e.searching,m=e.focusMode,_=e.inputOutputDataNodes,g=Hr(),h=Object(n.useState)([]),b=Object(Se.a)(h,2),y=b[0],v=b[1];Object(n.useEffect)((function(){var e=""!==i?Fr({nodes:t,modularPipelines:o,nodeSelected:a,searchValue:i,modularPipelineIds:s,nodeModularPipelines:l,nodeTypeIDs:p,focusMode:m}):[],n=[];""!==i&&e.forEach((function(e){return n.push(e.id)})),v(n)}),[i,t,o,a,s,l,p,m]);var j=Br({nodes:t,modularPipelines:o,nodeSelected:a,searchValue:i,modularPipelineIds:s,nodeModularPipelines:l,nodeTypeIDs:p,focusMode:m,inputOutputDataNodes:_}),O=function(e){"modularPipeline"!==e.type&&r(e.id)},x=function(e,t){var a=!1===t&&"main"!==e.id?t:e.disabled;return e.children.map((function(t){return w(t,u,d,c,O,a,e.id)}))},k=function(e){return e.nodes.map((function(e){return Object(Da.jsx)(Vr,{data:e,onItemMouseEnter:u,onItemMouseLeave:d,onItemChange:c,onItemClick:O,focusMode:m},e.id)}))},w=function(e,t,a,n,r,i,o){return Object(Da.jsxs)(Vr,{data:e,onItemMouseEnter:t,onItemMouseLeave:a,onItemChange:n,onItemClick:r,focusMode:m,parentPipeline:o,parentDisabled:i,children:[x(e,i),k(e)]},e.id)};return f?Object(Da.jsxs)(Wr,{className:g.root,defaultCollapseIcon:Object(Da.jsx)(nr.a,{}),defaultExpandIcon:Object(Da.jsx)(ir.a,{}),expanded:y,children:[x(j,!1),k(j)]},"tree-search"):Object(Da.jsxs)(Wr,{className:g.root,defaultCollapseIcon:Object(Da.jsx)(nr.a,{}),defaultExpandIcon:Object(Da.jsx)(ir.a,{}),children:[x(j,!1),k(j)]},"tree")})),Xr=function(e){var t=e.splitDefault,a=void 0===t?.65:t,r=e.splitMin,i=void 0===r?0:r,o=e.splitMax,s=void 0===o?1:o,l=e.keyboardStep,c=void 0===l?.025:l,u=e.orientation,d=void 0===u?"vertical":u,p=e.children,f=Object(n.useRef)(),m=Object(n.useRef)(),_=function(){var e,t;return{container:null===(e=f.current)||void 0===e?void 0:e.getBoundingClientRect(),handle:null===(t=m.current)||void 0===t?void 0:t.getBoundingClientRect()}},g=function(e){var t=_(),a=t.handle?t.handle.height/t.container.height:0;return e<i?i:e>s-a?s-a:e},h=Object(n.useState)(!1),b=Object(Se.a)(h,2),y=b[0],v=b[1],j=Object(n.useState)(g(a)),O=Object(Se.a)(j,2),x=O[0],k=O[1],w=function(e){if("mouseup"!==e.type){if(y||"mousedown"===e.type){var t=_(),a=(e.clientY-t.container.top-.5*t.handle.height)/t.container.height;v(!0),k(g(a)),e.preventDefault()}}else v(!1)};return p({isResizing:y,split:x,props:{container:{ref:f,onMouseMove:w,onMouseUp:w},panelA:{style:{height:100*x+"%"}},panelB:{style:{height:100*(1-x)+"%"}},handle:{ref:m,role:"separator","aria-orientation":d,tabIndex:"0",onMouseUp:w,onMouseDown:w,onKeyDown:function(e){var t={ArrowUp:-c,ArrowLeft:-c,ArrowDown:c,ArrowRight:c}[e.key]||0;t&&(k(g(x+t)),e.preventDefault())}}}})},Kr=(a(178),function(e){var t=e.faded,a=e.items,r=e.groups,i=e.searchValue,o=e.getGroupState,s=e.onUpdateSearchValue,l=e.onGroupToggleChanged,c=e.onItemClick,u=e.onItemMouseEnter,d=e.onItemMouseLeave,p=e.onItemChange,f=e.focusMode,m=Object(n.useState)(!1),_=Object(Se.a)(m,2),g=_[0],h=_[1];return Object(n.useEffect)((function(){h(""!==i)}),[i]),Object(Da.jsxs)("div",{className:Ca()("pipeline-nodelist",{"pipeline-nodelist--fade":t}),children:[Object(Da.jsx)(In,{onUpdateSearchValue:s,searchValue:i}),Object(Da.jsx)(Xr,{children:function(e){var n=e.isResizing,s=e.props,m=s.container,_=s.panelA,h=s.panelB,b=s.handle;return Object(Da.jsxs)("div",Object(ve.a)(Object(ve.a)({className:Ca()("pipeline-nodelist__split",{"pipeline-nodelist__split--resizing":n})},m),{},{children:[Object(Da.jsx)("div",Object(ve.a)(Object(ve.a)({className:"pipeline-nodelist__elements-panel"},_),{},{children:Object(Da.jsx)(Pn.Scrollbars,{className:"pipeline-nodelist-scrollbars",style:{width:"auto"},autoHide:!0,hideTracksWhenNotNeeded:!0,children:Object(Da.jsx)("div",{className:"pipeline-nodelist-section",children:Object(Da.jsx)(Yr,{searchValue:i,faded:t,onItemClick:c,onItemMouseEnter:u,onItemMouseLeave:d,onItemChange:p,searching:g,focusMode:f})})})})),Object(Da.jsxs)("div",Object(ve.a)(Object(ve.a)({className:"pipeline-nodelist__filter-panel"},h),{},{children:[Object(Da.jsx)("div",Object(ve.a)({className:"pipeline-nodelist__split-handle"},b)),Object(Da.jsxs)(Pn.Scrollbars,{className:"pipeline-nodelist-scrollbars",style:{width:"auto"},autoHide:!0,hideTracksWhenNotNeeded:!0,children:[Object(Da.jsx)("h2",{className:"pipeline-nodelist-section__title",children:"Filters"}),Object(Da.jsx)(Qn,{items:a,groups:r,searchValue:i,getGroupState:o,onItemClick:c,onItemMouseEnter:u,onItemMouseLeave:d,onItemChange:p,onGroupToggleChanged:l})]})]}))]}))}})]})}),Zr=Object(d.b)((function(e){return{tags:Tt(e),tagNodeCounts:St(e),nodes:fa(e),nodeSelected:da(e),nodeTypes:lr(e),modularPipelines:Ct(e),focusMode:Et(e),inputOutputDataNodes:ba(e)}}),(function(e){return{onToggleTagActive:function(t,a){e(function(e,t){return{type:it,tagIDs:Array.isArray(e)?e:[e],active:t}}(t,a))},onToggleTagFilter:function(t,a){e(function(e,t){return{type:ot,tagIDs:Array.isArray(e)?e:[e],enabled:t}}(t,a))},onToggleModularPipelineActive:function(t,a){e(ct(t,a))},onToggleModularPipelineFilter:function(t,a){e(dt(t,a))},onToggleTypeDisabled:function(t,a){e($e(t,a))},onToggleNodeSelected:function(t){e(Ke(t))},onToggleNodeActive:function(t){e(He(t))},onToggleParametersActive:function(t){e({type:U,hoveredParameters:t})},onToggleNodesDisabled:function(t,a){e(function(e,t){return{type:Ue,nodeIDs:e,isDisabled:t}}(t,a))},onToggleFocusMode:function(t){e(function(e){return{type:V,modularPipeline:e}}(t))}}}))((function(e){var t=e.faded,a=e.nodes,r=e.nodeSelected,i=e.tags,o=e.tagNodeCounts,s=e.nodeTypes,l=e.onToggleNodesDisabled,c=e.onToggleNodeSelected,u=e.onToggleNodeActive,d=e.onToggleParametersActive,p=e.onToggleTagActive,f=e.onToggleTagFilter,m=e.onToggleModularPipelineActive,_=e.onToggleTypeDisabled,g=e.onToggleModularPipelineFilter,h=e.onToggleFocusMode,b=e.modularPipelines,v=e.focusMode,j=e.inputOutputDataNodes,O=Object(n.useState)(""),x=Object(Se.a)(O,2),k=x[0],w=x[1],T=Dr({nodes:a,tags:i,nodeTypes:s,tagNodeCounts:o,modularPipelines:b,nodeSelected:r,searchValue:k,focusMode:v,inputOutputDataNodes:j}),N=Ir({items:T}),S=function(e,t){gr(e.type)?f(e.id,!t):hr(e.type)?g([e.id],!t):br(e.type)&&_(Object(y.a)({},e.id,t)),c(null),u(null)},M=function(e){En.a.handleKeyEvent(e.keyCode,{escape:function(){return c(null)}})};return Object(n.useEffect)((function(){return window.addEventListener("keydown",M),function(){return window.removeEventListener("keydown",M)}})),Object(Da.jsx)(Kr,{faded:t,items:T,groups:N,searchValue:k,onUpdateSearchValue:w,onGroupToggleChanged:function(e){var t=T[e]||[],a=t.every((function(e){return!e.checked}));gr(e)?f(t.map((function(e){return e.id})),a):br(e)&&_(t.reduce((function(e,t){return Object(ve.a)(Object(ve.a)({},e),{},Object(y.a)({},t.id,!a))}),{}))},onItemClick:function(e){yr(e.type)||hr(e.type)?(S(e,e.checked),hr(e.type)&&h(null===v?e:null)):e.faded||e.selected?c(null):c(e.id)},onItemMouseEnter:function(e){gr(e.type)?p(e.id,!0):hr(e.type)?m(e.id,!0):br(e.type)&&"parameters"===e.id?d(!0):e.visible&&u(e.id)},onItemMouseLeave:function(e){gr(e.type)?p(e.id,!1):hr(e.type)?m(e.id,!1):br(e.type)&&"parameters"===e.id?d(!1):e.visible&&u(null)},onItemChange:function(e,t){yr(e.type)||hr(e.type)?(S(e,t),hr(e.type)&&h(null===v?e:null)):(t&&u(null),l([e.id],t))},focusMode:v})})),Jr=(a(406),function(e){var t=e.container,a=void 0===t?"li":t,n=e.ariaLabel,r=e.ariaLive,i=e.className,o=e.disabled,s=e.icon,l=e.labelText,c=e.onClick,u=e.visible,d=e.active,p=s;return u?Object(Da.jsx)(a,{children:Object(Da.jsxs)("button",{"aria-label":n,"aria-live":r,className:Ca()(i,{"pipeline-icon-toolbar__button":!0,"pipeline-icon-toolbar__button--active":d}),disabled:o,onClick:c,children:[p&&Object(Da.jsx)(p,{className:"pipeline-icon"}),l&&Object(Da.jsx)("span",{className:"pipeline-toolbar__label",children:l})]})}):null});Jr.defaultProps={ariaLabel:null,ariaLive:null,disabled:!1,icon:null,labelText:null,onClick:null,visible:!0,active:!1};var Qr=Jr,$r=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M15.3 3.3l1.4 1.4L9.4 12l7.3 7.3-1.4 1.4L6.6 12z"})})},ei=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M12 3a9 9 0 110 18 9 9 0 010-18zm0 2v14a7 7 0 100-14z"})})},ti=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M22 3v18H8.333L2 12l6.333-9H22zm-6.155 4h-3.69L10 17h1.944l.38-1.809h3.352l.38 1.809H18L15.845 7zm-1.507 1.676l.972 4.75h-2.62l.972-4.75h.676z"})})},ai=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M5 16v4h14v-4h2v4c0 1-.8 2-1.9 2H5a2 2 0 01-2-2v-4h2zm8-14v11l3.5-3.5L18 11l-6 6-6-6 1.5-1.5L11 13V2h2z"})})},ni=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M12 3l9 4.82-3.6 2.07 3.6 1.93-3.6 2.07 3.6 1.93L12 21l-9-5.18 3.6-1.93L3 11.82 6.6 9.9 3 7.82 12 3zM8.72 15.11l-1.45.78L12 18.6l4.73-2.72-1.45-.78L12 17l-3.28-1.89zm0-4l-1.45.78L12 14.6l4.73-2.72-1.45-.78L12 13l-3.28-1.89zM12 5.35L7.27 7.9 12 10.6l4.73-2.72L12 5.36z"})})},ri=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"-4 -4 24 24",children:Object(Da.jsxs)("g",{children:[Object(Da.jsx)("path",{d:"M14.75 7L16.25 7 16.5 10 14.5 10z"}),Object(Da.jsx)("path",{d:"M0.75 7L2.25 7 2.5 10 0.5 10z"}),Object(Da.jsx)("path",{d:"M7.75 0L9.25 0 9.5 3 7.5 3z"}),Object(Da.jsx)("path",{d:"M7.75 14L9.25 14 9.5 17 7.5 17z"}),Object(Da.jsx)("path",{d:"M12.7 2.05L14.2 2.05 14.45 5.05 12.45 5.05z"}),Object(Da.jsx)("path",{d:"M2.8 11.95L4.3 11.95 4.55 14.95 2.55 14.95z"}),Object(Da.jsx)("path",{d:"M2.8 2.05L4.3 2.05 4.55 5.05 2.55 5.05z"}),Object(Da.jsx)("path",{d:"M12.7 11.95L14.2 11.95 14.45 14.95 12.45 14.95z"}),Object(Da.jsx)("path",{d:"M15.5 8.389c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7 7 3.134 7 7zm-2 0c0-2.762-2.239-5-5-5s-5 2.238-5 5c0 2.761 2.239 5 5 5s5-2.239 5-5z"})]})})},ii=(a(407),Object(d.b)((function(e){return{disableLayerBtn:!e.layer.ids.length,textLabels:e.textLabels,theme:e.theme,visible:e.visible,visibleLayers:Boolean(Vt(e).length)}}),(function(e){return{onToggleExportModal:function(t){e(k(t))},onToggleSettingsModal:function(t){e(T(t))},onToggleLayers:function(t){var a;e((a=Boolean(t),{type:O,visible:a}))},onToggleSidebar:function(t){e(function(e){return{type:C,visible:e}}(t))},onToggleTextLabels:function(t){var a;e((a=Boolean(t),{type:P,textLabels:a}))},onToggleTheme:function(t){e({type:z,theme:t})}}}))((function(e){var t=e.disableLayerBtn,a=e.onToggleExportModal,n=e.onToggleSettingsModal,r=e.onToggleLayers,i=e.onToggleSidebar,o=e.onToggleTextLabels,s=e.onToggleTheme,l=e.textLabels,c=e.theme,u=e.visible,d=e.visibleLayers;return Object(Da.jsx)(Da.Fragment,{children:Object(Da.jsxs)("ul",{className:"pipeline-primary-toolbar kedro",children:[Object(Da.jsx)(Qr,{ariaLabel:"".concat(u.sidebar?"Hide":"Show"," menu"),className:Ca()("pipeline-menu-button","pipeline-menu-button--menu",{"pipeline-menu-button--inverse":!u.sidebar}),onClick:function(){return i(!u.sidebar)},icon:$r,labelText:"".concat(u.sidebar?"Hide":"Show"," menu")}),Object(Da.jsx)(Qr,{ariaLive:"polite",ariaLabel:"Change to ".concat("light"===c?"dark":"light"," theme"),className:"pipeline-menu-button--theme",onClick:function(){return s("light"===c?"dark":"light")},icon:ei,labelText:"Toggle theme",visible:u.themeBtn}),Object(Da.jsx)(Qr,{ariaLive:"polite",className:"pipeline-menu-button--labels",onClick:function(){return o(!l)},icon:ti,labelText:"".concat(l?"Hide":"Show"," text labels"),visible:u.labelBtn}),Object(Da.jsx)(Qr,{ariaLabel:"Export graph as SVG or PNG",className:"pipeline-menu-button--export",onClick:function(){return a(!0)},icon:ai,labelText:"Export visualisation",visible:u.exportBtn}),Object(Da.jsx)(Qr,{ariaLabel:"Turn data layers ".concat(d?"off":"on"),className:"pipeline-menu-button--layers",onClick:function(){return r(!d)},icon:ni,labelText:"".concat(d?"Hide":"Show"," layers"),disabled:t,visible:u.layerBtn}),Object(Da.jsx)(Qr,{ariaLabel:"Change the settings flags",className:"pipeline-menu-button--settings",onClick:function(){return n(!0)},icon:ri,disabled:!1,labelText:"Settings",visible:u.settingsBtn})]})})}))),oi=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M9.5 3l6 3.7 6-2.1v13.9l-6.2 3.3-6-3.8L3 20.4V5.3L9.5 3zm10 4.4l-3.1 1.2v10.3l3.2-1.6V7.4zm-9.1-1.5v10.4l4 2.5V8.4l-4-2.5zm-2-.4L5 6.7v10.8l3.4-1.3V5.5z"})})},si=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"m13 4v7h7v2h-7v7h-2v-7h-7v-2h7v-7z"})})},li=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M19 13H5v-2h14z"})})},ci=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M8.5 4v5.5h-2V7.7A7 7 0 0012 19v2A9 9 0 015.3 6H3V4h5.5zM12 3a9 9 0 017.1 14.5h2.4v2H16V14h2v1.6A7 7 0 0012 5z"})})},ui=(a(408),function(e,t){return{scale:e.scale*(t||1),applied:!1,transition:!0,reset:0===t}}),di=Object(d.b)((function(e){return{visible:e.visible,chartZoom:Na(e)}}),(function(e){return{onToggleMiniMap:function(t){e({type:A,visible:t})},onUpdateChartZoom:function(t){e(R(t))}}}))((function(e){var t=e.onToggleMiniMap,a=e.visible,n=e.chartZoom,r=e.onUpdateChartZoom,i=n.scale,o=n.minScale,s=n.maxScale;return Object(Da.jsx)(Da.Fragment,{children:Object(Da.jsxs)("ul",{className:"pipeline-minimap-toolbar kedro",children:[Object(Da.jsx)(Qr,{icon:oi,className:"pipeline-minimap-button pipeline-minimap-button--map",ariaLabel:"Turn minimap ".concat(a.miniMap?"off":"on"),onClick:function(){return t(!a.miniMap)},labelText:"".concat(a.miniMap?"Hide":"Show"," minimap"),visible:a.miniMapBtn,active:a.miniMap}),Object(Da.jsx)(Qr,{icon:si,className:"pipeline-minimap-button pipeline-minimap-button--zoom-in",ariaLabel:"Zoom in",labelText:"Zoom in",visible:a.miniMapBtn,disabled:i>=s,onClick:function(){return r(ui(n,1.3))}}),Object(Da.jsx)(Qr,{icon:li,className:"pipeline-minimap-button pipeline-minimap-button--zoom-out",ariaLabel:"Zoom out",labelText:"Zoom out",visible:a.miniMapBtn,disabled:i<=o,onClick:function(){return r(ui(n,.7))}}),Object(Da.jsx)(Qr,{icon:ci,className:"pipeline-minimap-button pipeline-minimap-button--reset",ariaLabel:"Reset zoom",labelText:"Reset zoom",visible:a.miniMapBtn,onClick:function(){return r(ui(n,0))}}),Object(Da.jsx)("li",{children:Object(Da.jsxs)("span",{className:"pipeline-minimap-toolbar__scale",title:"Zoom level",children:[Math.round(100*n.scale)||100,"%"]})})]})})})),pi=function(){var e=this.props.mapSize,t=this.getViewport(),a=t.x,n=t.y,r=t.width,i=t.height,o=Math.max(a,2),s=Math.max(n,2),l=Math.min(a+r,e.width-2),c=Math.min(n+i,e.height-2);this.el.viewport.enter().attr("x",0).attr("y",0),this.el.viewport.attr("transform","translate(".concat(o,", ").concat(s,")")).attr("width",Math.max(0,l-o)).attr("height",Math.max(0,c-s))},fi=function(){var e=this.props,t=e.clickedNode,a=e.linkedNodes,n=e.nodeActive,r=e.nodeSelected,i=e.nodes;this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-minimap-node").data(i,(function(e){return e.id}));var o=this.el.nodes.enter().append("g").attr("class","pipeline-minimap-node");o.attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")})).attr("opacity",0),o.append("rect"),this.el.nodes.exit().transition("exit-nodes").duration(this.DURATION).attr("opacity",0).remove(),this.el.nodes=this.el.nodes.merge(o).attr("data-id",(function(e){return e.id})).classed("pipeline-minimap-node--active",(function(e){return n[e.id]})).classed("pipeline-minimap-node--selected",(function(e){return r[e.id]})).classed("pipeline-minimap-node--faded",(function(e){return t&&!a[e.id]})),this.el.nodes.transition("update-nodes").duration(this.DURATION).attr("opacity",1).attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")})).end().catch((function(){})),this.el.nodes.select("rect").attr("width",(function(e){return e.width-mi(e)})).attr("height",(function(e){return e.height-mi(e)})).attr("x",(function(e){return(e.width-mi(e))/-2})).attr("y",(function(e){return(e.height-mi(e))/-2}))},mi=function(e){return"task"===e.type?5:16},_i=(a(409),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onPointerEnter=function(){n.isPointerInside=!0},n.onPointerLeave=function(){n.isPointerInside=!1},n.onPointerUpGlobal=function(){n.isPointerDown=!1,n.isPointerInside=!1},n.onPointerDown=function(e){n.isPointerDown=!0,n.isPointerInside=!0,n.onPointerMove(e,!0)},n.onPointerWheel=function(e){n.props.onUpdateChartZoom({relative:!0,scale:-(e.deltaY||0)*n.ZOOM_RATE,applied:!1,transition:!1})},n.onPointerWheelGlobal=function(e){n.containerRef.current.contains(e.target)&&e.preventDefault()},n.onPointerMove=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.isPointerDown&&n.isPointerInside){var a=Number(new Date);if(a-n.lastTransitionTime<n.TRANSITION_WAIT)return;var r=n.props.chartZoom.scale,i=void 0===r?1:r,o=n.props.mapSize,s=o.width,l=o.height,c=n.props.graphSize,u=c.width,d=c.height,p=un(n.view),f=p.k,m=void 0===f?1:f,_=n.svgRef.current.getBoundingClientRect(),g=(e.clientX-_.x)/m,h=(e.clientY-_.y)/m,b=.5*(s/m-u),y=.5*(l/m-d),v=(g-b)*i,j=(h-y)*i;n.props.onUpdateChartZoom({x:v,y:j,scale:i,relative:!1,applied:!1,transition:t}),t&&(n.lastTransitionTime=a)}},n.DURATION=700,n.TRANSITION_WAIT=200,n.ZOOM_RATE=.0025,n.isPointerDown=!1,n.isPointerInside=!1,n.lastTransitionTime=0,n.containerRef=r.a.createRef(),n.svgRef=r.a.createRef(),n.wrapperRef=r.a.createRef(),n.nodesRef=r.a.createRef(),n.viewportRef=r.a.createRef(),n.onPointerMove=n.onPointerMove.bind(Object(La.a)(n)),n.onPointerEnter=n.onPointerEnter.bind(Object(La.a)(n)),n.onPointerLeave=n.onPointerLeave.bind(Object(La.a)(n)),n.onPointerDown=n.onPointerDown.bind(Object(La.a)(n)),n.onPointerWheel=n.onPointerWheel.bind(Object(La.a)(n)),n.onPointerWheelGlobal=n.onPointerWheelGlobal.bind(Object(La.a)(n)),n.onPointerUpGlobal=n.onPointerUpGlobal.bind(Object(La.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.selectD3Elements(),this.view=on({container:this.svgRef,wrapper:this.wrapperRef,allowUserInput:!1}),this.addGlobalEventListeners(),this.update()}},{key:"componentWillUnmount",value:function(){this.removeGlobalEventListeners()}},{key:"addGlobalEventListeners",value:function(){window.addEventListener("wheel",this.onPointerWheelGlobal,{passive:!1}),window.addEventListener(hi("pointerup"),this.onPointerUpGlobal)}},{key:"removeGlobalEventListeners",value:function(){window.removeEventListener("wheel",this.onPointerWheelGlobal),window.removeEventListener(hi("pointerup"),this.onPointerUpGlobal)}},{key:"componentDidUpdate",value:function(e){this.update(e)}},{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.props,n=a.visible,r=a.chartZoom;if(n){var i=function(){for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return e.changed(n,t,e.props)};i("visible","nodes","clickedNodes","linkedNodes","nodesActive","nodeSelected")&&fi.call(this),i("visible","chartZoom")&&r.applied&&pi.call(this),i("visible","nodes","textLabels","chartSize")&&this.resetView()}}},{key:"changed",value:function(e,t,a){return t&&a&&e.some((function(e){return t[e]!==a[e]}))}},{key:"selectD3Elements",value:function(){this.el={svg:Object(yt.a)(this.svgRef.current),wrapper:Object(yt.a)(this.wrapperRef.current),nodeGroup:Object(yt.a)(this.nodesRef.current),viewport:Object(yt.a)(this.viewportRef.current)}}},{key:"resetView",value:function(){var e=this.props,t=e.graphSize,a=e.mapSize,n=a.width,r=a.height,i=t.width,o=t.height;if(n&&i){var s=fn({offset:{x:.5*gi,y:.5*gi},viewWidth:n-gi,viewHeight:r-gi,objectWidth:i,objectHeight:o}),l=ln(un(this.view));pn(this.view,s,l?0:this.DURATION,!1)}}},{key:"getViewport",value:function(){var e=this.props,t=e.chartZoom,a=e.chartSize,n=un(this.view),r=n.k,i=n.x,o=n.y,s=r/t.scale,l=a.width*s,c=a.height*s;return{x:-i-(t.x-a.sidebarWidth)*s,y:-o-t.y*s,width:l,height:c}}},{key:"render",value:function(){var e,t=this.props.mapSize,a=t.width,n=t.height,r={transform:"translate(calc(-100% + ".concat(a,"px), -100%)")},i=hi,o=(e={onWheel:this.onPointerWheel},Object(y.a)(e,i("onPointerEnter"),this.onPointerEnter),Object(y.a)(e,i("onPointerLeave"),this.onPointerLeave),Object(y.a)(e,i("onPointerDown"),this.onPointerDown),Object(y.a)(e,i("onPointerMove"),this.onPointerMove),e);return Object(Da.jsx)("div",{className:"pipeline-minimap-container",style:this.props.visible?r:{},children:Object(Da.jsx)("div",Object(ve.a)(Object(ve.a)({className:"pipeline-minimap kedro",ref:this.containerRef},o),{},{children:Object(Da.jsxs)("svg",{id:"pipeline-minimap-graph",className:"pipeline-minimap__graph",width:a,height:n,viewBox:"0 0 ".concat(a," ").concat(n),ref:this.svgRef,children:[Object(Da.jsx)("g",{id:"zoom-wrapper",ref:this.wrapperRef,children:Object(Da.jsx)("g",{id:"minimap-nodes",className:"pipeline-minimap__nodes",ref:this.nodesRef})}),Object(Da.jsx)("rect",{className:"pipeline-minimap__viewport",ref:this.viewportRef})]})}))})}}]),a}(n.Component)),gi=32,hi=function(e){return window.PointerEvent?e:e.replace("pointer","mouse").replace("Pointer","Mouse")},bi=function(e){var t=e.graph.size||{},a=t.width||0,n=t.height||0;if(a>0&&n>0){var r=a*(220/n);return{width:Math.min(Math.max(r,218),327),height:220}}return{width:218,height:220}},yi=[],vi={},ji=Object(d.b)((function(e,t){return Object(ve.a)({visible:e.visible.miniMap,mapSize:bi(e),clickedNode:e.node.clicked,chartSize:Ta(e),chartZoom:Na(e),graphSize:e.graph.size||vi,nodes:e.graph.nodes||yi,linkedNodes:Ba(e),nodeActive:ua(e),nodeSelected:da(e),textLabels:e.textLabels},t)}),(function(e,t){return Object(ve.a)({onUpdateChartZoom:function(t){e(R(t))}},t)}))(_i),Oi=(a(410),Object(d.b)((function(e){return{visible:e.visible.sidebar}}))((function(e){var t=e.visible,a=Object(n.useState)(!1),r=Object(Se.a)(a,2),i=r[0],o=r[1];return Object(Da.jsx)(Da.Fragment,{children:Object(Da.jsxs)("div",{className:Ca()("pipeline-sidebar",{"pipeline-sidebar--visible":t}),children:[Object(Da.jsxs)("div",{className:"pipeline-ui",children:[Object(Da.jsx)(Sn,{onToggleOpen:o}),Object(Da.jsx)(Zr,{faded:i})]}),Object(Da.jsxs)("nav",{className:"pipeline-toolbar",children:[Object(Da.jsx)(ii,{}),Object(Da.jsx)(di,{})]}),Object(Da.jsx)(ji,{})]})})}))),xi=a(190),ki=a.n(xi),wi=a(191),Ti=a.n(wi),Ni=(a(411),{autosize:!0,annotationdefaults:{arrowcolor:"#2a3f5f",arrowhead:0,arrowwidth:1},autotypenumbers:"strict",coloraxis:{autocolorscale:!0,colorbar:{thickness:20,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(255,255,255,0.30)",ticklen:12,tickfont:{color:"rgba(255,255,255,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(255,255,255,0.55)",size:12}}}},colorscale:{diverging:["rgb(230,59,90)","rgb(240,185,186)","rgb(237,212,213)","rgb(232,232,232)","rgb(190,213,236)","rgb(136,192,240)","rgb(0,169,244)"],sequential:["rgb(0,169,244)","rgb(60,175,245)","rgb(148,203,250)","rgb(195,225,254)","rgb(214,235,255)"],sequentialminus:["rgb(0,169,244)","rgb(60,175,245)","rgb(148,203,250)","rgb(195,225,254)","rgb(214,235,255)"]},colorway:["#00a9f4","#42459F","#F4973B","#E63B5A","#948DCA","#769D00","#1A2E91","#4F9596","#F7D02A","#F07179","#3C7A34","#B2DFE1","#C1BCE5","#AD544A","#F4973B","#B6CD70","#65A6A8","#F8E979"],font:{color:"rgba(255,255,255,0.55)"},height:null,hoverlabel:{align:"left"},hovermode:"closest",legend:{title:{font:{color:"rgba(255,255,255,0.55)"}},font:{color:"rgba(255,255,255,0.55)"}},mapbox:{style:"DARK"},paper_bgcolor:"#111111",plot_bgcolor:"#111111",title:{font:{color:"rgba(255,255,255,0.85)",size:16},xref:"paper",yref:"paper",x:0,xanchor:"left",yanchor:"middle"},width:null,xaxis:{automargin:!0,gridcolor:"rgba(255,255,255,0.12)",layer:"below traces",linewidth:1,linecolor:"rgba(255,255,255,0.30)",rangemode:"normal",showline:!0,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(255,255,255,0.30)",ticklen:12,tickfont:{color:"rgba(255,255,255,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(255,255,255,0.55)",size:16}},zerolinecolor:"rgba(255,255,255,0.30)",zerolinewidth:1},yaxis:{automargin:!0,gridcolor:"rgba(255,255,255,0.12)",layer:"below traces",linewidth:1,linecolor:"rgba(255,255,255,0.30)",rangemode:"normal",showline:!0,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(255,255,255,0.30)",ticklen:12,tickfont:{color:"rgba(255,255,255,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(255,255,255,0.55)",size:16}},zerolinecolor:"rgba(255,255,255,0.30)",zerolinewidth:1},margin:{l:72,r:40,t:64,b:72}}),Si=Object(ve.a)(Object(ve.a)({},Ni),{},{height:300,margin:{l:100,r:40,t:40,b:70},showlegend:!1,title:"",width:400,xaxis:Object(ve.a)(Object(ve.a)({},Ni.xaxis),{},{title:Object(ve.a)(Object(ve.a)({},Ni.xaxis.title),{},{font:Object(ve.a)(Object(ve.a)({},Ni.xaxis.font),{},{size:8})}),tickfont:Object(ve.a)(Object(ve.a)({},Ni.xaxis.tickfont),{},{size:8}),nticks:5}),yaxis:Object(ve.a)(Object(ve.a)({},Ni.yaxis),{},{title:Object(ve.a)(Object(ve.a)({},Ni.yaxis.title),{},{font:Object(ve.a)(Object(ve.a)({},Ni.yaxis.font),{},{size:8})}),tickfont:Object(ve.a)(Object(ve.a)({},Ni.yaxis.tickfont),{},{size:8}),nticks:5})}),Mi=Object(ve.a)({},Ni),Ei={autosize:!0,annotationdefaults:{arrowcolor:"#2a3f5f",arrowhead:0,arrowwidth:1},autotypenumbers:"strict",coloraxis:{autocolorscale:!0,colorbar:{thickness:20,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(0,0,0,0.30)",ticklen:12,tickfont:{color:"rgba(0,0,0,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(0,0,0,0.55)",size:12}}}},colorscale:{diverging:["rgb(230,59,90)","rgb(240,185,186)","rgb(237,212,213)","rgb(232,232,232)","rgb(190,213,236)","rgb(136,192,240)","rgb(0,169,244)"],sequential:["rgb(0,169,244)","rgb(60,175,245)","rgb(148,203,250)","rgb(195,225,254)","rgb(214,235,255)"],sequentialminus:["rgb(0,169,244)","rgb(60,175,245)","rgb(148,203,250)","rgb(195,225,254)","rgb(214,235,255)"]},colorway:["#00a9f4","#42459F","#F4973B","#E63B5A","#948DCA","#769D00","#1A2E91","#4F9596","#F7D02A","#F07179","#3C7A34","#B2DFE1","#C1BCE5","#AD544A","#F4973B","#B6CD70","#65A6A8","#F8E979"],font:{color:"rgba(0,0,0,0.55)"},height:null,hoverlabel:{align:"left"},hovermode:"closest",legend:{title:{font:{color:"rgba(0,0,0,0.55)"}},font:{color:"rgba(0,0,0,0.55)"}},mapbox:{style:"light"},paper_bgcolor:"#EEEEEE",plot_bgcolor:"#EEEEEE",title:{font:{color:"rgba(0,0,0,0.85)",size:16},xref:"paper",yref:"paper",x:0,xanchor:"left",yanchor:"middle"},width:null,xaxis:{automargin:!0,gridcolor:"rgba(0,0,0,0.12)",layer:"below traces",linewidth:1,linecolor:"rgba(0,0,0,0.30)",rangemode:"normal",showline:!0,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(0,0,0,0.30)",ticklen:12,tickfont:{color:"rgba(0,0,0,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(0,0,0,0.55)",size:16}},zerolinecolor:"rgba(0,0,0,0.30)",zerolinewidth:1},yaxis:{automargin:!0,gridcolor:"rgba(0,0,0,0.12)",layer:"below traces",linewidth:1,linecolor:"rgba(0,0,0,0.30)",rangemode:"normal",showline:!0,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(0,0,0,0.30)",ticklen:12,tickfont:{color:"rgba(0,0,0,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(0,0,0,0.55)",size:16}},zerolinecolor:"rgba(0,0,0,0.30)",zerolinewidth:1},margin:{l:72,r:40,t:64,b:72}},Pi=Object(ve.a)(Object(ve.a)({},Ei),{},{height:300,margin:{l:100,r:40,t:40,b:70},showlegend:!1,title:"",width:400,xaxis:Object(ve.a)(Object(ve.a)({},Ei.xaxis),{},{title:Object(ve.a)(Object(ve.a)({},Ei.xaxis.title),{},{font:Object(ve.a)(Object(ve.a)({},Ei.xaxis.font),{},{size:8})}),tickfont:Object(ve.a)(Object(ve.a)({},Ei.xaxis.tickfont),{},{size:8}),nticks:5}),yaxis:Object(ve.a)(Object(ve.a)({},Ei.yaxis),{},{title:Object(ve.a)(Object(ve.a)({},Ei.yaxis.title),{},{font:Object(ve.a)(Object(ve.a)({},Ei.yaxis.font),{},{size:8})}),tickfont:Object(ve.a)(Object(ve.a)({},Ei.yaxis.tickfont),{},{size:8}),nticks:5})}),Ci=Object(ve.a)({},Ei),zi=ki()(Ti.a),Ii=function(e,t,a){return"dark"===e?"modal"===t?Oe()(a,Mi):Oe()(a,Si):"modal"===t?Oe()(a,Ci):Oe()(a,Pi)},Di=Object(d.b)((function(e){return{theme:e.theme}}))((function(e){var t=e.theme,a=e.view,n=e.data,r=void 0===n?[]:n,i=e.layout,o=void 0===i?{}:i,s="preview"===a?{staticPlot:!0}:void 0;return Object(Da.jsx)("div",{className:"pipeline-plotly-chart",children:Object(Da.jsx)(zi,{data:r,layout:Ii(t,a,o),config:s,style:{width:"100%",height:"100%"},useResizeHandler:!0})})})),Ri=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M17 1v1h4v16h-4v4H3V6h4V2h4V1h6zM7 8H5v12h10v-2H7V8zm4-4H9v12h10V4h-2v1h-6V4z"})})},Li=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})},Ai=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M21 5v16H5v-8h2v6h12V7h-6.116V5H21zM8 3v2H6.415l6.292 6.293-1.414 1.414L5 6.415V8H3V3h5z"})})},Fi=(a(59),function(e){var t=e.container,a=void 0===t?"span":t,n=e.className,r=e.value,i=e.kind,o=e.empty;return Object(Da.jsx)(Da.Fragment,{children:Object(Da.jsx)(a,{title:r,className:Ha("pipeline-metadata__value",{kind:i},n),children:r||0===r?r:o})})}),qi=function(e){var t=e.property,a=e.values,r=void 0===a?[]:a,i=e.kind,o=void 0===i?"text":i,s=e.empty,l=void 0===s?"-":s,c=e.inline,u=void 0===c||c,d=e.commas,p=void 0===d||d,f=e.limit,m=void 0!==f&&f,_=Object(n.useState)(!1),g=Object(Se.a)(_,2),h=g[0],b=g[1],y=!h&&m?r.slice(0,m):r,v=r.length-y.length;return Object(n.useEffect)((function(){return b(!1)}),[r]),r.length>0?Object(Da.jsxs)(Da.Fragment,{children:[Object(Da.jsx)("ul",{className:Ha("pipeline-metadata__value-list",{inline:u,commas:p}),children:y.map((function(e,a){return Object(Da.jsx)("li",{children:Object(Da.jsx)(Fi,{value:t?e[t]:e,kind:o,empty:l})},a)}))}),v>0?Object(Da.jsxs)("button",{className:"pipeline-metadata__value-list-expand","aria-expanded":h,onClick:function(){return b(!0)},children:["+ ",v," more"]}):null]}):Object(Da.jsx)(Fi,{empty:l})},Bi=a(192),Gi=a.n(Bi),Ui={base00:"#122531",base01:"#122531",base02:"#122531",base03:"#122531",base04:"rgba(255,255,255,0.35)",base05:"#122531",base06:"#122531",base07:"rgba(255,255,255,0.85)",base08:"#122531",base09:"#ffbc00",base0A:"#122531",base0B:"rgba(255,255,255,0.85)",base0C:"rgba(255,255,255,0.85)",base0D:"#00b0f5",base0E:"#dcc6e0",base0F:"rgba(255,255,255,0.85)"},Vi={base00:"#f0f1f3",base01:"#f0f1f3",base02:"#f0f1f3",base03:"#f0f1f3",base04:"rgba(0,0,0,0.55)",base05:"#f0f1f3",base06:"#f0f1f3",base07:"rgba(0,0,0,0.85)",base08:"#f0f1f3",base09:"#a000bc",base0A:"#f0f1f3",base0B:"rgba(0,0,0,0.85)",base0C:"rgba(0,0,0,0.85)",base0D:"#00b0f5",base0E:"#7928a1",base0F:"rgba(0,0,0,0.85)"},Hi=function(e){var t=e.className,a=e.value,n=e.kind,r=e.theme,i=e.empty;return Object(Da.jsx)("div",{className:Ha("pipeline-metadata__object",{kind:n},t),children:0===Object.keys(a).length?i:Object(Da.jsx)(Gi.a,{theme:"dark"===r?Ui:Vi,name:!1,indentWidth:1,collapsed:1,collapseStringsAfterLength:!0,enableClipboard:!0,displayDataTypes:!1,src:a})})},Wi=function(e){var t=e.label,a=e.theme,n=e.property,r=e.value,i=e.kind,o=void 0===i?"text":i,s=e.empty,l=void 0===s?"-":s,c=e.visible,u=void 0===c||c,d=e.inline,p=void 0===d||d,f=e.commas,m=void 0===f||f,_=e.limit,g=void 0!==_&&_,h=e.children,b=Array.isArray(r),y="object"===typeof r&&null!==r&&!b;return u&&Object(Da.jsxs)(Da.Fragment,{children:[Object(Da.jsx)("dt",{className:"pipeline-metadata__label",children:t}),Object(Da.jsxs)("dd",{className:"pipeline-metadata__row","data-label":t,children:[b&&Object(Da.jsx)(qi,{property:n,inline:p,commas:m,kind:o,empty:l,values:r,limit:g}),!b&&!y&&!h&&Object(Da.jsx)(Fi,{value:r,kind:o,empty:l,theme:a}),y&&Object(Da.jsx)(Hi,{value:r,kind:o,theme:a,empty:l}),h]})]})},Yi=a(52),Xi=a.n(Yi),Ki=a(193),Zi=a.n(Ki),Ji=a(194),Qi=a.n(Ji),$i=a(195),eo=a.n($i);a(426);Xi.a.registerLanguage("python",Zi.a),Xi.a.registerLanguage("yaml",Qi.a),Xi.a.registerLanguage("javascript",eo.a);var to=Object(d.b)((function(e){return{sidebarVisible:e.visible.sidebar}}))((function(e){var t=e.sidebarVisible,a=e.visible,r=void 0===a||a,i=e.value,o=void 0===i?"":i,s=Object(n.useRef)(),l=Object(n.useMemo)((function(){var e=Xi.a.highlightAuto(o),t=e.language||e.second_best.language;return t?Xi.a.highlight(o,{language:t}).value:o}),[o]);return Object(Da.jsxs)("div",{className:Ha("pipeline-metadata-code",{visible:r,sidebarVisible:t},"kedro"),children:[Object(Da.jsx)("h2",{className:"pipeline-metadata-code__title",children:"Code block"}),Object(Da.jsx)("code",{className:"pipeline-metadata-code__code",children:Object(Da.jsx)("pre",{ref:s,dangerouslySetInnerHTML:{__html:l}})})]})})),ao=(a(427),function(e){var t=e.id,a=void 0===t?"":t,n=e.checked,r=e.enabled,i=void 0===r||r,o=e.title,s=e.onChange,l=e.className,c=void 0===l?"":l;return Object(Da.jsxs)("div",{className:Ha(Ca()("pipeline-toggle",c),{enabled:i}),children:[Object(Da.jsx)("input",{id:"pipeline-toggle-input-".concat(a),className:"pipeline-toggle-input",type:"checkbox",checked:n,disabled:!i,onChange:s}),Object(Da.jsx)("label",{className:Ha("pipeline-toggle-label",{checked:i&&n}),htmlFor:"pipeline-toggle-input-".concat(a),children:o})]})}),no=Object(d.b)((function(e,t){return Object(ve.a)({visible:ja(e),metadata:Oa(e),theme:e.theme,visibleCode:e.visible.code},t)}),(function(e){return{onToggleNodeSelected:function(t){e(Ge(t))},onToggleCode:function(t){e(function(e){return{type:G,visible:e}}(t))},onTogglePlotModal:function(t){e(S(t))}}}))((function(e){var t=e.visible,a=void 0===t||t,i=e.metadata,o=e.theme,s=e.visibleCode,l=e.onToggleCode,c=e.onToggleNodeSelected,u=e.onTogglePlotModal,d=Object(n.useState)(!1),p=Object(Se.a)(d,2),f=p[0],m=p[1];Object(n.useEffect)((function(){return l(!1)}),[i,l]);var _="task"===(null===i||void 0===i?void 0:i.node.type),g="data"===(null===i||void 0===i?void 0:i.node.type),h="parameters"===(null===i||void 0===i?void 0:i.node.type),b=Wt(null===i||void 0===i?void 0:i.datasetType,null===i||void 0===i?void 0:i.node.type),y=Boolean(null===i||void 0===i?void 0:i.plot),v=Boolean(null===i||void 0===i?void 0:i.code),j=Boolean(null===i||void 0===i?void 0:i.originalType),O=a&&s&&v,x=v,k=null===i||void 0===i?void 0:i.runCommand;k||(k=_?"Please provide a name argument for this node in order to see a run command.":null);var w=function(){u(!0)};return Object(Da.jsxs)(Da.Fragment,{children:[Object(Da.jsx)(to,{visible:O,value:null===i||void 0===i?void 0:i.code}),Object(Da.jsx)("div",{className:Ha("pipeline-metadata",{visible:a},"kedro"),children:i&&Object(Da.jsxs)(Da.Fragment,{children:[Object(Da.jsxs)("div",{className:"pipeline-metadata__header-toolbox",children:[Object(Da.jsxs)("div",{className:"pipeline-metadata__header",children:[Object(Da.jsx)(Ya,{className:"pipeline-metadata__icon",icon:b}),Object(Da.jsx)("h2",{className:"pipeline-metadata__title",children:i.node.name})]}),Object(Da.jsx)(Qr,{container:r.a.Fragment,ariaLabel:"Close Metadata Panel",className:Ha("pipeline-metadata__close-button",{hasCode:v}),icon:Li,onClick:function(){c(null)}}),x&&Object(Da.jsx)(ao,{id:"code",checked:s,enabled:v,title:"Show Code",onChange:function(e){l(e.target.checked)}})]}),Object(Da.jsxs)("div",{className:"pipeline-metadata__list",children:[Object(Da.jsxs)("dl",{className:"pipeline-metadata__properties",children:[Object(Da.jsx)(Wi,{label:"Type:",value:i.node.type}),!j&&Object(Da.jsx)(Wi,{label:"Dataset Type:",visible:g,kind:"type",value:i.datasetType}),j&&Object(Da.jsxs)(Da.Fragment,{children:[Object(Da.jsx)(Wi,{label:"Original Type:",visible:g,kind:"type",value:i.originalType}),Object(Da.jsx)(Wi,{label:"Transcoded Types:",visible:g,kind:"type",value:i.transcodedTypes})]}),Object(Da.jsx)(Wi,{label:"File Path:",kind:"path",value:i.filepath}),Object(Da.jsx)(Wi,{label:"Parameters:",theme:o,visible:h||_,kind:"parameters",commas:!1,inline:!1,value:i.parameters,limit:10}),Object(Da.jsx)(Wi,{label:"Inputs:",visible:_,value:i.inputs}),Object(Da.jsx)(Wi,{label:"Outputs:",visible:_,value:i.outputs}),Object(Da.jsx)(Wi,{label:"Tags:",kind:"token",commas:!1,value:i.tags}),Object(Da.jsx)(Wi,{label:"Pipeline:",visible:Boolean(i.pipeline),value:i.pipeline}),Object(Da.jsx)(Wi,{label:"Run Command:",visible:Boolean(k),children:Object(Da.jsxs)("div",{className:"pipeline-metadata__toolbox-container",children:[Object(Da.jsx)(Fi,{container:"code",className:Ha("pipeline-metadata__run-command-value",{visible:!f}),value:k}),window.navigator.clipboard&&i.runCommand&&Object(Da.jsxs)(Da.Fragment,{children:[Object(Da.jsx)("span",{className:Ha("pipeline-metadata__copy-message",{visible:f}),children:"Copied to clipboard."}),Object(Da.jsx)("ul",{className:"pipeline-metadata__toolbox",children:Object(Da.jsx)(Qr,{ariaLabel:"Copy run command to clipboard.",className:"pipeline-metadata__copy-button",icon:Ri,onClick:function(){window.navigator.clipboard.writeText(k),m(!0),setTimeout((function(){return m(!1)}),1500)}})})]})]})})]}),y&&Object(Da.jsxs)(Da.Fragment,{children:[Object(Da.jsx)("div",{className:"pipeline-metadata__plot",onClick:w,children:Object(Da.jsx)(Di,{data:i.plot.data,layout:i.plot.layout,view:"preview"})}),Object(Da.jsxs)("button",{className:"pipeline-metadata__expand-plot",onClick:w,children:[Object(Da.jsx)(Ai,{className:"pipeline-metadata__expand-plot-icon"}),Object(Da.jsx)("span",{className:"pipeline-metadata__expand-plot-text",children:"Expand Plotly Visualization"})]})]})]})]})})]})})),ro=a(90),io=a.n(ro),oo=a(127),so=function(e){var t,a,n=e.format,r=e.theme,i=e.graphSize,o=e.mockFn,s={png:oo.b,svg:oo.a},l=o||s[n],c=document.querySelector("#pipeline-graph"),u=c.parentNode.appendChild(c.cloneNode(!0));u.classList.add("kedro","kui-theme--".concat(r),"pipeline-graph--export");var d=isFinite(i.width)&&isFinite(i.height);if(d&&(t=i.width+2*i.marginx,a=i.height+2*i.marginy,u.setAttribute("viewBox","0 0 ".concat(t," ").concat(a))),u.querySelector("#zoom-wrapper").removeAttribute("transform"),"png"===n){t=Math.min(t,5e3),a=Math.min(a,a/t*5e3)}d&&(u.setAttribute("width",t),u.setAttribute("height",a));var p=document.createElement("style");p.innerHTML="svg"===n?"@import url(https://fonts.googleapis.com/css?family=Titillium+Web:400);":'.kedro {\n      font-family: "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif;\n      letter-spacing: -0.4px;\n    }',u.prepend(p),l(u,"kedro-pipeline","svg"===n?{css:"internal"}:void 0),c.parentNode.removeChild(u)},lo=(a(430),Object(d.b)((function(e){return{graphSize:e.graph.size||{},visible:e.visible,theme:e.theme}}),(function(e){return{onToggle:function(t){e(k(t))}}}))((function(e){var t=e.graphSize,a=e.theme,n=e.onToggle,r=e.visible;return r.exportBtn?Object(Da.jsx)(io.a,{title:"Export pipeline visualisation",onClose:function(){return n(!1)},theme:a,visible:r.exportModal,children:Object(Da.jsxs)("div",{className:"pipeline-export-modal",children:[Object(Da.jsx)(Ia.a,{theme:a,onClick:function(){so({format:"png",theme:a,graphSize:t}),n(!1)},children:"Download PNG"}),Object(Da.jsx)(Ia.a,{theme:a,onClick:function(){so({format:"svg",theme:a,graphSize:t}),n(!1)},children:"Download SVG"})]})}):null}))),co=(a(431),Object(d.b)((function(e){return{visible:e.visible,theme:e.theme,flags:e.flags}}),(function(e){return{onClose:function(t){e(T(t))},onToggleFlag:function(t,a){e(q(t,a))}}}))((function(e){var t=e.theme,a=e.onClose,n=e.onToggleFlag,r=e.visible,i=e.flags;if(!r.settingsBtn)return null;var o=Ee.names().map((function(e){return{name:de[e].name,value:e,description:de[e].description}}));return Object(Da.jsx)("div",{className:"pipeline-settings-modal",children:Object(Da.jsx)(io.a,{title:"Settings",theme:t,onClose:function(){return a(!1)},visible:r.settingsModal,children:Object(Da.jsxs)("div",{className:"pipeline-settings-modal__content",children:[Object(Da.jsx)("div",{className:"pipeline-settings-modal__subtitle",children:"Flags"}),Object(Da.jsxs)("div",{className:"pipeline-settings-modal__header",children:[Object(Da.jsx)("div",{className:"pipeline-settings-modal__name",children:"Name"}),Object(Da.jsx)("div",{className:"pipeline-settings-modal__state",children:"State"}),Object(Da.jsx)("div",{className:"pipeline-settings-modal__description",children:"Description"})]}),o.map((function(e,t){var a=e.name,r=e.value,o=e.description;return Object(Da.jsxs)("div",{className:"pipeline-settings-modal__column",children:[Object(Da.jsx)("div",{className:"pipeline-settings-modal__name",children:a}),Object(Da.jsx)(ao,{id:r,className:"pipeline-settings-modal__state",title:i[r]?"On":"Off",checked:i[r],onChange:function(e){return n(r,e.target.checked)}}),Object(Da.jsx)("div",{className:"pipeline-settings-modal__description",children:o})]},r)}))]})})})}))),uo=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M21 3v18H3v-9.133h2V19h14V5h-7V3h9zm-16.293.293L11 9.586V8h2v5H8v-2h1.586L3.293 4.707l1.414-1.414z"})})},po=function(e){var t=e.className;return Object(Da.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Da.jsx)("path",{d:"M14.312 5.244c.387.336.454.905.172 1.318l-.071.093-3.574 4.122 31.684-.058c.552-.001 1 .446 1.002.998 0 .513-.385.936-.882.995l-.117.007-31.323.058 3.225 3.9c.326.395.298.967-.048 1.328l-.086.08c-.395.326-.967.298-1.328-.048l-.08-.086-5.326-6.443L12.9 5.345c.362-.417.994-.462 1.41-.1z"})})},fo=(a(432),Object(d.b)((function(e){return{visible:e.visible,metadata:Oa(e),theme:e.theme}}),(function(e){return{onToggle:function(t){e(S(t))}}}))((function(e){var t=e.metadata,a=e.onToggle,n=e.visible,r=Wt(null===t||void 0===t?void 0:t.datasetType,null===t||void 0===t?void 0:t.node.type),i=function(){a(!1)};return n.plotModal?Object(Da.jsxs)("div",{className:"pipeline-plotly-modal",children:[Object(Da.jsxs)("div",{className:"pipeline-plot-modal__top",children:[Object(Da.jsxs)("button",{className:"pipeline-plot-modal__back",onClick:i,children:[Object(Da.jsx)(po,{className:"pipeline-plot-modal__back-icon"}),Object(Da.jsx)("span",{className:"pipeline-plot-modal__back-text",children:"Back"})]}),Object(Da.jsxs)("div",{className:"pipeline-plot-modal__header",children:[Object(Da.jsx)(Ya,{className:"pipeline-plot-modal__icon",icon:r}),Object(Da.jsx)("span",{className:"pipeline-plot-modal__title",children:t.node.name})]})]}),Object(Da.jsx)(Di,{data:t.plot.data,layout:t.plot.layout,view:"modal"}),Object(Da.jsx)("div",{className:"pipeline-plot-modal__bottom",children:Object(Da.jsxs)("button",{className:"pipeline-plot-modal__collapse-plot",onClick:i,children:[Object(Da.jsx)(uo,{className:"pipeline-plot-modal__collapse-plot-icon"}),Object(Da.jsx)("span",{className:"pipeline-plot-modal__collapse-plot-text",children:"Collapse Plotly Visualization"})]})})]}):null}))),mo=(a(433),"M11.4 90.3q-1.4-2.4 0-4.7l42.3-73.3q1.3-2.3 4-2.3h84.6q2.7 0 4 2.3l42.4 73.3q1.3 2.3 0 4.7l-42.3 73.2q-1.4 2.4-4.1 2.4H57.7q-2.7 0-4-2.4z"),_o=function(e){var t=e.className,a=e.visible;return Object(Da.jsxs)("svg",{className:Ca()(t,"pipeline-loading-icon",{"pipeline-loading-icon--visible":a}),viewBox:"0 0 200 180",children:[Object(Da.jsx)("path",{d:mo}),Object(Da.jsx)("path",{d:mo})]})},go=Object(ht.a)([function(e){return e.loading.graph},function(e){return e.loading.pipeline},function(e){return!e.fontLoaded},function(e){return e.loading.node}],(function(e,t,a,n){return e||t||a||n})),ho=(a(434),Object(d.b)((function(e){return{loading:go(e),theme:e.theme}}))((function(e){var t=e.loading,a=e.theme;return Object(Da.jsxs)("div",{className:Ca()("kedro-pipeline kedro",{"kui-theme--dark":"dark"===a,"kui-theme--light":"light"===a}),children:[Object(Da.jsx)("h1",{className:"pipeline-title",children:"Kedro-Viz"}),Object(Da.jsx)(Oi,{}),Object(Da.jsx)(no,{}),Object(Da.jsxs)("div",{className:"pipeline-wrapper",children:[Object(Da.jsx)(Ra,{}),Object(Da.jsx)(xn,{}),Object(Da.jsx)(_o,{className:"pipeline-wrapper__loading",visible:t})]}),Object(Da.jsx)(lo,{}),Object(Da.jsx)(co,{}),Object(Da.jsx)(fo,{})]})}))),bo=(a(435),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(s.a)(this,a),n=t.call(this,e);var r=De(e);return n.store=Ea(r),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){"json"===this.props.data&&this.store.dispatch(function(){var e=Object(K.a)(X.a.mark((function e(t,a){var n,r,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("json"===a().dataSource){e.next=3;break}return e.abrupt("return");case 3:return t(Fe(!0)),n=ge("main"),e.next=7,ye(n).then((function(e){return ze(e,!0)}));case 7:if(!((o=(r=e.sent).pipeline).ids.length&&o.main&&o.active&&o.active!==o.main)){e.next=13;break}return i=qe(r.pipeline),e.next=12,ye(i).then(ze);case 12:r=e.sent;case 13:t(j(r)),t(Fe(!1));case 15:case"end":return e.stop()}var o}),e)})));return function(t,a){return e.apply(this,arguments)}}()),this.loadWebFonts(),this.announceFlags(this.store.getState().flags)}},{key:"componentDidUpdate",value:function(e){e.data!==this.props.data&&this.updatePipelineData()}},{key:"announceFlags",value:function(e){var t=function(e){var t=Ee.names();if(t.length>0){var a="Experimental features \ud83c\udfc4\u200d\u2642\ufe0f\n";return t.forEach((function(t){if(!de[t].private){var n=e[t],r=n?"Enabled":"Disabled",i=n?"\ud83d\udfe2":"\u26aa\ufe0f",o=de[t].icon,s=de[t].description;a+="\n".concat(i," ").concat(o,' "').concat(t,'" \xb7 ').concat(s," \xb7 ").concat(r)}})),a+="\n\nSee docs on flags for more info \ud83d\udcd6",a+="\nhttps://github.com/quantumblacklabs/kedro-viz#flags"}}(e);t&&"undefined"===typeof jest&&console.info(t)}},{key:"loadWebFonts",value:function(){var e=this,t=function(){e.store.dispatch({type:L,fontLoaded:!0})};f()({active:t,inactive:t})}},{key:"updatePipelineData",value:function(){var e=ze(this.props.data,!0);this.store.dispatch(j(e))}},{key:"render",value:function(){return this.props.data?Object(Da.jsx)(d.a,{store:this.store,children:Object(Da.jsx)(ho,{})}):null}}]),a}(r.a.Component)),yo=a(196),vo=a.n(yo),jo=function(){var e,t;try{t=(e=new URL(document.location.href)).searchParams.get("seed")}catch(a){return void console.warn("Random data seeding is not supported in this browser")}return t||(t=function(e){for(var t=[],a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t.push(a.charAt(Math.floor(Math.random()*a.length)));return t.join("")}(30),e.searchParams.set("seed",t)),"undefined"===typeof jest&&console.info("%cRandom data seed: ".concat(t,"\nTo reuse this layout, visit ").concat(e.toString()),"font-weight: bold"),t},Oo=function(e){return Array.from(Array(e).keys())},xo="lorem ipsum dolor sit amet consectetur adipiscing elit vestibulum id turpis nunc nulla vitae diam dignissim fermentum elit sit amet viverra libero quisque condimentum pellentesque convallis sed consequat neque ac rhoncus finibus".split(" "),ko=function(){var e=jo(),t=vo()(e),a=function(e){return Math.floor(t()*e)},n=function(e){return Math.ceil(t()*e)},r=function(e){return e[a(e.length)]};return{random:t,randomIndex:a,randomNumber:n,randomNumberBetween:function(e,t){return n(t-e)+e},getRandom:r,getRandomName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return Oo(e).map((function(){return r(xo)})).join(t)},getRandomSelection:function(e,a){var n=new Array(a),r=e.length,i=new Array(r);if(a>r)return e;for(;a--;){var o=Math.floor(t()*r);n[a]=e[o in i?i[o]:o],i[o]=--r in i?i[r]:r}return n}}},wo=["Raw","Intermediate","Primary","Feature","Model Input","Model Output"],To=function(){function e(){Object(s.a)(this,e),this.utils=ko(),this.pipelines=this.generatePipelines(),this.modularPipelines=this.generateModularPipelines(),this.rankCount=this.getRankCount(),this.rankLayers=this.getRankLayers(),this.tags=this.generateTags(),this.nodes=this.generateNodes(),this.edges=this.generateEdges(),this.update(),this.finalise()}return Object(l.a)(e,[{key:"generatePipelines",value:function(){for(var e=["Default"],t=this.utils.randomNumberBetween(2,15),a=1;a<t;a++)e.push(this.utils.getRandomName(this.utils.randomNumber(4)," "));return e.filter(he)}},{key:"generateModularPipelines",value:function(){for(var e=["Data Science"],t=this.utils.randomNumberBetween(2,15),a=1;a<t;a++)e.push(this.utils.getRandomName(this.utils.randomNumber(4)," "));return e.filter(he)}},{key:"getRankCount",value:function(){var e=this.utils.randomNumberBetween(10,50);return!e%2&&(e+=1),e}},{key:"getRankLayers",value:function(){for(var e=_e(wo,(function(){return 0})),t=0;t<this.rankCount;t++)e[this.utils.getRandom(wo)]++;for(var a={},n=0,r=0;n<this.rankCount;n++){for(;e[wo[r]]<1;)r++;a[n]=wo[r],e[wo[r]]--}return a}},{key:"generateTags",value:function(){var e=this,t=this.utils.randomNumber(20);return Oo(t).map((function(){return e.utils.getRandomName(e.utils.randomNumber(5))})).filter(he)}},{key:"generateNodes",value:function(){for(var e=[],t=0;t<this.rankCount;t++)for(var a=this.getRankNodeCount(t),n=0;n<a;n++){var r=this.createNode(n,t);e.push(r)}return e}},{key:"getRankNodeCount",value:function(){return Math.min(1/this.utils.random(),10)}},{key:"getType",value:function(e){return e.rank%2?"task":!e._sources.length&&this.utils.random()<.2?"parameters":"data"}},{key:"createNode",value:function(e,t){var a=this.rankLayers[t];return{id:"".concat(a,"_").concat(t,"_").concat(e),name:null,full_name:null,type:null,rank:t,layer:a,pipelines:this.getNodePipelines(),modular_pipelines:this.getNodeModularPipelines(),tags:this.getRandomTags(),_sources:[],_targets:[]}}},{key:"getNodeName",value:function(e){var t=this.utils.getRandomName(this.utils.randomNumber(10)," ");return"parameters"===e?"Parameters ".concat(t):t}},{key:"getNodeMetaData",value:function(e){var t=this,a=this.utils,n=a.getRandomName,r=a.randomNumber;"task"===e.type?e.code=this.generateCodeSnippet():"data"===e.type&&(e.datasetType=n(r(2))),e.filepath=n(r(10),"/"),e.parameters=_e(Oo(r(10)).map((function(){return n(r(2),"_")})),(function(){return t.utils.randomNumber(50)/10}))}},{key:"generateCodeSnippet",value:function(){var t=Object.getOwnPropertyNames(e.prototype),a=this.utils.randomIndex(t.length),n=e.prototype[t[a]].toString();return a>0&&(n="function "+n.replace(/\n\s\s/g,"\n")),n}},{key:"getNodePipelines",value:function(){var e=this;return this.pipelines.reduce((function(t,a,n){return 0===n||e.utils.randomIndex(2)?t.concat(a):t}),[])}},{key:"getNodeModularPipelines",value:function(){var e=this;return this.modularPipelines.reduce((function(t,a,n){return 0===n||e.utils.randomIndex(2)?t.concat(a):t}),[])}},{key:"getRandomTags",value:function(){return this.utils.getRandomSelection(this.tags,this.utils.randomNumber(this.tags.length))}},{key:"getNodesByRank",value:function(){var e,t={},a=Object(bt.a)(this.nodes);try{for(a.s();!(e=a.n()).done;){var n=e.value;t[n.rank]=t[n.rank]||[],t[n.rank].push(n)}}catch(r){a.e(r)}finally{a.f()}return t}},{key:"generateEdges",value:function(){for(var e=this,t=[],a=this.utils.randomNumberBetween(100,200),n=this.getNodesByRank(),r=Object.keys(n).map((function(e){return parseFloat(e)})).sort((function(e,t){return e-t})),i=function(t){var a=r[t],i=n[a];return i[e.utils.randomIndex(i.length)]},o=0;o<a;o+=1){var s=this.utils.randomIndex(r.length-1),l=i(s),c=r.length-1-s,u=Math.round(.5/this.utils.random()),d=i(s+Math.min(u,c)),p={source:l.id,target:d.id,_sourceNode:l,_targetNode:d};t.push(p),l._targets.push(p),d._sources.push(p)}return t}},{key:"activeNodes",value:function(){var e,t={},a=function(e){return e._sources.length+e._targets.length},n=Object(bt.a)(this.edges);try{for(n.s();!(e=n.n()).done;){var r=e.value;a(r._sourceNode)+a(r._targetNode)>2&&(t[r._sourceNode.id]=r._sourceNode,t[r._targetNode.id]=r._targetNode)}}catch(i){n.e(i)}finally{n.f()}return Object.values(t)}},{key:"activeTags",value:function(){return this.nodes.reduce((function(e,t){return t.tags?e.concat(t.tags):e}),[]).filter(he).map((function(e){return{name:e,id:e}}))}},{key:"activeEdges",value:function(){var e=_e(this.nodes.map((function(e){return e.id})),(function(){return!0}));return this.edges.filter((function(t){return e[t.target]&&e[t.source]}))}},{key:"update",value:function(){var e,t=this,a={},n=Object(bt.a)(this.nodes);try{for(n.s();!(e=n.n()).done;){a[e.value.id]=[]}}catch(p){n.e(p)}finally{n.f()}var r,i=Object(bt.a)(this.edges);try{for(i.s();!(r=i.n()).done;){var o=r.value;a[o.source].push(o.target)}}catch(p){i.e(p)}finally{i.f()}for(var s=Xt()(a),l=0;l<s.length;l++){var c,u=Object(bt.a)(s[l]);try{var d=function(){var e=c.value,a=t.nodes.find((function(t){return t.id===e}));a.rank=l,a.type=t.getType(a),a.name=t.getNodeName(a.type),a.full_name="".concat(a.layer,"_").concat(a.type,"_").concat(a.rank,"_").concat(a.name).replace(/\s/g,"_"),t.getNodeMetaData(a)};for(u.s();!(c=u.n()).done;)d()}catch(p){u.e(p)}finally{u.f()}}}},{key:"finalise",value:function(){this.nodes=this.activeNodes(),this.tags=this.activeTags(),this.edges=this.activeEdges();var e,t=Object(bt.a)(this.nodes);try{for(t.s();!(e=t.n()).done;){var a=e.value;delete a._sources,delete a._targets}}catch(o){t.e(o)}finally{t.f()}var n,r=Object(bt.a)(this.edges);try{for(r.s();!(n=r.n()).done;){var i=n.value;delete i._targetNode,delete i._sourceNode}}catch(o){r.e(o)}finally{r.f()}}},{key:"all",value:function(){return{edges:this.edges,layers:wo,nodes:this.nodes,pipelines:this.pipelines.map((function(e){return{id:e,name:e}})),modular_pipelines:this.modularPipelines.map((function(e){return{id:e,name:e}})),tags:this.tags}}}]),e}(),No=function(){return(new To).all()},So=a(197),Mo=a(198),Eo=a(199),Po=function(){return function(e){var t=function(t){return Object.assign(t,{source:e})};switch(e){case"animals":return t(So);case"demo":return t(Mo);case"selectors":return t(Eo);case"random":return t(No());case"json":return e;default:throw new Error("Unexpected data source value '".concat(e,"'. Your input should be one of the following values: 'animals', 'demo', 'json', 'selectors', or 'random'"))}}(function(){var e=document.location.search.match(/data=(\w+)/),t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DATA_SOURCE;return e?encodeURIComponent(e[1]):t||"json"}())},Co=(a(444),function(){return Object(Da.jsx)(Da.Fragment,{children:Object(Da.jsx)(bo,{data:Po()})})});o.a.render(Object(Da.jsx)(Co,{}),document.getElementById("root"))},446:function(e,t,a){"use strict";a.r(t),a.d(t,"graphNew",(function(){return G}));var n=a(2),r=a(5),i=.5*Math.PI,o=function(e,t){return Math.round(e/t)*t},s=function(e,t){return Math.atan2(e.y-t.y,e.x-t.x)},l=function(e){return e.x-.5*e.width},c=function(e){return e.x+.5*e.width},u=function(e){return e.y-.5*e.height},d=function(e){return e.y+.5*e.height},p=function(e){var t,a={},n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;a[i.y]=a[i.y]||[],a[i.y].push(i)}}catch(d){n.e(d)}finally{n.f()}var o=Object.keys(a).map((function(e){return parseFloat(e)}));o.sort((function(e,t){return e-t}));for(var s=o.map((function(e){return a[e]})),l=0;l<s.length;l+=1){s[l].sort((function(e,t){return f(e.x,t.x,e.id,t.id)}));var c,u=Object(r.a)(s[l]);try{for(u.s();!(c=u.n()).done;){c.value.row=l}}catch(d){u.e(d)}finally{u.f()}}return s},f=function e(t,a){for(var n="string"===typeof t?t.localeCompare(a):t-a,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return 0!==n||0===i.length?n:e.apply(void 0,i)},m=function(e,t){return e.x=e.x-t.x,e.y=e.y-t.y,e.order=e.x+9999*e.y,e},_=function(e,t){return e.points.forEach((function(e){e.x=e.x-t.x,e.y=e.y-t.y})),e},g=function(e,t,a,n,r,i){var o,s,l,c=r-a,u=i-n,d=(l=1,(o=((e-a)*c+(t-n)*u)/(c*c+u*u||1))<(s=0)?s:o>l?l:o);return{x:a+c*d,y:n+u*d,ax:a,ay:n,bx:r,by:i}},h=a(16),b=a(12),y=function(e,t,a){for(var n=0;n<t;n+=1){var i,o=Object(r.a)(e);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.base.solve(s,a)}}catch(l){o.e(l)}finally{o.f()}}},v=function(e,t){var a,n=new b.c,i={},o=function(e,t){return"".concat(e.id,"_").concat(t)},s=function(e,t){var a=o(e,t);if(!i[a]){var n=i[a]=new b.e;n.property=t,n.obj=e}},l=Object(r.a)(e);try{for(l.s();!(a=l.n()).done;){var c=a.value;s(c.a,c.base.property),s(c.b,c.base.property)}}catch(h){l.e(h)}finally{l.f()}var u,d=0,p=Object(r.a)(e);try{for(p.s();!(u=p.n()).done;){var f=u.value;try{n.addConstraint(f.base.strict(f,t,i[o(f.a,f.base.property)],i[o(f.b,f.base.property)]))}catch(h){d+=1}}}catch(h){p.e(h)}finally{p.f()}d>0&&console.warn("Skipped ".concat(d," unsolvable constraints")),n.updateVariables();for(var m=0,_=Object.values(i);m<_.length;m++){var g=_[m];g.obj[g.property]=g.value()}},j={property:"y",strict:function(e,t,a,n){return new b.a(a.minus(n),b.b.Ge,t.spaceY,b.d.required)}},O={property:"y",strict:function(e,t,a,n){return new b.a(a.minus(n),b.b.Ge,t.layerSpace,b.d.required)}},x={property:"x",solve:function(e){var t=e.a,a=e.b,n=e.strength*(t.x-a.x);t.x-=n,a.x+=n},strict:function(e,t,a,n){return new b.a(a.minus(n),b.b.Eq,0,b.d.create(1,0,0,e.strength))}},k={property:"x",solve:function(e){var t=e.edgeA,a=e.edgeB,n=e.separationA,r=e.separationB,i=e.strength,o=i*((t.sourceNode.x-a.sourceNode.x-n)/n),s=i*((t.targetNode.x-a.targetNode.x-r)/r);t.sourceNode.x-=o,a.sourceNode.x+=o,t.targetNode.x-=s,a.targetNode.x+=s}},w={property:"x",strict:function(e,t,a,n){return new b.a(n.minus(a),b.b.Ge,e.separation,b.d.required)}},T=function(e){var t,a=e.nodes,n=e.edges,i=e.layers,o=e.spaceX,s=e.spaceY,l=e.spreadX,c=e.layerSpaceY,u=e.iterations,d=Object(r.a)(a);try{for(d.s();!(t=d.n()).done;){var f=t.value;f.x=0,f.y=0}}catch(w){d.e(w)}finally{d.f()}var m={spaceX:o,spaceY:s,spreadX:l,layerSpace:.5*(s+c)},_=N(n),g=S(a,i);v([].concat(Object(h.a)(_),Object(h.a)(g)),m);for(var b=p(a),j=M(n,m),O=E(n,m),x=0;x<u;x+=1)y(j,1,m),y(O,50,m);var k=P(b,m);v([].concat(Object(h.a)(k),Object(h.a)(O)),m),C(n,b,s)},N=function(e){return e.map((function(e){return{base:j,a:e.targetNode,b:e.sourceNode}}))},S=function(e,t){var a=[];if(!t)return a;for(var n=t.map((function(t){return e.filter((function(e){return e.nearestLayer===t}))})),i=0;i<n.length-1;i+=1){var o,s=n[i],l=n[i+1],c={id:"layer-".concat(i),x:0,y:0},u=Object(r.a)(s);try{for(u.s();!(o=u.n()).done;){var d=o.value;a.push({base:O,a:c,b:d})}}catch(_){u.e(_)}finally{u.f()}var p,f=Object(r.a)(l);try{for(f.s();!(p=f.n()).done;){var m=p.value;a.push({base:O,a:m,b:c})}}catch(_){f.e(_)}finally{f.f()}}return a},M=function(e,t){for(var a=t.spaceX,n=[],r=0;r<e.length;r+=1)for(var i=e[r],o=i.sourceNode,s=i.targetNode,l=o.sources.length+o.targets.length+s.sources.length+s.targets.length,c=r+1;c<e.length;c+=1){var u=e[c],d=u.sourceNode,p=u.targetNode;if(!(o.row>=p.row||s.row<=d.row)){var f=d.sources.length+d.targets.length+p.sources.length+p.targets.length;n.push({base:k,edgeA:i,edgeB:u,separationA:.5*o.width+a+.5*d.width,separationB:.5*s.width+a+.5*p.width,strength:1/Math.max(1,(l+f)/4)})}}return n},E=function(e){return e.map((function(e){var t=e.sourceNode,a=e.targetNode;return{base:x,a:t,b:a,strength:.6/Math.max(1,t.targets.length+a.sources.length-2)}}))},P=function(e,t){for(var a=t.spaceX,n=[],r=0;r<e.length;r+=1){var i=e[r];i.sort((function(e,t){return f(e.x,t.x,e.id,t.id)}));for(var s=0;s<i.length-1;s+=1){var l=i[s],c=i[s+1],u=Math.max(1,l.targets.length+l.sources.length-2),d=Math.max(1,c.targets.length+c.sources.length-2),p=Math.min(10,u*d*t.spreadX),m=o(p*a,a);n.push({base:w,a:l,b:c,separation:.5*l.width+m+.5*c.width})}}return n},C=function(e,t,a){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.25,s=z(e),l=Math.round(a*i),c=0,u=0;u<t.length-1;u+=1){var d=s[u]||0,p=o(d*n*a,l);c+=p;var f,m=Object(r.a)(t[u+1]);try{for(m.s();!(f=m.n()).done;){var _=f.value;_.y+=c}}catch(g){m.e(g)}finally{m.f()}}},z=function(e){var t,a={},n=Object(r.a)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,l=Math.abs(s(o.targetNode,o.sourceNode)-i)/i,c=o.sourceNode.row,u=o.targetNode.row-1;a[c]=a[c]||[0,0],a[c][0]+=l,a[c][1]+=1,u!==c&&(a[u]=a[u]||[0,0],a[u][0]+=l,a[u][1]+=1)}}catch(p){n.e(p)}finally{n.f()}for(var d in a)a[d]=a[d][0]/(a[d][1]||1);return Object.values(a)},I=function(e){var t,a=e.nodes,i=e.edges,o=e.spaceX,m=e.spaceY,_=e.minPassageGap,b=e.stemUnit,y=e.stemMinSource,v=e.stemMinTarget,j=e.stemMax,O=e.stemSpaceSource,x=e.stemSpaceTarget,k=p(a),w=Object(r.a)(a);try{for(w.s();!(t=w.n()).done;){t.value.targets.sort((function(e,t){return f(s(t.sourceNode,t.targetNode),s(e.sourceNode,e.targetNode))}))}}catch(he){w.e(he)}finally{w.f()}var T,N,S,M=Object(r.a)(i);try{for(M.s();!(T=M.n()).done;){var E=T.value,P=E.sourceNode,C=E.targetNode;E.points=[];for(var z=Math.min((P.width-O)/P.targets.length,O)*(P.targets.indexOf(E)-.5*(P.targets.length-1)),I={x:P.x+z,y:P.y},D=P.row+1;D<C.row;D+=1){for(var R=k[D][0],L={x:l(R)-o,y:R.y},A=1/0,F=[Object(n.a)(Object(n.a)({},R),{},{x:Number.MIN_SAFE_INTEGER})].concat(Object(h.a)(k[D]),[Object(n.a)(Object(n.a)({},R),{},{x:Number.MAX_SAFE_INTEGER})]),q=0;q<F.length-1;q+=1){var B=F[q],G=F[q+1],U=l(G)-c(B);if(!(U<_)){var V=Math.min(o,.5*U),H=g(I.x,I.y,c(B)+V,u(B)-m,l(G)-V,u(G)-m),W=(N=I.x,S=H.x,Math.abs(N-S));if(W>A)break;W<A&&(A=W,L=H)}}var Y=R.height+m;E.points.push({x:L.x+z,y:L.y}),E.points.push({x:L.x+z,y:L.y+Y}),I={x:L.x,y:L.y+Y}}}}catch(he){M.e(he)}finally{M.f()}var X,K=Object(r.a)(a);try{for(K.s();!(X=K.n()).done;){var Z=X.value;Z.targets.sort((function(e,t){return f(s(t.sourceNode,t.points[0]||t.targetNode),s(e.sourceNode,e.points[0]||e.targetNode))})),Z.sources.sort((function(e,t){return f(s(e.points[e.points.length-1]||e.sourceNode,e.targetNode),s(t.points[t.points.length-1]||t.sourceNode,t.targetNode))}))}}catch(he){K.e(he)}finally{K.f()}var J,Q=Object(r.a)(i);try{for(Q.s();!(J=Q.n()).done;){var $,ee=J.value,te=ee.sourceNode,ae=ee.targetNode,ne=Math.min((te.width-O)/te.targets.length,O),re=Math.min((ae.width-x)/ae.sources.length,x),ie=te.targets.indexOf(ee)-.5*(te.targets.length-1),oe=ae.sources.indexOf(ee)-.5*(ae.sources.length-1),se=ne*ie,le=re*oe,ce=b*te.targets.length*(1-Math.abs(ie)/te.targets.length),ue=b*ae.sources.length*(1-Math.abs(oe)/ae.sources.length),de=[{x:te.x+se,y:d(te)},{x:te.x+se,y:d(te)+y},{x:te.x+se,y:d(te)+y+Math.min(ce,j)}],pe=[{x:ae.x+le,y:u(ae)-v-Math.min(ue,j)},{x:ae.x+le,y:u(ae)-v},{x:ae.x+le,y:u(ae)}],fe=[].concat(de,Object(h.a)(ee.points),pe),me=fe[0].y,_e=Object(r.a)(fe);try{for(_e.s();!($=_e.n()).done;){var ge=$.value;ge.y<me?ge.y=me:me=ge.y}}catch(he){_e.e(he)}finally{_e.f()}ee.points=fe}}catch(he){Q.e(he)}finally{Q.f()}},D={layout:{spaceX:14,spaceY:110,layerSpaceY:55,spreadX:2.2,padding:100,iterations:25},routing:{spaceX:26,spaceY:28,minPassageGap:40,stemUnit:8,stemMinSource:5,stemMinTarget:5,stemMax:20,stemSpaceSource:6,stemSpaceTarget:10}},R=function(e,t){var a,n={},i=Object(r.a)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;n[o.id]=o,o.targets=[],o.sources=[]}}catch(u){i.e(u)}finally{i.f()}var s,l=Object(r.a)(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.sourceNode=n[c.source],c.targetNode=n[c.target],c.sourceNode.targets.push(c),c.targetNode.sources.push(c)}}catch(u){l.e(u)}finally{l.f()}},L=function(e,t){if(t&&t.length>0){var a,n={},i=Object(r.a)(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;n[o]=!0}}catch(f){i.e(f)}finally{i.f()}var s,l=function(e){return Boolean(e&&e.layer in n)},c=t[t.length-1],u=Object(r.a)(e);try{for(u.s();!(s=u.n()).done;){var d=s.value,p=q(d,A,F,l);d.nearestLayer=p?p.layer:c}}catch(f){u.e(f)}finally{u.f()}}},A=function(e){return e.targets.map((function(e){return e.targetNode}))},F=function(e,t){return e.rank-t.rank},q=function e(t,a,n,r,i){return r(t)?t:((i=i||{})[t.id]=!0,a(t).filter((function(e){return!i[e.id]})).sort(n).map((function(t){return e(t,a,n,r,i)})).filter(r).sort(n)[0])},B=function(e,t){var a,n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},i=Object(r.a)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value,s=o.x,l=o.y;s<n.min.x&&(n.min.x=s),s>n.max.x&&(n.max.x=s),l<n.min.y&&(n.min.y=l),l>n.max.y&&(n.max.y=l)}}catch(c){i.e(c)}finally{i.f()}return n.width=n.max.x-n.min.x+2*t,n.height=n.max.y-n.min.y+2*t,n.min.x-=t,n.min.y-=t,n},G=function(e){var t=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D;R(e,t),L(e,a),T(Object(n.a)({nodes:e,edges:t,layers:a},r.layout)),I(Object(n.a)({nodes:e,edges:t,layers:a},r.routing));var i=B(e,r.layout.padding);return e.forEach((function(e){return m(e,i.min)})),t.forEach((function(e){return _(e,i.min)})),{nodes:e,edges:t,layers:a,size:i}}(e.nodes,e.edges,e.layers);return Object(n.a)(Object(n.a)({},t),{},{size:Object(n.a)(Object(n.a)({},t.size),{},{marginx:100,marginy:100})})}},59:function(e,t,a){}},[[445,1,2]]]);
//# sourceMappingURL=main.80748aa4.chunk.js.map